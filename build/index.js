!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("G6Editor",[],e):"object"==typeof exports?exports.G6Editor=e():t.G6Editor=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,i){r.apply(this,[t,e,i].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){"use strict";var r=n(171),i=n(34),o=n(248);r.Page=n(2),r.Flow=n(218),r.Mind=n(237),r.Util=n(12),r.Minimap=n(173),r.Toolbar=n(246),r.Contextmenu=n(169),r.Itempannel=n(172),r.Detailpannel=n(170),r.Command=n(34),r.registerBehaviour=r.Page.registerBehaviour,r.registerNode=r.Page.registerNode,r.registerEdge=r.Page.registerEdge,r.registerGroup=r.Page.registerGroup,r.registerGuide=r.Page.registerGuide,r.registerCommand=i.registerCommand,r.version=o,t.exports=r},function(t,e,n){"use strict";var r={},i=n(74),o=n(163),a=n(22),u=n(73),s=n(161),c=n(162),f=n(160);a.mix(r,a,s,c,u,o,i,f),t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=[];return u.isString(t)?n=[e,t]:u.isArray(t)?(t.unshift(e),n=t):n=[e],n.unshift("page-base"),n}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(14),a=n(3),u=n(7),s={getPath:function(){},getStyle:function(){},getActivedStyle:function(){},getSelectedStyle:function(){}};o.registerNode("page-base",i({},s)),o.registerEdge("page-base",i({},s)),o.registerGroup("page-base",i({},s)),a.registerBehaviour=function(t,e,n){o.registerBehaviour(t,function(t){var n=t.get("page");n.set("_graph",t),e(n)},n)},a.setRegister=function(t,e,n,i){t.registerNode=o.registerNode,t.registerEdge=o.registerEdge,t.registerGroup=o.registerGroup,t.registerGuide=o.registerGuide,e&&(t.registerNode=function(t,n,i){a.registerNode(t,n,r(i,e))}),n&&(t.registerEdge=function(t,e,i){a.registerEdge(t,e,r(i,n))}),i&&(t.registerGroup=function(t,e,n){a.registerGroup(t,e,r(n,i))})},a.registerNode=o.registerNode,a.registerEdge=o.registerEdge,a.registerGroup=o.registerGroup,a.registerGuide=o.registerGuide,n(187),t.exports=a},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(75),s=n(7),c=n(199),f=n(200),h=n(198),l=n(201),d=n(195),p=n(196),g=n(197),v=n(202),m=[c,l,d,f,h,p,g,v],y=function(t){function e(n){i(this,e);var r={defaultData:null,shortcut:{redo:!0,undo:!0,delete:!0,resetZoom:!0,autoZoom:!0,zoomIn:!0,zoomOut:!0},_controllers:{},_signals:{}};s.each(m,function(t){s.mix(r,t.CFG)}),s.mix(!0,r,n);var a=o(this,t.call(this,r));return a.isPage=!0,a.type="page",a._init(),a}return a(e,t),e.prototype.getDelegation=function(){},e.prototype.focusGraphWarrper=function(){var t=this.getGraph();t.getMouseEventWarrper().focus()},e.prototype.saveImage=function(){var t=this,e=this.getGraph(),n=e.getBBox(),r=e.getFitViewPadding(),i=void 0,o=void 0;return s.graph2Canvas({graph:e,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2],beforeTransform:function(){i=t.getSelected().map(function(t){return t.id}),o=t.getSelected().map(function(t){return t.id}),t.clearSelected(),t.clearActived()},afterTransform:function(){t.setSelected(i,!0),t.setActived(o,!0)}})},e.prototype.executeCommand=function(t,e){var n=this.editor;n?n.executeCommand(t,e):t()},e.prototype.bindEvent=function(){},e.prototype.translateLimt=function(){return!0},e.prototype._init=function(){var t=this;s.each(m,function(e){e.INIT&&t[e.INIT]()}),this.bindEvent()},e.prototype.setSignal=function(t,e){var n=this.get("_signals");n[t]=e},e.prototype.getSignal=function(t){var e=this.get("_signals");return e[t]},e.prototype.setController=function(t,e){var n=this.get("_controllers");n[t]=e},e.prototype.getController=function(t){var e=this.get("_controllers");return e[t]},e.prototype.destroy=function(){var t=this.get("_graph"),e=this.get("_controllers");s.each(e,function(t){t.destroy()}),t.destroy()},e}(u);s.each(m,function(t){s.mix(y.prototype,t.AUGMENT)}),t.exports=y},function(t,e){"use strict";t.exports={nodeDefaultShape:"flow-node",edgeDefaultShape:"flow-smooth",groupDefaultShape:"flow-group",groupBackgroundPadding:[40,10,10,10],groupLabelOffsetX:10,groupLabelOffsetY:10,multiSelectRectStyle:{fill:"#1890FF",fillOpacity:.08,stroke:"#1890FF",opacity:.1},defaultNodeSize:[96,48],edgeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},edgeLabelRectPadding:4,edgeLabelRectStyle:{fill:"white"},nodeLabelStyle:{fill:"#666",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:4},groupLabelStyle:{fill:"#666",textAlign:"left",textBaseline:"top"},nodeActivedOutterStyle:{stroke:null},nodeActivedOutterLineWidth:2,nodeSelectedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},nodeSelectedOutterStyle:{stroke:"#E0F0FF"},nodeSelectedOutterLineWidth:2,groupSelectedOutterStyle:{stroke:"#E0F0FF",fill:"#E0F0FF"},groupSelectedOutterLineWidth:2,nodeActivedStyle:{fill:"#F3F9FF",stroke:"#1890FF"},groupActivedStyle:{stroke:"#1890FF"},arrowRadius:6,groupSelectedStyle:{stroke:"#1890FF",fill:"#F3F9FF",fillOpacity:.92},edgeSelectedStyle:{lineWidth:2,strokeOpacity:.92,stroke:"#A3B1BF"},dragNodeHoverToGroupStyle:{stroke:"#1890FF",lineWidth:2},dragNodeLeaveFromGroupStyle:{stroke:"#BAE7FF",lineWidth:2},nodeStyle:{stroke:"#CED4D9",fill:"#FFFFFF",shadowOffsetX:0,shadowOffsetY:4,shadowBlur:10,shadowColor:"rgba(13, 26, 38, 0.08)",lineWidth:1,radius:4,fillOpacity:.92},edgeStyle:{stroke:"#A3B1BF",strokeOpacity:.92,lineWidth:1,lineAppendWidth:8,endArrow:!0},edgeActivedStyle:{stroke:"#1890FF",strokeOpacity:.92},anchorPointStyle:{radius:3.5,fill:"#fff",stroke:"#1890FF",lineAppendWidth:12},anchorHotsoptStyle:{radius:12,fill:"#1890FF",fillOpacity:.25},anchorHotsoptActivedStyle:{radius:14},anchorPointHoverStyle:{radius:4,fill:"#1890FF",fillOpacity:1,stroke:"#1890FF"},nodeDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},groupDelegationStyle:{stroke:"#1890FF",fill:"#1890FF",fillOpacity:.08,lineDash:[4,4],radius:4,lineWidth:1},edgeDelegationStyle:{stroke:"#697B8C",lineWidth:1},nodeControlPointStyle:{radius:4,fill:"#fff",shadowBlur:4,shadowColor:"#666"},edgeControlPointStyle:{radius:6,symbol:"square",lineAppendWidth:6,fillOpacity:0,strokeOpacity:0},nodeSelectedBoxStyle:{stroke:"#C2C2C2"},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab",hoverNode:"move",hoverEffectiveAnchor:"crosshair",hoverEdge:"default",hoverGroup:"move",hoverUnEffectiveAnchor:"default",hoverEdgeControllPoint:"crosshair",multiSelect:"crosshair"},zIndex:{anchorPoint:3,anchorHotsopt:2,selectedBox:1,controlPoint:4},polylineEdgeStyle:{offset:10,borderRadius:5},addToGroupDelayTime:400,outFromGroupDelayTime:400}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(14),o=n(76),a=n(229),u=n(230),s=r({},i.Util,o,a,u);t.exports=s},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(12),o=n(35);t.exports=r({},i,{getPanCanvasBehaviour:function(t){return function(e){function n(){s=void 0,c=void 0,e.setCapture(!0)}var r=e.getGraph(),a=r.getFrontCanvas(),u=r.getCanvas(),s=void 0,c=void 0;r.behaviourOn("canvas:mouseenter",function(){e.css({cursor:o.cursor.beforePanCanvas})}),r.behaviourOn("mouseleave",function(t){t.toShape||e.css({cursor:o.cursor.beforePanCanvas})}),r.behaviourOn("dragstart",function(n){(2!==n.button&&!t||!n.shape||n.item&&n.item.dragable===!1)&&(s={x:n.domX,y:n.domY},e.css({cursor:o.cursor.panningCanvas}),c=r.getMatrix(),e.setCapture(!1))}),r.behaviourOn("drag",function(t){if(s){var n=t.domX-s.x,o=t.domY-s.y,f=[];i.mat3.translate(f,c,[n,o]),e.translateLimt(f)&&(r.updateMatrix(f),u.draw(),a.draw())}}),r.behaviourOn("dragend",function(){n(),e.css({cursor:o.cursor.beforePanCanvas})})}},getLabelTextByTextLineWidth:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320,r=e.measureText(t).width;if(r>n){r=0;for(var i=1;i<t.length;i++)r+=e.measureText(t[i]).width,r>=n&&(t=t.substring(0,i)+"\n"+t.substring(i,t.length),i+=1,r=0)}return t}})},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=114)}([function(t,e,n){var r=n(17),i=n(88),o={};r.merge(o,r,i,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};o.each(e,function(e){o.augment(t,e);var i=e[n];i&&o.merge(r,i)}),t[n]=o.merge(r,t[n])}}}),t.exports=o},function(t,e,n){var r=n(0),i=n(91),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={},r.extend(a,i),r.augment(a,{isShape:!0,createPath:function(){},drawInner:function(t){var e=this,n=e.__attrs;e.createPath(t);var i=t.globalAlpha;if(e.hasFill()){var o=n.fillOpacity;r.isNil(o)||1===o?t.fill():(t.globalAlpha=o,t.fill(),t.globalAlpha=i)}if(e.hasStroke()){var a=e.__attrs.lineWidth;if(a>0){var u=n.strokeOpacity;r.isNil(u)||1===u||(t.globalAlpha=u),t.stroke()}}},isPointInPath:function(){return!1},isHitBox:function(){return!0},isHit:function(t,e){var n=this,r=[t,e,1];if(n.invert(r),n.isHitBox()){var i=n.getBBox();if(i&&!o.box(i.minX,i.maxX,i.minY,i.maxY,r[0],r[1]))return!1}var a=n.__attrs.clip;return a?!!a.inside(t,e)&&n.isPointInPath(r[0],r[1]):n.isPointInPath(r[0],r[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this.__attrs,e=t.lineAppendWidth||0,n=t.lineWidth||0;return n+e},clearTotalMatrix:function(){this.__cfg.totalMatrix=null,this.__cfg.region=null},clearBBox:function(){this.__cfg.box=null,this.__cfg.region=null},getBBox:function(){var t=this.__cfg.box;return t||(t=this.calculateBox(),t&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this.__cfg.box=t),t}}),t.exports=a},function(t,e,n){var r=n(52),i=n(53),o=n(32),a=n(54);t.exports={line:function(t,e,n,i,o,a,u){var s=r.box(t,e,n,i,o);if(!this.box(s.minX,s.maxX,s.minY,s.maxY,a,u))return!1;var c=r.pointDistance(t,e,n,i,a,u);return!isNaN(c)&&c<=o/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var o=0;o<i;o++){var a=t[o][0],u=t[o][1],s=t[o+1][0],c=t[o+1][1];if(this.line(a,u,s,c,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,a,u,s,c,f,h){return o.pointDistance(t,e,n,r,i,a,u,s,f,h)<=c/2},quadraticline:function(t,e,n,r,o,a,u,s,c){return i.pointDistance(t,e,n,r,o,a,s,c)<=u/2},arcline:function(t,e,n,r,i,o,u,s,c){return a.pointDistance(t,e,n,r,i,o,s,c)<=u/2},rect:function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,o){return t<=i&&i<=e&&n<=o&&o<=r}}},function(t,e,n){var r=n(17),i=n(231),o=n(232),a=n(233);a.angle=function(t,e){var n=a.dot(t,e)/(a.length(t)*a.length(e));return Math.acos(r.clamp(n,-1,1))},a.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},a.angleTo=function(t,e,n){var r=a.angle(t,e),i=a.direction(t,e)>=0;return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},a.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports={mat3:i,vec2:a,vec3:o,transform:function(t,e){return t=r.clone(t),r.each(e,function(e){switch(e[0]){case"t":i.translate(t,t,[e[1],e[2]]);break;case"s":i.scale(t,t,[e[1],e[2]]);break;case"r":i.rotate(t,t,e[1]);break;case"m":i.multiply(t,t,e[1]);break;default:return!1}}),t}}},function(t,e){function n(t){return null!=t&&"object"==("undefined"==typeof t?"undefined":r(t))}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(57),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){function r(t){return null==t?void 0===t?s:u:c&&c in Object(t)?o(t):a(t)}var i=n(11),o=n(117),a=n(118),u="[object Null]",s="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){var e="undefined"==typeof t?"undefined":r(t);return null!=t&&("object"==e||"function"==e)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(22),o=n(62);t.exports=r},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(125),o=n(128);t.exports=r},function(t,e,n){var r=n(5),i=r.Symbol;t.exports=i},function(t,e,n){var r=n(124),i=n(33),o=n(129),a=n(130),u=n(131),s=n(7),c=n(61),f="[object Map]",h="[object Object]",l="[object Promise]",d="[object Set]",p="[object WeakMap]",g="[object DataView]",v=c(r),m=c(i),y=c(o),x=c(a),b=c(u),_=s;(r&&_(new r(new ArrayBuffer(1)))!=g||i&&_(new i)!=f||o&&_(o.resolve())!=l||a&&_(new a)!=d||u&&_(new u)!=p)&&(_=function(t){var e=s(t),n=e==h?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return g;case m:return f;case y:return l;case x:return d;case b:return p}return e}),t.exports=_},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=r?r(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):i(n,c,f)}return n}var i=n(39),o=n(40);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(67),o=n(59),a=n(9);t.exports=r},function(t,e,n){"use strict";var r=n(49);n.d(e,"a",function(){return r.e}),n.d(e,"f",function(){return r.g}),n.d(e,"d",function(){return r.f});var i=n(250);n.d(e,"e",function(){return i.a}),n.d(e,"c",function(){return i.b});var o=n(251);n.d(e,"b",function(){return o.a})},function(t,e,n){function r(t,e,n,r,i,o){var a=void 0,u=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0;if(!e.fill){var x=e.arrowLength||l,b=e.arrowAngle?e.arrowAngle*s/180:d;y=h(o-r,i-n),y-=s,v=e.lineWidth*f(y),m=e.lineWidth*c(y),a=i+x*f(y+b/2),u=o+x*c(y+b/2),p=i+x*f(y-b/2),g=o+x*c(y-b/2),t.moveTo(a-v,u-m),t.lineTo(i-v,o-m),t.lineTo(p-v,g-m),t.moveTo(i-v,o-m),t.lineTo(i+v,o+m),t.moveTo(i,o)}}function i(t,e,n,r,i,o,s){var c=s.shape,f=c.__attrs,h=f.symbol,l=f.x||i,d=f.y||o,p=f.r||e.lineWidth;u.isFunction(h)||(h=a.Symbols[h||"triangle"]);var g=void 0,v=n-i,m=r-o;0===m?g=v<0?Math.PI/2:270*Math.PI/180:v>=0&&m>0?g=-Math.atan(v/m):v<=0&&m<0?g=Math.PI-Math.atan(v/m):v>0&&m<0?g=Math.PI+Math.atan(-v/m):v<0&&m>0&&(g=Math.atan(v/-m)),t.translate(l,d),t.rotate(g),t.translate(-l,-d),t.translate(-s.dx||0,-s.dy||0),h(l,d,p,t,c),t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill()}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(56),u=n(0),s=Math.PI,c=Math.sin,f=Math.cos,h=Math.atan2,l=10,d=s/3;t.exports={addStartArrow:function(t,e,n,a,u,s){"object"===o(e.startArrow)?i(t,e,n,a,u,s,e.startArrow):e.startArrow&&r(t,e,n,a,u,s)},addEndArrow:function(t,e,n,a,u,s){"object"===o(e.endArrow)?i(t,e,n,a,u,s,e.endArrow):e.endArrow&&r(t,e,n,a,u,s)}}},function(t,e,n){var r=1e-5,i=Math.PI/180,o=180/Math.PI;t.exports={isFunction:n(22),isObject:n(8),isBoolean:n(119),isNil:n(120),isString:n(58),isArray:n(6),isNumber:n(121),isEmpty:n(122),uniqueId:n(135),clone:n(138),assign:n(181),merge:n(189),upperFirst:n(196),remove:n(202),each:n(210),isEqual:n(215),toArray:n(225),extend:function(t,e,n,r){this.isFunction(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=this.merge(o,t.prototype),t.superclass=i(e.prototype,e),this.merge(o,n),this.merge(t,r),t},augment:function(t){for(var e=this.toArray(arguments),n=1;n<e.length;n++){var r=e[n];this.isFunction(r)&&(r=r.prototype),this.merge(t.prototype,r)}},isNumberEqual:function(t,e){return Math.abs(t-e)<r},toRadian:function(t){return i*t},toDegree:function(t){return o*t},mod:function(t,e){return(t%e+e)%e},clamp:function(t,e,n){return t<e?e:t>n?n:t}}},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(5),o=n(133),a="object"==r(e)&&e&&!e.nodeType&&e,u=a&&"object"==r(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a,c=s?i.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||o;t.exports=h}).call(e,n(35)(t))},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){"use strict";function r(t,e){return function(n){return t+n*e}}function i(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function o(t,e){var n=e-t;return n?r(t,n>180||n<-180?n-360*Math.round(n/360):n):Object(s.a)(isNaN(t)?e:t)}function a(t){return 1===(t=+t)?u:function(e,n){return n-e?i(e,n,t):Object(s.a)(isNaN(e)?n:e)}}function u(t,e){var n=e-t;return n?r(t,n):Object(s.a)(isNaN(t)?e:t)}e.c=o,e.b=a,e.a=u;var s=n(95)},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==u||e==s||e==a||e==c}var i=n(7),o=n(8),a="[object AsyncFunction]",u="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){var r=n(134),i=n(24),o=n(36),a=o&&o.isTypedArray,u=a?i(a):r;t.exports=u},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(140),o=n(141),a=n(142),u=n(143),s=n(144);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(20);t.exports=r},function(t,e,n){var r=n(10),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(158);t.exports=r},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(67),o=n(165),a=n(9);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return t+e*n}}},function(t,e,n){function r(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}function i(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function o(t,e,n,i,o,a,u,s,c,h,l){var d=void 0,p=.005,g=1/0,v=void 0,m=void 0,y=void 0,x=void 0,b=void 0,_=void 0,w=void 0,S=1e-4,M=[c,h];for(v=0;v<1;v+=.05)m=[r(t,n,o,u,v),r(e,i,a,s,v)],y=f.squaredDistance(M,m),y<g&&(d=v,g=y);g=1/0;for(var O=0;O<32&&!(p<S);O++)_=d-p,w=d+p,m=[r(t,n,o,u,_),r(e,i,a,s,_)],y=f.squaredDistance(M,m),_>=0&&y<g?(d=_,g=y):(b=[r(t,n,o,u,w),r(e,i,a,s,w)],x=f.squaredDistance(M,b),w<=1&&x<g?(d=w,g=x):p*=.5);return l&&(l.x=r(t,n,o,u,d),l.y=r(e,i,a,s,d)),Math.sqrt(g)}function a(t,e,n,r){var i=3*t-9*e+9*n-3*r,o=6*e-12*n+6*r,a=3*n-3*r,u=[],s=void 0,f=void 0,h=void 0;if(c.isNumberEqual(i,0))c.isNumberEqual(o,0)||(s=-a/o,s>=0&&s<=1&&u.push(s));else{var l=o*o-4*i*a;c.isNumberEqual(l,0)?u.push(-o/(2*i)):l>0&&(h=Math.sqrt(l),s=(-o+h)/(2*i),f=(-o-h)/(2*i),s>=0&&s<=1&&u.push(s),f>=0&&f<=1&&u.push(f))}return u}function u(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function s(t,e,n,r,i,o,a,s,f){c.isNil(f)&&(f=1),f=f>1?1:f<0?0:f;for(var h=f/2,l=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,v=0;v<l;v++){var m=h*d[v]+h,y=u(m,t,n,i,a),x=u(m,e,r,o,s),b=y*y+x*x;g+=p[v]*Math.sqrt(b)}return h*g}var c=n(0),f=n(3).vec2;t.exports={at:r,derivativeAt:i,projectPoint:function(t,e,n,r,i,a,u,s,c,f){var h={};return o(t,e,n,r,i,a,u,s,c,f,h),h},pointDistance:o,extrema:a,len:s}},function(t,e,n){var r=n(10),i=n(5),o=r(i,"Map");t.exports=o},function(t,e,n){var r=n(132),i=n(4),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(57),o="object"==r(e)&&e&&!e.nodeType&&e,a=o&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===o,s=u&&i.process,c=function(){try{var t=a&&a.require&&a.require("util").types;return t?t:s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=c}).call(e,n(35)(t))},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(25),o=n(145),a=n(146),u=n(147),s=n(148),c=n(149);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=s,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];u.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(40),o=n(20),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(66);t.exports=r},function(t,e,n){var r=n(168),i=n(70),o=Object.prototype,a=o.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(t){return null==t?[]:(t=Object(t),r(u(t),function(e){return a.call(t,e)}))}:i;t.exports=s},function(t,e,n){var r=n(60),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(75);t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e){var n={};n.EPSILON=1e-6,n.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,n.RANDOM=Math.random,n.ENABLE_SIMD=!1,n.SIMD_AVAILABLE=n.ARRAY_TYPE===Float32Array&&"SIMD"in this,n.USE_SIMD=n.ENABLE_SIMD&&n.SIMD_AVAILABLE,n.setMatrixArrayType=function(t){n.ARRAY_TYPE=t};var r=Math.PI/180;n.toRadian=function(t){return t*r},n.equals=function(t,e){return Math.abs(t-e)<=n.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=n},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(17),o="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",a=new RegExp("([a-z])["+o+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+o+"]*,?["+o+"]*)+)","ig"),u=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+o+"]*,?["+o+"]*","ig"),s=function(t){if(!t)return null;if(("undefined"==typeof t?"undefined":r(t))===r([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(a,function(t,r,i){var o=[],a=r.toLowerCase();if(i.replace(u,function(t,e){e&&o.push(+e)}),"m"===a&&o.length>2&&(n.push([r].concat(o.splice(0,2))),a="l",r="m"===r?"l":"L"),"o"===a&&1===o.length&&n.push([r,o[0]]),"r"===a)n.push([r].concat(o));else for(;o.length>=e[a]&&(n.push([r].concat(o.splice(0,e[a]))),e[a]););}),n},c=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},f=function(t,e,n,r,i){var o=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var a=Math.PI/180,u=t+n*Math.cos(-r*a),s=t+n*Math.cos(-i*a),c=e+n*Math.sin(-r*a),f=e+n*Math.sin(-i*a);o=[["M",u,c],["A",n,n,0,+(i-r>180),0,s,f]]}else o=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return o},h=function(t){if(t=s(t),!t||!t.length)return[["M",0,0]];var e=[],n=0,r=0,i=0,o=0,a=0,u=void 0,h=void 0;"M"===t[0][0]&&(n=+t[0][1],r=+t[0][2],i=n,o=r,a++,e[0]=["M",n,r]);for(var l,d,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=a,v=t.length;g<v;g++){if(e.push(l=[]),d=t[g],u=d[0],u!==u.toUpperCase())switch(l[0]=u.toUpperCase(),l[0]){case"A":l[1]=d[1],l[2]=d[2],l[3]=d[3],l[4]=d[4],l[5]=d[5],l[6]=+d[6]+n,l[7]=+d[7]+r;break;case"V":l[1]=+d[1]+r;break;case"H":l[1]=+d[1]+n;break;case"R":h=[n,r].concat(d.slice(1));for(var m=2,y=h.length;m<y;m++)h[m]=+h[m]+n,h[++m]=+h[m]+r;e.pop(),e=e.concat(c(h,p));break;case"O":e.pop(),h=f(n,r,d[1],d[2]),h.push(h[0]),e=e.concat(h);break;case"U":e.pop(),e=e.concat(f(n,r,d[1],d[2],d[3])),l=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+d[1]+n,o=+d[2]+r;break;default:for(var x=1,b=d.length;x<b;x++)l[x]=+d[x]+(x%2?n:r)}else if("R"===u)h=[n,r].concat(d.slice(1)),e.pop(),e=e.concat(c(h,p)),l=["R"].concat(d.slice(-2));else if("O"===u)e.pop(),h=f(n,r,d[1],d[2]),h.push(h[0]),e=e.concat(h);else if("U"===u)e.pop(),e=e.concat(f(n,r,d[1],d[2],d[3])),l=["U"].concat(e[e.length-1].slice(-2));else for(var _=0,w=d.length;_<w;_++)l[_]=d[_];if(u=u.toUpperCase(),"O"!==u)switch(l[0]){case"Z":n=+i,r=+o;break;case"H":n=l[1];break;case"V":r=l[1];break;case"M":i=l[l.length-2],o=l[l.length-1];break;default:n=l[l.length-2],r=l[l.length-1]}}return e},l=function(t,e,n,r){return[t,e,n,r,n,r]},d=function(t,e,n,r,i,o){var a=1/3,u=2/3;return[a*t+u*n,a*e+u*r,a*i+u*n,a*o+u*r,i,o]},p=function t(e,n,r,i,o,a,u,s,c,f){r===i&&(r+=1);var h=120*Math.PI/180,l=Math.PI/180*(+o||0),d=[],p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=function(t,e,n){var r=t*Math.cos(n)-e*Math.sin(n),i=t*Math.sin(n)+e*Math.cos(n);return{x:r,y:i}};if(f)g=f[0],v=f[1],m=f[2],y=f[3];else{p=x(e,n,-l),e=p.x,n=p.y,p=x(s,c,-l),s=p.x,c=p.y,e===s&&n===c&&(s+=1,c+=1);var b=(e-s)/2,_=(n-c)/2,w=b*b/(r*r)+_*_/(i*i);w>1&&(w=Math.sqrt(w),r*=w,i*=w);var S=r*r,M=i*i,O=(a===u?-1:1)*Math.sqrt(Math.abs((S*M-S*_*_-M*b*b)/(S*_*_+M*b*b)));m=O*r*_/i+(e+s)/2,y=O*-i*b/r+(n+c)/2,g=Math.asin(((n-y)/i).toFixed(9)),v=Math.asin(((c-y)/i).toFixed(9)),g=e<m?Math.PI-g:g,v=s<m?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),u&&g>v&&(g-=2*Math.PI),!u&&v>g&&(v-=2*Math.PI)}var P=v-g;if(Math.abs(P)>h){var E=v,A=s,j=c;v=g+h*(u&&v>g?1:-1),s=m+r*Math.cos(v),c=y+i*Math.sin(v),d=t(s,c,r,i,o,0,u,A,j,[v,E,m,y])}P=v-g;var C=Math.cos(g),k=Math.sin(g),I=Math.cos(v),B=Math.sin(v),T=Math.tan(P/4),F=4/3*r*T,D=4/3*i*T,L=[e,n],N=[e+F*k,n-D*C],Y=[s+F*B,c-D*I],G=[s,c];if(N[0]=2*L[0]-N[0],N[1]=2*L[1]-N[1],f)return[N,Y,G].concat(d);d=[N,Y,G].concat(d).join().split(",");for(var X=[],R=0,z=d.length;R<z;R++)X[R]=R%2?x(d[R-1],d[R],l).y:x(d[R],d[R+1],l).x;return X},g=function(t,e){var n=h(t),r=e&&h(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=[],u=[],s="",c="",f=void 0,g=function(t,e,n){var r=void 0,i=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(p.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(d(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(d(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(l(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(l(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(l(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(l(e.x,e.y,e.X,e.Y))}return t},v=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)a[e]="A",r&&(u[e]="A"),t.splice(e++,0,["C"].concat(i.splice(0,6)));t.splice(e,1),f=Math.max(n.length,r&&r.length||0)}},m=function(t,e,i,o,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],f=Math.max(n.length,r&&r.length||0))};f=Math.max(n.length,r&&r.length||0);for(var y=0;y<f;y++){n[y]&&(s=n[y][0]),"C"!==s&&(a[y]=s,y&&(c=a[y-1])),n[y]=g(n[y],i,c),"A"!==a[y]&&"C"===s&&(a[y]="C"),v(n,y),r&&(r[y]&&(s=r[y][0]),"C"!==s&&(u[y]=s,y&&(c=u[y-1])),r[y]=g(r[y],o,c),"A"!==u[y]&&"C"===s&&(u[y]="C"),v(r,y)),m(n,r,i,o,y),m(r,n,o,i,y);var x=n[y],b=r&&r[y],_=x.length,w=r&&b.length;i.x=x[_-2],i.y=x[_-1],i.bx=parseFloat(x[_-4])||i.x,i.by=parseFloat(x[_-3])||i.y,o.bx=r&&(parseFloat(b[w-4])||o.x),o.by=r&&(parseFloat(b[w-3])||o.y),o.x=r&&b[w-2],o.y=r&&b[w-1]}return r?[n,r]:n},v=/,?([a-z]),?/gi,m=function(t){return t.join(",").replace(v,"$1")},y=function(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n},x=function(t,e,n,r,i,o,a,u,s){null===s&&(s=1),s=s>1?1:s<0?0:s;for(var c=s/2,f=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;p<f;p++){var g=c*h[p]+c,v=y(g,t,n,i,a),m=y(g,e,r,o,u),x=v*v+m*m;
d+=l[p]*Math.sqrt(x)}return c*d},b=function(t,e,n,r,i,o,a,u){for(var s=[],c=[[],[]],f=void 0,h=void 0,l=void 0,d=void 0,p=0;p<2;++p)if(0===p?(h=6*t-12*n+6*i,f=-3*t+9*n-9*i+3*a,l=3*n-3*t):(h=6*e-12*r+6*o,f=-3*e+9*r-9*o+3*u,l=3*r-3*e),Math.abs(f)<1e-12){if(Math.abs(h)<1e-12)continue;d=-l/h,d>0&&d<1&&s.push(d)}else{var g=h*h-4*l*f,v=Math.sqrt(g);if(!(g<0)){var m=(-h+v)/(2*f);m>0&&m<1&&s.push(m);var y=(-h-v)/(2*f);y>0&&y<1&&s.push(y)}}for(var x=s.length,b=x,_=void 0;x--;)d=s[x],_=1-d,c[0][x]=_*_*_*t+3*_*_*d*n+3*_*d*d*i+d*d*d*a,c[1][x]=_*_*_*e+3*_*_*d*r+3*_*d*d*o+d*d*d*u;return c[0][b]=t,c[1][b]=e,c[0][b+1]=a,c[1][b+1]=u,c[0].length=c[1].length=b+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}},_=function(t,e,n,r,i,o,a,u){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,u)||Math.min(e,r)>Math.max(o,u))){var s=(t*r-e*n)*(i-a)-(t-n)*(i*u-o*a),c=(t*r-e*n)*(o-u)-(e-r)*(i*u-o*a),f=(t-n)*(o-u)-(e-r)*(i-a);if(f){var h=s/f,l=c/f,d=+h.toFixed(2),p=+l.toFixed(2);if(!(d<+Math.min(t,n).toFixed(2)||d>+Math.max(t,n).toFixed(2)||d<+Math.min(i,a).toFixed(2)||d>+Math.max(i,a).toFixed(2)||p<+Math.min(e,r).toFixed(2)||p>+Math.max(e,r).toFixed(2)||p<+Math.min(o,u).toFixed(2)||p>+Math.max(o,u).toFixed(2)))return{x:h,y:l}}}},w=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},S=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=m,o},M=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:S(t,e,n,r),vb:[t,e,n,r].join(" ")}},O=function(t,e){return t=M(t),e=M(e),w(e,t.x,t.y)||w(e,t.x2,t.y)||w(e,t.x,t.y2)||w(e,t.x2,t.y2)||w(t,e.x,e.y)||w(t,e.x2,e.y)||w(t,e.x,e.y2)||w(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},P=function(t,e,n,r,o,a,u,s){i.isArray(t)||(t=[t,e,n,r,o,a,u,s]);var c=b.apply(null,t);return M(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},E=function(t,e,n,r,i,o,a,u,s){var c=1-s,f=Math.pow(c,3),h=Math.pow(c,2),l=s*s,d=l*s,p=f*t+3*h*s*n+3*c*s*s*i+d*a,g=f*e+3*h*s*r+3*c*s*s*o+d*u,v=t+2*s*(n-t)+l*(i-2*n+t),m=e+2*s*(r-e)+l*(o-2*r+e),y=n+2*s*(i-n)+l*(a-2*i+n),x=r+2*s*(o-r)+l*(u-2*o+r),b=c*t+s*n,_=c*e+s*r,w=c*i+s*a,S=c*o+s*u,M=90-180*Math.atan2(v-y,m-x)/Math.PI;return{x:p,y:g,m:{x:v,y:m},n:{x:y,y:x},start:{x:b,y:_},end:{x:w,y:S},alpha:M}},A=function(t,e,n){var r=P(t),i=P(e);if(!O(r,i))return n?0:[];for(var o=x.apply(0,t),a=x.apply(0,e),u=~~(o/8),s=~~(a/8),c=[],f=[],h={},l=n?0:[],d=0;d<u+1;d++){var p=E.apply(0,t.concat(d/u));c.push({x:p.x,y:p.y,t:d/u})}for(var g=0;g<s+1;g++){var v=E.apply(0,e.concat(g/s));f.push({x:v.x,y:v.y,t:g/s})}for(var m=0;m<u;m++)for(var y=0;y<s;y++){var b=c[m],w=c[m+1],S=f[y],M=f[y+1],A=Math.abs(w.x-b.x)<.001?"y":"x",j=Math.abs(M.x-S.x)<.001?"y":"x",C=_(b.x,b.y,w.x,w.y,S.x,S.y,M.x,M.y);if(C){if(h[C.x.toFixed(4)]===C.y.toFixed(4))continue;h[C.x.toFixed(4)]=C.y.toFixed(4);var k=b.t+Math.abs((C[A]-b[A])/(w[A]-b[A]))*(w.t-b.t),I=S.t+Math.abs((C[j]-S[j])/(M[j]-S[j]))*(M.t-S.t);k>=0&&k<=1&&I>=0&&I<=1&&(n?l++:l.push({x:C.x,y:C.y,t1:k,t2:I}))}}return l},j=function(t,e,n){t=g(t),e=g(e);for(var r=void 0,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0,d=n?0:[],p=0,v=t.length;p<v;p++){var m=t[p];if("M"===m[0])r=u=m[1],i=s=m[2];else{"C"===m[0]?(h=[r,i].concat(m.slice(1)),r=h[6],i=h[7]):(h=[r,i,r,i,u,s,u,s],r=u,i=s);for(var y=0,x=e.length;y<x;y++){var b=e[y];if("M"===b[0])o=c=b[1],a=f=b[2];else{"C"===b[0]?(l=[o,a].concat(b.slice(1)),o=l[6],a=l[7]):(l=[o,a,o,a,c,f,c,f],o=c,a=f);var _=A(h,l,n);if(n)d+=_;else{for(var w=0,S=_.length;w<S;w++)_[w].segment1=p,_[w].segment2=y,_[w].bez1=h,_[w].bez2=l;d=d.concat(_)}}}}}return d},C=function(t,e){return j(t,e)};t.exports={parsePathString:s,parsePathArray:m,pathTocurve:g,pathToAbsolute:h,catmullRomToBezier:c,rectPath:S,intersection:C}},function(t,e,n){"use strict";function r(){return b||(S(i),b=w.now()+_)}function i(){b=0}function o(){this._call=this._time=this._next=null}function a(t,e,n){var r=new o;return r.restart(t,e,n),r}function u(){r(),++g;for(var t,e=l;e;)(t=b-e._time)>=0&&e._call.call(null,t),e=e._next;--g}function s(){b=(x=w.now())+_,g=v=0;try{u()}finally{g=0,f(),b=0}}function c(){var t=w.now(),e=t-x;e>y&&(_-=e,x=t)}function f(){for(var t,e,n=l,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:l=e);d=t,h(r)}function h(t){if(!g){v&&(v=clearTimeout(v));var e=t-b;e>24?(t<1/0&&(v=setTimeout(s,t-w.now()-_)),m&&(m=clearInterval(m))):(m||(x=w.now(),m=setInterval(c,y)),g=1,S(s))}}e.b=r,e.a=o,e.c=a,e.d=u;var l,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g=0,v=0,m=0,y=1e3,x=0,b=0,_=0,w="object"===("undefined"==typeof performance?"undefined":p(performance))&&performance.now?performance:Date,S="object"===("undefined"==typeof window?"undefined":p(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};o.prototype=a.prototype={constructor:o,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?r():+n)+(null==e?0:+e),this._next||d===this||(d?d._next=this:l=this,d=this),this._call=t,this._time=n,h()},stop:function(){this._call&&(this._call=null,this._time=1/0,h())}}},function(t,e,n){"use strict";var r=n(15),i=n(93),o=n(96),a=n(97),u=n(31),s=n(98),c=n(99),f=n(95),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){var n,l="undefined"==typeof e?"undefined":h(e);return null==e||"boolean"===l?Object(f.a)(e):("number"===l?u.a:"string"===l?(n=Object(r.a)(e))?(e=n,i.a):c.a:e instanceof r.a?i.a:e instanceof Date?a.a:Array.isArray(e)?o.a:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?s.a:u.a)(t,e)}},function(t,e,n){"use strict";function r(){}function i(t){var e;return t=(t+"").trim().toLowerCase(),(e=w.exec(t))?(e=parseInt(e[1],16),new c(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=S.exec(t))?o(parseInt(e[1],16)):(e=M.exec(t))?new c(e[1],e[2],e[3],1):(e=O.exec(t))?new c(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=P.exec(t))?a(e[1],e[2],e[3],e[4]):(e=E.exec(t))?a(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=A.exec(t))?h(e[1],e[2]/100,e[3]/100,1):(e=j.exec(t))?h(e[1],e[2]/100,e[3]/100,e[4]):C.hasOwnProperty(t)?o(C[t]):"transparent"===t?new c(NaN,NaN,NaN,0):null}function o(t){return new c(t>>16&255,t>>8&255,255&t,1)}function a(t,e,n,r){return r<=0&&(t=e=n=NaN),new c(t,e,n,r)}function u(t){return t instanceof r||(t=i(t)),t?(t=t.rgb(),new c(t.r,t.g,t.b,t.opacity)):new c}function s(t,e,n,r){return 1===arguments.length?u(t):new c(t,e,n,null==r?1:r)}function c(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function f(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function h(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new p(t,e,n,r)}function l(t){if(t instanceof p)return new p(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=i(t)),!t)return new p;if(t instanceof p)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,a=Math.min(e,n,o),u=Math.max(e,n,o),s=NaN,c=u-a,f=(u+a)/2;return c?(s=e===u?(n-o)/c+6*(n<o):n===u?(o-e)/c+2:(e-n)/c+4,c/=f<.5?u+a:2-u-a,s*=60):c=f>0&&f<1?0:s,new p(s,c,f,t.opacity)}function d(t,e,n,r){return 1===arguments.length?l(t):new p(t,e,n,null==r?1:r)}function p(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function g(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}e.a=r,n.d(e,"d",function(){return m}),n.d(e,"c",function(){return y}),e.e=i,e.h=u,e.g=s,e.b=c,e.f=d;var v=n(50),m=.7,y=1/m,x="\\s*([+-]?\\d+)\\s*",b="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",w=/^#([0-9a-f]{3})$/,S=/^#([0-9a-f]{6})$/,M=new RegExp("^rgb\\("+[x,x,x]+"\\)$"),O=new RegExp("^rgb\\("+[_,_,_]+"\\)$"),P=new RegExp("^rgba\\("+[x,x,x,b]+"\\)$"),E=new RegExp("^rgba\\("+[_,_,_,b]+"\\)$"),A=new RegExp("^hsl\\("+[b,_,_]+"\\)$"),j=new RegExp("^hsla\\("+[b,_,_,b]+"\\)$"),C={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object(v.a)(r,i,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Object(v.a)(c,s,Object(v.b)(r,{brighter:function(t){return t=null==t?y:Math.pow(y,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?m:Math.pow(m,t),new c(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+f(this.r)+f(this.g)+f(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Object(v.a)(p,d,Object(v.b)(r,{brighter:function(t){return t=null==t?y:Math.pow(y,t),new p(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?m:Math.pow(m,t),new p(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new c(g(t>=240?t-240:t+120,i,r),g(t,i,r),g(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}))},function(t,e,n){"use strict";function r(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}e.b=r,e.a=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t}},function(t,e,n){"use strict";function r(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}e.a=r,e.b=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,s=i<e-1?t[i+2]:2*a-o;return r((n-i/e)*e,u,o,a,s)}}},function(t,e,n){var r=n(3).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,o,a){var u=[n-t,i-e];if(r.exactEquals(u,[0,0]))return NaN;var s=[-u[1],u[0]];r.normalize(s,s);var c=[o-t,a-e];return Math.abs(r.dot(c,s))},box:function(t,e,n,r,i){var o=i/2,a=Math.min(t,n),u=Math.max(t,n),s=Math.min(e,r),c=Math.max(e,r);return{minX:a-o,minY:s-o,maxX:u+o,maxY:c+o}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){function r(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function i(t,e,n,i,o,a,s,c,f){var h=void 0,l=.005,d=1/0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,x=void 0,b=1e-4,_=[s,c];for(m=0;m<1;m+=.05)g=[r(t,n,o,m),r(e,i,a,m)],p=u.squaredDistance(_,g),p<d&&(h=m,d=p);for(d=1/0,x=0;x<32&&!(l<b);x++){var w=h-l,S=h+l;g=[r(t,n,o,w),r(e,i,a,w)],p=u.squaredDistance(_,g),w>=0&&p<d?(h=w,d=p):(v=[r(t,n,o,S),r(e,i,a,S)],y=u.squaredDistance(_,v),S<=1&&y<d?(h=S,d=y):l*=.5)}return f&&(f.x=r(t,n,o,h),f.y=r(e,i,a,h)),Math.sqrt(d)}function o(t,e,n){var r=t+n-2*e;if(a.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}var a=n(0),u=n(3).vec2;t.exports={at:r,projectPoint:function(t,e,n,r,o,a,u,s){var c={};return i(t,e,n,r,o,a,u,s,c),c},pointDistance:i,extrema:o}},function(t,e,n){function r(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function i(t,e,n,r){var i=void 0,o=void 0;return r?t<e?(i=e-t,o=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,o=t-n):(i=t-e,o=n-t),i>o?n:e}function o(t,e,n,r){var o=0;return n-e>=2*Math.PI&&(o=2*Math.PI),e=s.mod(e,2*Math.PI),n=s.mod(n,2*Math.PI)+o,t=s.mod(t,2*Math.PI),r?e>=n?t>n&&t<e?t:i(t,n,e,!0):t<e||t>n?t:i(t,e,n):e<=n?e<t&&t<n?t:i(t,e,n,!0):t>e||t<n?t:i(t,n,e)}function a(t,e,n,r,i,a,u,s,f){var h=[u,s],l=[t,e],d=[1,0],p=c.subtract([],h,l),g=c.angleTo(d,p);g=o(g,r,i,a);var v=[n*Math.cos(g)+t,n*Math.sin(g)+e];f&&(f.x=v[0],f.y=v[1]);var m=c.distance(v,h);return m}function u(t,e,n,i,a,u){var c=0,f=Math.PI/2,h=Math.PI,l=3*Math.PI/2,d=[],p=o(c,i,a,u);p===c&&d.push(r(t,e,n,c)),p=o(f,i,a,u),p===f&&d.push(r(t,e,n,f)),p=o(h,i,a,u),p===h&&d.push(r(t,e,n,h)),p=o(l,i,a,u),p===l&&d.push(r(t,e,n,l)),d.push(r(t,e,n,i)),d.push(r(t,e,n,a));var g=1/0,v=-(1/0),m=1/0,y=-(1/0);return s.each(d,function(t){g>t.x&&(g=t.x),v<t.x&&(v=t.x),m>t.y&&(m=t.y),y<t.y&&(y=t.y)}),{minX:g,minY:m,maxX:v,maxY:y}}var s=n(0),c=n(3).vec2;t.exports={nearAngle:o,projectPoint:function(t,e,n,r,i,o,u,s){var c={};return a(t,e,n,r,i,o,u,s,c),c},pointDistance:a,box:u}},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this,e=t.__attrs,n=e.x,r=e.y,i=e.width,o=e.height,a=this.getHitLineWidth(),u=a/2;return{minX:n-u,minY:r-u,maxX:n+i+u,maxY:r+o+u}},isPointInPath:function(t,e){var n=this,r=n.hasFill(),i=n.hasStroke();return r&&i?n.__isPointInFill(t,e)||n.__isPointInStroke(t,e):r?n.__isPointInFill(t,e):!!i&&n.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.get("context");return!!n&&(this.createPath(),n.isPointInPath(t,e))},__isPointInStroke:function(t,e){var n=this,r=n.__attrs,i=r.x,a=r.y,u=r.width,s=r.height,c=r.radius,f=this.getHitLineWidth();if(0===c){var h=f/2;return o.line(i-h,a,i+u+h,a,f,t,e)||o.line(i+u,a-h,i+u,a+s+h,f,t,e)||o.line(i+u+h,a+s,i-h,a+s,f,t,e)||o.line(i,a+s+h,i,a-h,f,t,e)}return o.line(i+c,a,i+u-c,a,f,t,e)||o.line(i+u,a+c,i+u,a+s-c,f,t,e)||o.line(i+u-c,a+s,i+c,a+s,f,t,e)||o.line(i,a+s-c,i,a+c,f,t,e)||o.arcline(i+u-c,a+c,c,1.5*Math.PI,2*Math.PI,!1,f,t,e)||o.arcline(i+u-c,a+s-c,c,0,.5*Math.PI,!1,f,t,e)||o.arcline(i+c,a+s-c,c,.5*Math.PI,Math.PI,!1,f,t,e)||o.arcline(i+c,a+c,c,Math.PI,1.5*Math.PI,!1,f,t,e)},createPath:function(t){var e=this,n=e.__attrs,r=n.x,i=n.y,o=n.width,a=n.height,u=n.radius;t=t||e.get("context"),t.beginPath(),0===u?t.rect(r,i,o,a):(t.moveTo(r+u,i),t.lineTo(r+o-u,i),t.arc(r+o-u,i+u,u,-Math.PI/2,0,!1),t.lineTo(r+o,i+a-u),t.arc(r+o-u,i+a-u,u,0,Math.PI/2,!1),t.lineTo(r+u,i+a),t.arc(r+u,i+a-u,u,Math.PI/2,Math.PI,!1),t.lineTo(r,i+u),t.arc(r+u,i+u,u,Math.PI,3*Math.PI/2,!1),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.Symbols={circle:function(t,e,n,r){r.arc(t,e,n,0,2*Math.PI,!1)},square:function(t,e,n,r){r.moveTo(t-n,e-n),r.lineTo(t+n,e-n),r.lineTo(t+n,e+n),r.lineTo(t-n,e+n),r.closePath()},diamond:function(t,e,n,r){r.moveTo(t-n,e),r.lineTo(t,e-n),r.lineTo(t+n,e),r.lineTo(t,e+n),r.closePath()},triangle:function(t,e,n,r){var i=n*Math.sin(1/3*Math.PI);r.moveTo(t-n,e+i),r.lineTo(t,e-i),r.lineTo(t+n,e+i),r.closePath()},"triangle-down":function(t,e,n,r){var i=n*Math.sin(1/3*Math.PI);r.moveTo(t-n,e-i),r.lineTo(t+n,e-i),r.lineTo(t,e+i),r.closePath()}},a.ATTRS={path:null,lineWidth:1},r.extend(a,i),r.augment(a,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth(),o=i/2+r;return{minX:e-o,minY:n-o,maxX:e+o,maxY:n+o}},isPointInPath:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.radius,u=this.getHitLineWidth();return o.circle(r,i,a+u/2,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,i=e.y,o=e.radius,u=e.symbol||"circle",s=void 0;s=r.isFunction(u)?u:a.Symbols[u],t.beginPath(),s(n,i,o,t,this)}}),t.exports=a},function(t,e,n){(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==("undefined"==typeof e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(e,n(116))},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==u}var i=n(7),o=n(6),a=n(4),u="[object String]";t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(18),o=n(123),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(136);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(150),o=n(157),a=n(159),u=n(160),s=n(161);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e,n){var r=n(10),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),f=!n&&!r&&u(t),l=!n&&!r&&!f&&c(t),d=n||r||f||l,p=d?i(t.length,String):[],g=p.length;for(var v in t)!e&&!h.call(t,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}var i=n(163),o=n(34),a=n(6),u=n(19),s=n(68),c=n(23),f=Object.prototype,h=f.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){var n="undefined"==typeof t?"undefined":r(t);return e=null==e?i:e,!!e&&("number"==n||"symbol"!=n&&o.test(t))&&t>-1&&t%1==0&&t<e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=f?f(n):new t.constructor(n);return t.copy(r),r}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(5),a="object"==i(e)&&e&&!e.nodeType&&e,u=a&&"object"==i(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a,c=s?o.Buffer:void 0,f=c?c.allocUnsafe:void 0;t.exports=r}).call(e,n(35)(t))},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){var r=n(72),i=n(42),o=n(41),a=n(70),u=Object.getOwnPropertySymbols,s=u?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t){return i(t,a,o)}var i=n(74),o=n(41),a=n(14);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(72),o=n(6);t.exports=r},function(t,e,n){var r=n(5),i=r.Uint8Array;t.exports=i},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(43);t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(176),o=n(42),a=n(18);t.exports=r},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}var i=n(79),o=n(188);t.exports=r},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(44),o=n(182),a=n(184);t.exports=r},function(t,e,n){function r(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||i(t,e,n)}var i=n(40),o=n(20);t.exports=r},function(t,e,n){var r=n(191),i=r();t.exports=i},function(t,e){function n(t,e){return"__proto__"==e?void 0:t[e]}t.exports=n},function(t,e){function n(t){return f.test(t)}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",u=i+o+a,s="\\ufe0e\\ufe0f",c="\\u200d",f=RegExp("["+c+r+u+s+"]");t.exports=n},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(200),o=n(83),a=n(201);t.exports=r},function(t,e,n){function r(t,e,n,r,c,f){var h=n&u,l=t.length,d=e.length;if(l!=d&&!(h&&d>l))return!1;var p=f.get(t);if(p&&f.get(e))return p==e;var g=-1,v=!0,m=n&s?new i:void 0;for(f.set(t,e),f.set(e,t);++g<l;){var y=t[g],x=e[g];if(r)var b=h?r(x,y,g,e,t,f):r(y,x,g,t,e,f);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(e,function(t,e){if(!a(m,e)&&(y===t||c(y,t,n,r,f)))return m.push(e)})){v=!1;break}}else if(y!==x&&!c(y,x,n,r,f)){v=!1;break}}return f.delete(t),f.delete(e),v}var i=n(218),o=n(221),a=n(222),u=1,s=2;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){var r=n(17),i=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,u={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:o,th:o,"*":document.createElement("div")};t.exports={getBoundingClientRect:function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null},getStyle:function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r.isNil(n)?null:n}},modifyCSS:function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t},createDom:function(t){var e=a.test(t)&&RegExp.$1;e in u||(e="*");var n=u[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r},getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},getWidth:function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)},getHeight:function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)},getOuterHeight:function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0,a=parseFloat(this.getStyle(t,"borderBottomWidth"))||0;return n+r+a+i+o},getOuterWidth:function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0,a=parseFloat(this.getStyle(t,"borderRightWidth"))||0;return n+r+a+i+o},addEventListener:function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}},requestAnimationFrame:function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)}}},function(t,e,n){var r=n(0),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){function r(t,e,n){for(var r=void 0,i=t.length-1;i>=0;i--){var o=t[i];if(o.__cfg.visible&&o.__cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}function i(t){return function(e,n){var r=t(e,n);return 0===r?e[f]-n[f]:r}}function o(t){if(!t.__cfg&&t!==h){var e=t.superclass.constructor;e&&!e.__cfg&&o(e),t.__cfg={},a.merge(t.__cfg,e.__cfg),a.merge(t.__cfg,t.CFG)}}var a=n(0),u=n(91),s=n(263),c={},f="_INDEX",h=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};a.extend(h,u),a.augment(h,{isGroup:!0,canFill:!0,canStroke:!0,getDefaultCfg:function(){return o(this.constructor),a.merge({},this.constructor.__cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r=c[t];if(r||(r=a.upperFirst(t),c[t]=r),e.attrs){var i=e.attrs;if("text"===t){var o=n.get("fontFamily");o&&(i.fontFamily=i.fontFamily?i.fontFamily:o)}}e.canvas=n,e.type=t;var u=new s[r](e);return this.add(u),u},addGroup:function(t,e){var n=this.get("canvas"),r=void 0;if(e=a.merge({},e),a.isFunction(t))e?(e.canvas=n,e.parent=this,r=new t(e)):r=new t({canvas:n,parent:this}),this.add(r);else if(a.isObject(t))t.canvas=n,r=new h(t),this.add(r);else{if(void 0!==t)return!1;r=new h,this.add(r)}return r},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return a.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!a.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),h.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(a.isArray(t))a.each(t,function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e.__setEvn(t)}),n.push.apply(n,t);else{var r=t,i=r.get("parent");i&&i.removeChild(r,!1),e.__setEvn(r),n.push(r)}return e},contain:function(t){var e=this.get("children");return e.indexOf(t)>-1},getChildByIndex:function(t){var e=this.get("children");return e[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},__setEvn:function(t){var e=this;t.__cfg.parent=e,t.__cfg.context=e.__cfg.context,t.__cfg.canvas=e.__cfg.canvas;var n=t.__attrs.clip;n&&(n.setSilent("parent",e),n.setSilent("context",e.get("context")));var r=t.__cfg.children;r&&a.each(r,function(e){t.__setEvn(e)})},getBBox:function(){var t=this,e=1/0,n=-(1/0),r=1/0,i=-(1/0),o=t.get("children");a.each(o,function(t){if(t.get("visible")){var o=t.getBBox();if(!o)return!0;var a=[o.minX,o.minY,1],u=[o.minX,o.maxY,1],s=[o.maxX,o.minY,1],c=[o.maxX,o.maxY,1];t.apply(a),t.apply(u),t.apply(s),t.apply(c);var f=Math.min(a[0],u[0],s[0],c[0]),h=Math.max(a[0],u[0],s[0],c[0]),l=Math.min(a[1],u[1],s[1],c[1]),d=Math.max(a[1],u[1],s[1],c[1]);f<e&&(e=f),h>n&&(n=h),l<r&&(r=l),d>i&&(i=d)}});var u={minX:e,minY:r,maxX:n,maxY:i};return u.x=u.minX,u.y=u.minY,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,u},drawInner:function(t){for(var e=this.get("children"),n=0;n<e.length;n++){var r=e[n];r.draw(t)}return this},getCount:function(){return this.get("children").length},sort:function(){var t=this.get("children");return a.each(t,function(t,e){return t[f]=e,t}),t.sort(i(function(t,e){return t.get("zIndex")-e.get("zIndex")})),this},find:function(t){return this.findBy(function(e){return e.get("id")===t})},findBy:function(t){var e=this.get("children"),n=null;return a.each(e,function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1}),n},findAllBy:function(t){var e=this.get("children"),n=[],r=[];return a.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(r=e.findAllBy(t),n=n.concat(r))}),n},getShape:function(t,e){var n=this,i=n.__attrs.clip,o=n.__cfg.children,a=void 0;return i?i.inside(t,e)&&(a=r(o,t,e)):a=r(o,t,e),a},clearTotalMatrix:function(){var t=this.get("totalMatrix");if(t){this.setSilent("totalMatrix",null);for(var e=this.__cfg.children,n=0;n<e.length;n++){var r=e[n];r.clearTotalMatrix()}}},clear:function(){for(var t=this.get("children");0!==t.length;)t[t.length-1].remove();return this},destroy:function(){this.get("destroyed")||(this.clear(),h.superclass.destroy.call(this))}}),t.exports=h},function(t,e,n){var r=n(0),i=n(229),o=n(230),a=n(234),u=n(100),s=n(262),c=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],f=function(t){this.__cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this.__cfg,this.getDefaultCfg(),t),this.initAttrs(this.__cfg.attrs),this.initTransform(),this.init()};f.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(f,i,o,s,a,{init:function(){this.setSilent("animable",!0),
this.setSilent("animating",!1);var t=this.__attrs;t&&t.rotate&&this.rotateAtStart(t.rotate)},getParent:function(){return this.get("parent")},getDefaultCfg:function(){return{}},set:function(t,e){var n="__set"+r.upperFirst(t);return this[n]&&(e=this[n](e)),this.__cfg[t]=e,this},setSilent:function(t,e){this.__cfg[t]=e},get:function(t){return this.__cfg[t]},draw:function(t){this.get("destroyed")||this.get("visible")&&(this.setContext(t),this.drawInner(t),this.restoreContext(t))},setContext:function(t){var e=this.__attrs.clip;t.save(),e&&(e.resetTransform(t),e.createPath(t),t.clip()),this.resetContext(t),this.resetTransform(t)},restoreContext:function(t){t.restore()},resetContext:function(t){var e=this.__attrs;if(!this.isGroup)for(var n in e)if(c.indexOf(n)>-1){var i=e[n];"fillStyle"===n&&(i=u.parseStyle(i,this)),"strokeStyle"===n&&(i=u.parseStyle(i,this)),"lineDash"===n&&t.setLineDash?r.isArray(i)?t.setLineDash(i):r.isString(i)&&t.setLineDash(i.split(" ")):t[n]=i}},drawInner:function(){},show:function(){return this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},remove:function(t){if(void 0===t&&(t=!0),this.get("parent")){var e=this.get("parent"),n=e.get("children");r.remove(n,this)}return t&&this.destroy(),this},destroy:function(){var t=this.get("destroyed");if(!t){if(this.get("animating")){var e=this.get("animateTimer");e&&e.stop()}this.__cfg={},this.__attrs=null,this.removeEvent(),this.set("destroyed",!0)}},__setZIndex:function(t){return this.__cfg.zIndex=t,r.isNil(this.get("parent"))||this.get("parent").sort(),t},__setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this.__cfg.zIndex=t,t},clone:function(){return r.clone(this)},getBBox:function(){return{minX:0,maxX:0,minY:0,maxY:0}}}),t.exports=f},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=Math.PI/180,i=180/Math.PI},function(t,e,n){"use strict";function r(t){return function(e){var n,r,o=e.length,a=new Array(o),u=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=Object(i.f)(e[n]),a[n]=r.r||0,u[n]=r.g||0,s[n]=r.b||0;return a=t(a),u=t(u),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=u(t),r.b=s(t),r+""}}}n.d(e,"b",function(){return s}),n.d(e,"c",function(){return c});var i=n(15),o=n(51),a=n(94),u=n(21);e.a=function t(e){function n(t,e){var n=r((t=Object(i.f)(t)).r,(e=Object(i.f)(e)).r),o=r(t.g,e.g),a=r(t.b,e.b),s=Object(u.a)(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}var r=Object(u.b)(e);return n.gamma=t,n}(1);var s=r(o.b),c=r(a.a)},function(t,e,n){"use strict";var r=n(51);e.a=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),o=t[(i+e-1)%e],a=t[i%e],u=t[(i+1)%e],s=t[(i+2)%e];return Object(r.a)((n-i/e)*e,o,a,u,s)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return t}}},function(t,e,n){"use strict";var r=n(48);e.a=function(t,e){var n,i=e?e.length:0,o=t?Math.min(i,t.length):0,a=new Array(o),u=new Array(i);for(n=0;n<o;++n)a[n]=Object(r.a)(t[n],e[n]);for(;n<i;++n)u[n]=e[n];return function(t){for(n=0;n<o;++n)u[n]=a[n](t);return u}}},function(t,e,n){"use strict";e.a=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}}},function(t,e,n){"use strict";var r=n(48),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){var n,o={},a={};null!==t&&"object"===("undefined"==typeof t?"undefined":i(t))||(t={}),null!==e&&"object"===("undefined"==typeof e?"undefined":i(e))||(e={});for(n in e)n in t?o[n]=Object(r.a)(t[n],e[n]):a[n]=e[n];return function(t){for(n in o)a[n]=o[n](t);return a}}},function(t,e,n){"use strict";function r(t){return function(){return t}}function i(t){return function(e){return t(e)+""}}var o=n(31),a=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,u=new RegExp(a.source,"g");e.a=function(t,e){var n,s,c,f=a.lastIndex=u.lastIndex=0,h=-1,l=[],d=[];for(t+="",e+="";(n=a.exec(t))&&(s=u.exec(e));)(c=s.index)>f&&(c=e.slice(f,c),l[h]?l[h]+=c:l[++h]=c),(n=n[0])===(s=s[0])?l[h]?l[h]+=s:l[++h]=s:(l[++h]=null,d.push({i:h,x:Object(o.a)(n,s)})),f=u.lastIndex;return f<e.length&&(c=e.slice(f),l[h]?l[h]+=c:l[++h]=c),l.length<2?d[0]?i(d[0].x):r(e):(e=d.length,function(t){for(var n,r=0;r<e;++r)l[(n=d[r]).i]=n.x(t);return l.join("")})}},function(t,e,n){function r(t,e){var n=t.match(d);u.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}function i(t,e){var n=f.exec(t),i=u.mod(u.toRadian(parseFloat(n[1])),2*Math.PI),o=n[2],a=e.getBBox(),s=void 0,c=void 0;i>=0&&i<.5*Math.PI?(s={x:a.minX,y:a.minY},c={x:a.maxX,y:a.maxY}):.5*Math.PI<=i&&i<Math.PI?(s={x:a.maxX,y:a.minY},c={x:a.minX,y:a.maxY}):Math.PI<=i&&i<1.5*Math.PI?(s={x:a.maxX,y:a.maxY},c={x:a.minX,y:a.minY}):(s={x:a.minX,y:a.maxY},c={x:a.maxX,y:a.minY});var h=Math.tan(i),l=h*h,d=(c.x-s.x+h*(c.y-s.y))/(l+1)+s.x,p=h*(c.x-s.x+h*(c.y-s.y))/(l+1)+s.y,g=e.get("context"),v=g.createLinearGradient(s.x,s.y,d,p);return r(o,v),v}function o(t,e){var n=h.exec(t),i=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),u=n[4],s=e.getBBox(),c=e.get("context"),f=s.maxX-s.minX,l=s.maxY-s.minY,d=Math.sqrt(f*f+l*l)/2,p=c.createRadialGradient(s.minX+f*i,s.minY+l*o,a*d,s.minX+f/2,s.minY+l/2,d);return r(u,p),p}function a(t,e){function n(){var n=e.get("context");r=n.createPattern(i,a),e.setSilent("pattern",r),e.setSilent("patternSource",t)}if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r=void 0,i=void 0,o=l.exec(t),a=o[1],u=o[2];switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,u.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=u,i.complete?n():(i.onload=n,i.src=i.src),r}var u=n(0),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,c=/[^\s\,]+/gi,f=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,h=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,l=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,d=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,p={};t.exports={parsePath:function(t){return t=t||[],u.isArray(t)?t:u.isString(t)?(t=t.match(s),u.each(t,function(e,n){if(e=e.match(c),e[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}u.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},parseStyle:function(t,e){if(u.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return i(t,e);if("r"===t[0])return o(t,e);if("p"===t[0])return a(t,e)}return t}},numberToColor:function(t){var e=p[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,p[t]=e}return e}}},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth(),o=i/2+r;return{minX:e-o,minY:n-o,maxX:e+o,maxY:n+o}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!r&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.r;return o.circle(r,i,a,t,e)},__isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.r,u=this.getHitLineWidth();return o.arcline(r,i,a,0,2*Math.PI,!1,u,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.r;t=t||self.get("context"),t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1)}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(3).mat3,u=n(3).vec3,s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(s,i),r.augment(s,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,o=this.getHitLineWidth(),a=r+o/2,u=i+o/2;return{minX:e-a,minY:n-u,maxX:e+a,maxY:n+u}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!r&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,r=n.x,i=n.y,s=n.rx,c=n.ry,f=s>c?s:c,h=s>c?1:s/c,l=s>c?c/s:1,d=[t,e,1],p=[1,0,0,0,1,0,0,0,1];a.scale(p,p,[h,l]),a.translate(p,p,[r,i]);var g=a.invert([],p);return u.transformMat3(d,d,g),o.circle(0,0,f,d[0],d[1])},__isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,s=n.rx,c=n.ry,f=this.getHitLineWidth(),h=s>c?s:c,l=s>c?1:s/c,d=s>c?c/s:1,p=[t,e,1],g=[1,0,0,0,1,0,0,0,1];a.scale(g,g,[l,d]),a.translate(g,g,[r,i]);var v=a.invert([],g);return u.transformMat3(p,p,v),o.arcline(0,0,h,0,2*Math.PI,!1,f,p[0],p[1])},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.rx,o=e.ry;t=t||self.get("context");var u=i>o?i:o,s=i>o?1:i/o,c=i>o?o/i:1,f=[1,0,0,0,1,0,0,0,1];a.scale(f,f,[s,c]),a.translate(f,f,[n,r]),t.beginPath(),t.save(),t.transform(f[0],f[1],f[3],f[4],f[6],f[7]),t.arc(0,0,u,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=s},function(t,e,n){var r=n(0),i=n(1),o=n(104),a=n(100),u=n(16),s=n(46),c=n(32),f=function t(e){t.superclass.constructor.call(this,e)};f.ATTRS={path:null,lineWidth:1,curve:null,tCache:null,startArrow:!1,endArrow:!1},r.extend(f,i),r.augment(f,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},__afterSetAttrPath:function(t){var e=this;if(r.isNil(t))return e.setSilent("segments",null),void e.setSilent("box",void 0);var n=a.parsePath(t),i=void 0,u=[];if(r.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,c=0;c<n.length;c++){var f=n[c];i=new o(f,i,c===s-1),u.push(i)}e.setSilent("segments",u),e.set("tCache",null),this.setSilent("box",null)}},__afterSetAttrAll:function(t){t.path&&this.__afterSetAttrPath(t.path)},calculateBox:function(){var t=this,e=t.get("segments");if(!e)return null;var n=this.getHitLineWidth(),i=1/0,o=-(1/0),a=1/0,u=-(1/0);return r.each(e,function(t){t.getBBox(n);var e=t.box;e&&(e.minX<i&&(i=e.minX),e.maxX>o&&(o=e.maxX),e.minY<a&&(a=e.minY),e.maxY>u&&(u=e.maxY))}),{minX:i,minY:a,maxX:o,maxY:u}},isPointInPath:function(t,e){var n=this,r=n.hasFill(),i=n.hasStroke();return r&&i?n.__isPointInFill(t,e)||n.__isPointInStroke(t,e):r?n.__isPointInFill(t,e):!!i&&n.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this,r=n.get("context");if(r)return n.createPath(),r.isPointInPath(t,e)},__isPointInStroke:function(t,e){var n=this,i=n.get("segments");if(!r.isEmpty(i))for(var o=n.getHitLineWidth(),a=0,u=i.length;a<u;a++)if(i[a].isInside(t,e,o))return!0;return!1},__setTcache:function(){var t=0,e=0,n=[],i=void 0,o=void 0,a=void 0,u=void 0,s=this.curve;s&&(r.each(s,function(e,n){a=s[n+1],u=e.length,a&&(t+=c.len(e[u-2],e[u-1],a[1],a[2],a[3],a[4],a[5],a[6]))}),r.each(s,function(r,f){a=s[f+1],u=r.length,a&&(i=[],i[0]=e/t,o=c.len(r[u-2],r[u-1],a[1],a[2],a[3],a[4],a[5],a[6]),e+=o,i[1]=e/t,n.push(i))}),this.tCache=n)},__calculateCurve:function(){var t=this,e=t.__attrs,n=e.path;this.curve=s.pathTocurve(n)},getPoint:function(t){var e=this.tCache,n=void 0,i=void 0;e||(this.__calculateCurve(),this.__setTcache(),e=this.tCache);var o=this.curve;if(!e)return o?{x:o[0][1],y:o[0][2]}:null;r.each(e,function(e,r){t>=e[0]&&t<=e[1]&&(n=(t-e[0])/(e[1]-e[0]),i=r)});var a=o[i];if(r.isNil(a)||r.isNil(i))return null;var u=a.length,s=o[i+1];return{x:c.at(a[u-2],s[1],s[3],s[5],1-n),y:c.at(a[u-1],s[2],s[4],s[6],1-n)}},createPath:function(t){var e=this,n=e.__attrs,i=e.get("segments");if(r.isArray(i)){t=t||e.get("context"),t.beginPath();var o=n.path,a=void 0,s=void 0,c=!1;("z"===o[o.length-1]||"Z"===o[o.length-1]||n.fill)&&(c=!0);var f=i.length;f>1&&!c&&(a=i[0].endPoint,s=i[1].endPoint,u.addStartArrow(t,n,s.x,s.y,a.x,a.y));for(var h=0,l=f;h<l;h++)i[h].draw(t);f>1&&!c&&(a=i[f-2].endPoint,s=i[f-1].endPoint,u.addEndArrow(t,n,a.x,a.y,s.x,s.y))}}}),t.exports=f},function(t,e,n){function r(t,e,n){return{x:n.x+t,y:n.y+e}}function i(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function o(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function a(t,e){return(t[0]*e[0]+t[1]*e[1])/(o(t)*o(e))}function u(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(a(t,e))}function s(t,e,n,r,i,o,s){var f=c.mod(c.toRadian(s),2*Math.PI),h=t.x,l=t.y,d=e.x,p=e.y,g=Math.cos(f)*(h-d)/2+Math.sin(f)*(l-p)/2,v=-1*Math.sin(f)*(h-d)/2+Math.cos(f)*(l-p)/2,m=g*g/(i*i)+v*v/(o*o);m>1&&(i*=Math.sqrt(m),o*=Math.sqrt(m));var y=Math.sqrt((i*i*(o*o)-i*i*(v*v)-o*o*(g*g))/(i*i*(v*v)+o*o*(g*g)));n===r&&(y*=-1),isNaN(y)&&(y=0);var x=y*i*v/o,b=y*-o*g/i,_=(h+d)/2+Math.cos(f)*x-Math.sin(f)*b,w=(l+p)/2+Math.sin(f)*x+Math.cos(f)*b,S=u([1,0],[(g-x)/i,(v-b)/o]),M=[(g-x)/i,(v-b)/o],O=[(-1*g-x)/i,(-1*v-b)/o],P=u(M,O);return a(M,O)<=-1&&(P=Math.PI),a(M,O)>=1&&(P=0),0===r&&P>0&&(P-=2*Math.PI),1===r&&P<0&&(P+=2*Math.PI),[t,_,w,i,o,S,P,f,r]}var c=n(0),f=n(2),h=n(32),l=n(53),d=n(264),p=n(3).vec3,g=n(3).mat3,v=["m","l","c","a","q","h","v","t","s","z"],m=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};c.augment(m,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var o=v.indexOf(n)>=0,a=o?n.toUpperCase():n,u=t,c=void 0,f=void 0,h=void 0,l=void 0,d=e.endPoint,p=u[1],g=u[2];switch(a){default:break;case"M":l=o?r(p,g,d):{x:p,y:g},this.command="M",this.params=[d,l],this.subStart=l,this.endPoint=l;break;case"L":l=o?r(p,g,d):{x:p,y:g},this.command="L",this.params=[d,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-d.x,l.y-d.y]},this.startTangent=function(){return[d.x-l.x,d.y-l.y]};break;case"H":l=o?r(p,0,d):{x:p,y:d.y},this.command="L",this.params=[d,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-d.x,l.y-d.y]},this.startTangent=function(){return[d.x-l.x,d.y-l.y]};break;case"V":l=o?r(0,p,d):{x:d.x,y:p},this.command="L",this.params=[d,l],this.subStart=e.subStart,this.endPoint=l,this.endTangent=function(){return[l.x-d.x,l.y-d.y]},this.startTangent=function(){return[d.x-l.x,d.y-l.y]};break;case"Q":o?(c=r(p,g,d),f=r(u[3],u[4],d)):(c={x:p,y:g},f={x:u[3],y:u[4]}),this.command="Q",this.params=[d,c,f],this.subStart=e.subStart,this.endPoint=f,this.endTangent=function(){return[f.x-c.x,f.y-c.y]},this.startTangent=function(){return[d.x-c.x,d.y-c.y]};break;case"T":f=o?r(p,g,d):{x:p,y:g},"Q"===e.command?(c=i(e.params[1],d),this.command="Q",this.params=[d,c,f],this.subStart=e.subStart,this.endPoint=f,this.endTangent=function(){return[f.x-c.x,f.y-c.y]},this.startTangent=function(){return[d.x-c.x,d.y-c.y]}):(this.command="TL",this.params=[d,f],this.subStart=e.subStart,this.endPoint=f,this.endTangent=function(){return[f.x-d.x,f.y-d.y]},this.startTangent=function(){return[d.x-f.x,d.y-f.y]});break;case"C":o?(c=r(p,g,d),f=r(u[3],u[4],d),h=r(u[5],u[6],d)):(c={x:p,y:g},f={x:u[3],y:u[4]},h={x:u[5],y:u[6]}),this.command="C",this.params=[d,c,f,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-f.x,h.y-f.y]},this.startTangent=function(){return[d.x-c.x,d.y-c.y]};break;case"S":o?(f=r(p,g,d),h=r(u[3],u[4],d)):(f={x:p,y:g},h={x:u[3],y:u[4]}),"C"===e.command?(c=i(e.params[2],d),this.command="C",this.params=[d,c,f,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-f.x,h.y-f.y]},this.startTangent=function(){return[d.x-c.x,d.y-c.y]}):(this.command="SQ",this.params=[d,f,h],this.subStart=e.subStart,this.endPoint=h,this.endTangent=function(){return[h.x-f.x,h.y-f.y]},this.startTangent=function(){return[d.x-f.x,d.y-f.y]});break;case"A":var m=p,y=g,x=u[3],b=u[4],_=u[5];l=o?r(u[6],u[7],d):{x:u[6],y:u[7]},this.command="A",this.params=s(d,l,b,_,m,y,x),this.subStart=e.subStart,this.endPoint=l;break;case"Z":this.command="Z",this.params=[d,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this,i=r.command,o=r.params,a=r.box;if(a&&!f.box(a.minX,a.maxX,a.minY,a.maxY,t,e))return!1;switch(i){default:break;case"M":return!1;case"TL":case"L":case"Z":return f.line(o[0].x,o[0].y,o[1].x,o[1].y,n,t,e);case"SQ":case"Q":return f.quadraticline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,n,t,e);case"C":return f.cubicline(o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y,n,t,e);case"A":var u=o,s=u[1],c=u[2],h=u[3],l=u[4],d=u[5],v=u[6],m=u[7],y=u[8],x=h>l?h:l,b=h>l?1:h/l,_=h>l?l/h:1;u=[t,e,1];var w=[1,0,0,0,1,0,0,0,1];return g.translate(w,w,[-s,-c]),g.rotate(w,w,-m),g.scale(w,w,[1/b,1/_]),p.transformMat3(u,u,w),f.arcline(0,0,x,d,d+v,1-y,n,u[0],u[1])}return!1},draw:function(t){var e=this.command,n=this.params,r=void 0,i=void 0,o=void 0;switch(e){default:break;case"M":t.moveTo(n[1].x,n[1].y);break;case"TL":case"L":t.lineTo(n[1].x,n[1].y);break;case"SQ":case"Q":r=n[1],i=n[2],t.quadraticCurveTo(r.x,r.y,i.x,i.y);break;case"C":r=n[1],i=n[2],o=n[3],t.bezierCurveTo(r.x,r.y,i.x,i.y,o.x,o.y);break;case"A":var a=n,u=a[1],s=a[2],c=u,f=s,h=a[3],l=a[4],d=a[5],p=a[6],g=a[7],v=a[8],m=h>l?h:l,y=h>l?1:h/l,x=h>l?l/h:1;t.translate(c,f),t.rotate(g),t.scale(y,x),t.arc(0,0,m,d,d+p,1-v),t.scale(1/y,1/x),t.rotate(-g),t.translate(-c,-f);break;case"Z":t.closePath()}},getBBox:function(t){var e=t/2,n=this.params,r=void 0,i=void 0,o=void 0,a=void 0;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(n[0].x,n[1].x)-e,maxX:Math.max(n[0].x,n[1].x)+e,minY:Math.min(n[0].y,n[1].y)-e,maxY:Math.max(n[0].y,n[1].y)+e};break;case"SQ":case"Q":for(i=l.extrema(n[0].x,n[1].x,n[2].x),o=0,a=i.length;o<a;o++)i[o]=l.at(n[0].x,n[1].x,n[2].x,i[o]);for(i.push(n[0].x,n[2].x),r=l.extrema(n[0].y,n[1].y,n[2].y),o=0,a=r.length;o<a;o++)r[o]=l.at(n[0].y,n[1].y,n[2].y,r);r.push(n[0].y,n[2].y),this.box={minX:Math.min.apply(Math,i)-e,maxX:Math.max.apply(Math,i)+e,minY:Math.min.apply(Math,r)-e,maxY:Math.max.apply(Math,r)+e};break;case"C":for(i=h.extrema(n[0].x,n[1].x,n[2].x,n[3].x),o=0,a=i.length;o<a;o++)i[o]=h.at(n[0].x,n[1].x,n[2].x,n[3].x,i[o]);for(r=h.extrema(n[0].y,n[1].y,n[2].y,n[3].y),o=0,a=r.length;o<a;o++)r[o]=h.at(n[0].y,n[1].y,n[2].y,n[3].y,r[o]);i.push(n[0].x,n[3].x),r.push(n[0].y,n[3].y),this.box={minX:Math.min.apply(Math,i)-e,maxX:Math.max.apply(Math,i)+e,minY:Math.min.apply(Math,r)-e,maxY:Math.max.apply(Math,r)+e};break;case"A":var u=n,s=u[1],c=u[2],f=u[3],p=u[4],g=u[5],v=u[6],m=u[7],y=u[8],x=g,b=g+v,_=d.xExtrema(m,f,p),w=1/0,S=-(1/0),M=[x,b];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var O=_+o;1===y?x<O&&O<b&&M.push(O):b<O&&O<x&&M.push(O)}for(o=0,a=M.length;o<a;o++){var P=d.xAt(m,f,p,s,M[o]);P<w&&(w=P),P>S&&(S=P)}var E=d.yExtrema(m,f,p),A=1/0,j=-(1/0),C=[x,b];for(o=2*-Math.PI;o<=2*Math.PI;o+=Math.PI){var k=E+o;1===y?x<k&&k<b&&C.push(k):b<k&&k<x&&C.push(k)}for(o=0,a=C.length;o<a;o++){var I=d.yAt(m,f,p,c,C[o]);I<A&&(A=I),I>j&&(j=I)}this.box={minX:w-e,maxX:S+e,minY:A-e,maxY:j+e}}}}),t.exports=m},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1]);var t=this.__attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this.__attrs.x,-1*this.__attrs.y],["s",+t/12,+t/12],["t",this.__attrs.x,this.__attrs.y]])},__assembleFont:function(){var t=this.__attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;t.font=[i,o,r,e+"px",n].join(" ")},__afterSetAttrFontSize:function(){this.__assembleFont()},__afterSetAttrFontFamily:function(){this.__assembleFont()},__afterSetAttrFontWeight:function(){this.__assembleFont()},__afterSetAttrFontStyle:function(){this.__assembleFont()},__afterSetAttrFontVariant:function(){this.__assembleFont()},__afterSetAttrFont:function(){},__afterSetAttrText:function(){var t=this.__attrs,e=t.text,n=void 0;if(r.isString(e)&&e.indexOf("\n")!==-1){n=e.split("\n");var i=n.length;t.lineCount=i,t.textArr=n}},__getTextHeight:function(){var t=this.__attrs,e=t.lineCount,n=1*t.fontSize;if(e>1){var r=this.__getSpaceingY();return n*e+r*(e-1)}return n},__afterSetAttrAll:function(t){var e=this;("fontSize"in t||"fontWeight"in t||"fontStyle"in t||"fontVariant"in t||"fontFamily"in t)&&e.__assembleFont(),"text"in t&&e.__afterSetAttrText(t.text)},isHitBox:function(){return!1},calculateBox:function(){var t=this,e=t.__attrs,n=e.x,r=e.y,i=t.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var o=t.__getTextHeight(),a=e.textAlign,u=e.textBaseline,s=t.getHitLineWidth(),c={x:n,y:r-o};a&&("end"===a||"right"===a?c.x-=i:"center"===a&&(c.x-=i/2)),u&&("top"===u?c.y+=o:"middle"===u&&(c.y+=o/2)),this.set("startPoint",c);var f=s/2;return{minX:c.x-f,minY:c.y-f,maxX:c.x+i+f,maxY:c.y+o+f}},__getSpaceingY:function(){var t=this.__attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},isPointInPath:function(t,e){var n=this,r=n.getBBox();if(n.hasFill()||n.hasStroke())return o.box(r.minX,r.maxX,r.minY,r.maxY,t,e)},drawInner:function(t){var e=this,n=e.__attrs,i=n.text;if(i){var o=n.textArr,a=n.x,u=n.y;if(t.beginPath(),e.hasStroke()&&(o?e.__drawTextArr(t,!1):t.strokeText(i,a,u)),e.hasFill()){var s=n.fillOpacity;r.isNil(s)||1===s||(t.globalAlpha=s),o?e.__drawTextArr(t,!0):t.fillText(i,a,u)}}},__drawTextArr:function(t,e){var n=this.__attrs.textArr,i=this.__attrs.textBaseline,o=1*this.__attrs.fontSize,a=this.__getSpaceingY(),u=this.__attrs.x,s=this.__attrs.y,c=this.getBBox(),f=c.maxY-c.minY,h=void 0;r.each(n,function(n,r){h=s+r*(a+o)-f+o,"middle"===i&&(h+=f-o-(f-o)/2),"top"===i&&(h+=f-o),e?t.fillText(n,u,h):t.strokeText(n,u,h)})},measureText:function(){var t=this,e=t.__attrs,n=e.text,i=e.font,o=e.textArr,a=void 0,u=0;if(!r.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=i,o?r.each(o,function(t){a=s.measureText(t).width,u<a&&(u=a),s.restore()}):(u=s.measureText(n).width,s.restore()),u}}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(16),u=n(52),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=this.getHitLineWidth();return u.box(e,n,r,i,o)},isPointInPath:function(t,e){var n=this.__attrs,r=n.x1,i=n.y1,a=n.x2,u=n.y2,s=this.getHitLineWidth();return!!this.hasStroke()&&o.line(r,i,a,u,s,t,e)},createPath:function(t){var e=this.__attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||self.get("context"),t.beginPath(),a.addStartArrow(t,e,i,o,n,r),t.moveTo(n,r),t.lineTo(i,o),a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this.__attrs;return{x:u.at(e.x1,e.x2,t),y:u.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(a,i),r.augment(a,{type:"image",__afterSetAttrImg:function(t){this.__setAttrImg(t)},__afterSetAttrAll:function(t){t.img&&this.__setAttrImg(t.img)},isHitBox:function(){return!1},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e,minY:n,maxX:e+r,maxY:n+i}},isPointInPath:function(t,e){var n=this.__attrs;if(this.get("toDraw")||!n.img)return!1;var r=n.x,i=n.y,a=n.width,u=n.height;return o.rect(r,i,a,u,t,e)},__setLoading:function(t){var e=this.get("canvas");return t===!1&&this.get("toDraw")===!0&&(this.__cfg.loading=!1,e.draw()),t},__setAttrImg:function(t){var e=this,n=e.__attrs;if(!r.isString(t))return t instanceof Image?(n.width||e.attr("width",t.width),n.height||e.attr("height",t.height),t):t instanceof HTMLElement&&r.isString(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?(n.width||e.attr("width",Number(t.getAttribute("width"))),n.height||e.attr("height",Number(t.getAttribute("height"))),t):t instanceof ImageData?(n.width||e.attr("width",t.width),n.height||e.attr("height",t.height),t):null;var i=new Image;i.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",t),e.attr("img",i);var n=e.get("callback");n&&n.call(e),e.set("loading",!1)},i.src=t,e.set("loading",!0)},drawInner:function(t){return this.get("loading")?void this.set("toDraw",!0):void this.__drawImage(t)},__drawImage:function(t){var e=this.__attrs,n=e.x,i=e.y,o=e.img,a=e.width,u=e.height,s=e.sx,c=e.sy,f=e.swidth,h=e.sheight;if(this.set("toDraw",!1),o instanceof Image||o instanceof HTMLElement&&r.isString(o.nodeName)&&"CANVAS"===o.nodeName.toUpperCase()){if(r.isNil(s)||r.isNil(c)||r.isNil(f)||r.isNil(h))return void t.drawImage(o,n,i,a,u);if(!(r.isNil(s)||r.isNil(c)||r.isNil(f)||r.isNil(h)))return void t.drawImage(o,s,c,f,h,n,i,a,u)}else if(o instanceof ImageData)return void t.putImageData(o,n,i,s||0,c||0,f||a,h||u)}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={points:null,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this,e=t.__attrs,n=e.points,i=this.getHitLineWidth();if(!n||0===n.length)return null;var o=1/0,a=1/0,u=-(1/0),s=-(1/0);r.each(n,function(t){var e=t[0],n=t[1];e<o&&(o=e),e>u&&(u=e),n<a&&(a=n),n>s&&(s=n)});var c=i/2;return{minX:o-c,minY:a-c,maxX:u+c,maxY:s+c}},isPointInPath:function(t,e){var n=this,r=n.hasFill(),i=n.hasStroke();return r&&i?n.__isPointInFill(t,e)||n.__isPointInStroke(t,e):r?n.__isPointInFill(t,e):!!i&&n.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this,r=n.get("context");return n.createPath(),r.isPointInPath(t,e)},__isPointInStroke:function(t,e){var n=this,r=n.__attrs,i=r.points;if(i.length<2)return!1;var a=this.getHitLineWidth(),u=i.slice(0);return i.length>=3&&u.push(i[0]),o.polyline(u,a,t,e)},createPath:function(t){var e=this,n=e.__attrs,i=n.points;i.length<2||(t=t||e.get("context"),t.beginPath(),r.each(i,function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(16),u=n(52),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(s,i),r.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this,e=t.__attrs,n=this.getHitLineWidth(),i=e.points;if(!i||0===i.length)return null;var o=1/0,a=1/0,u=-(1/0),s=-(1/0);r.each(i,function(t){var e=t[0],n=t[1];e<o&&(o=e),e>u&&(u=e),n<a&&(a=n),n>s&&(s=n)});var c=n/2;return{minX:o-c,minY:a-c,maxX:u+c,maxY:s+c}},__setTcache:function(){var t=this,e=t.__attrs,n=e.points,i=0,o=0,a=[],s=void 0,c=void 0;n&&0!==n.length&&(r.each(n,function(t,e){n[e+1]&&(i+=u.len(t[0],t[1],n[e+1][0],n[e+1][1]))}),i<=0||(r.each(n,function(t,e){n[e+1]&&(s=[],s[0]=o/i,c=u.len(t[0],t[1],n[e+1][0],n[e+1][1]),o+=c,s[1]=o/i,a.push(s))}),this.tCache=a))},isPointInPath:function(t,e){var n=this,r=n.__attrs;if(n.hasStroke()){var i=r.points;if(i.length<2)return!1;var a=r.lineWidth;return o.polyline(i,a,t,e)}return!1},createPath:function(t){var e=this,n=e.__attrs,r=n.points,i=void 0,o=void 0;if(!(r.length<2)){for(t=t||e.get("context"),t.beginPath(),a.addStartArrow(t,n,r[1][0],r[1][1],r[0][0],r[0][1]),t.moveTo(r[0][0],r[0][1]),o=1,i=r.length-1;o<i;o++)t.lineTo(r[o][0],r[o][1]);t.lineTo(r[i][0],r[i][1]),a.addEndArrow(t,n,r[i-1][0],r[i-1][1],r[i][0],r[i][1])}},getPoint:function(t){var e=this.__attrs,n=e.points,i=this.tCache,o=void 0,a=void 0;return i||(this.__setTcache(),i=this.tCache),r.each(i,function(e,n){t>=e[0]&&t<=e[1]&&(o=(t-e[0])/(e[1]-e[0]),a=n)}),{x:u.at(n[a][0],n[a+1][0],o),y:u.at(n[a][1],n[a+1][1],o)}}}),t.exports=s},function(t,e,n){function r(t,e,n){return t+e*Math.cos(n)}function i(t,e,n){return t+e*Math.sin(n)}var o=n(0),a=n(1),u=n(2),s=n(54),c=n(16),f=function t(e){t.superclass.constructor.call(this,e)};f.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},o.extend(f,a),o.augment(f,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,a=t.clockwise,u=this.getHitLineWidth(),c=u/2,f=s.box(e,n,r,i,o,a);return f.minX-=c,f.minY-=c,f.maxX+=c,f.maxY+=c,f},isPointInPath:function(t,e){var n=this.__attrs,r=n.x,i=n.y,o=n.r,a=n.startAngle,s=n.endAngle,c=n.clockwise,f=this.getHitLineWidth();return!!this.hasStroke()&&u.arcline(r,i,o,a,s,c,f,t,e)},createPath:function(t){var e=this.__attrs,n=e.x,o=e.y,a=e.r,u=e.startAngle,s=e.endAngle,f=e.clockwise,h=void 0,l=void 0,d=void 0,p=void 0,g=void 0;t=t||self.get("context"),t.beginPath(),e.startArrow&&(h=Math.PI/180,f&&(h*=-1),l=r(n,a,u+h),d=i(o,a,u+h),p=r(n,a,u),g=i(o,a,u),c.addStartArrow(t,e,l,d,p,g)),t.arc(n,o,a,u,s,f),e.endArrow&&(h=Math.PI/180,f&&(h*=-1),l=r(n,a,s+h),d=i(o,a,s+h),p=r(n,a,s),g=i(o,a,s),c.addEndArrow(t,e,p,g,l,d))}}),t.exports=f},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(54),u=n(3).vec2,s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(s,i),r.augment(s,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this,e=t.__attrs,n=e.x,r=e.y,i=e.rs,o=e.re,u=e.startAngle,s=e.endAngle,c=e.clockwise,f=this.getHitLineWidth(),h=a.box(n,r,i,u,s,c),l=a.box(n,r,o,u,s,c),d=Math.min(h.minX,l.minX),p=Math.min(h.minY,l.minY),g=Math.max(h.maxX,l.maxX),v=Math.max(h.maxY,l.maxY),m=f/2;return{minX:d-m,minY:p-m,maxX:g+m,maxY:v+m}},isPointInPath:function(t,e){var n=this.hasFill(),r=this.hasStroke();return n&&r?this.__isPointInFill(t,e)||this.__isPointInStroke(t,e):n?this.__isPointInFill(t,e):!!r&&this.__isPointInStroke(t,e)},__isPointInFill:function(t,e){var n=this.__attrs,i=n.x,o=n.y,s=n.rs,c=n.re,f=n.startAngle,h=n.endAngle,l=n.clockwise,d=[1,0],p=[t-i,e-o],g=u.angleTo(d,p),v=a.nearAngle(g,f,h,l);if(r.isNumberEqual(g,v)){var m=u.squaredLength(p);if(s*s<=m&&m<=c*c)return!0}return!1},__isPointInStroke:function(t,e){var n=this.__attrs,r=n.x,i=n.y,a=n.rs,u=n.re,s=n.startAngle,c=n.endAngle,f=n.clockwise,h=this.getHitLineWidth(),l={x:Math.cos(s)*a+r,y:Math.sin(s)*a+i},d={x:Math.cos(s)*u+r,y:Math.sin(s)*u+i},p={x:Math.cos(c)*a+r,y:Math.sin(c)*a+i},g={x:Math.cos(c)*u+r,y:Math.sin(c)*u+i};return!!o.line(l.x,l.y,d.x,d.y,h,t,e)||(!!o.line(p.x,p.y,g.x,g.y,h,t,e)||(!!o.arcline(r,i,a,s,c,f,h,t,e)||!!o.arcline(r,i,u,s,c,f,h,t,e)))},createPath:function(t){var e=this.__attrs,n=e.x,r=e.y,i=e.rs,o=e.re,a=e.startAngle,u=e.endAngle,s=e.clockwise,c={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},f={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},h={x:Math.cos(u)*i+n,y:Math.sin(u)*i+r};t=t||self.get("context"),t.beginPath(),t.moveTo(c.x,c.y),t.lineTo(f.x,f.y),t.arc(n,r,o,a,u,s),t.lineTo(h.x,h.y),t.arc(n,r,i,u,a,!s),t.closePath()}}),t.exports=s},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(16),u=n(32),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={p1:null,p2:null,p3:null,p4:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"cubic",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this.__attrs,e=t.p1,n=t.p2,i=t.p3,o=t.p4,a=this.getHitLineWidth(),s=void 0,c=void 0;if(r.isNil(e)||r.isNil(n)||r.isNil(i)||r.isNil(o))return null;var f=a/2,h=u.extrema(e[0],n[0],i[0],o[0]);for(s=0,c=h.length;s<c;s++)h[s]=u.at(e[0],n[0],i[0],o[0],h[s]);var l=u.extrema(e[1],n[1],i[1],o[1]);for(s=0,c=l.length;s<c;s++)l[s]=u.at(e[1],n[1],i[1],o[1],l[s]);
return h.push(e[0],o[0]),l.push(e[1],o[1]),{minX:Math.min.apply(Math,h)-f,maxX:Math.max.apply(Math,h)+f,minY:Math.min.apply(Math,l)-f,maxY:Math.max.apply(Math,l)+f}},isPointInPath:function(t,e){var n=this.__attrs,r=n.p1,i=n.p2,a=n.p3,u=n.p4,s=this.getHitLineWidth();return o.cubicline(r[0],r[1],i[0],i[1],a[0],a[1],u[0],u[1],s,t,e)},createPath:function(t){var e=this.__attrs,n=e.p1,i=e.p2,o=e.p3,u=e.p4;t=t||self.get("context"),r.isNil(n)||r.isNil(i)||r.isNil(o)||r.isNil(u)||(t.beginPath(),a.addStartArrow(t,e,i[0],i[1],n[0],n[1]),t.moveTo(n[0],n[1]),t.bezierCurveTo(i[0],i[1],o[0],o[1],u[0],u[1]),a.addEndArrow(t,e,o[0],o[1],u[0],u[1]))},getPoint:function(t){var e=this.__attrs;return{x:u.at(e.p4[0],e.p3[0],e.p2[0],e.p1[0],t),y:u.at(e.p4[1],e.p3[1],e.p2[1],e.p1[1],t)}}}),t.exports=s},function(t,e,n){var r=n(0),i=n(1),o=n(2),a=n(16),u=n(53),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={p1:null,p2:null,p3:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"quadratic",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this,e=t.__attrs,n=e.p1,i=e.p2,o=e.p3,a=this.getHitLineWidth(),s=void 0,c=void 0;if(r.isNil(n)||r.isNil(i)||r.isNil(o))return null;var f=a/2,h=u.extrema(n[0],i[0],o[0]);for(s=0,c=h.length;s<c;s++)h[s]=u.at(n[0],i[0],o[0],h[s]);h.push(n[0],o[0]);var l=u.extrema(n[1],i[1],o[1]);for(s=0,c=l.length;s<c;s++)l[s]=u.at(n[1],i[1],o[1],l[s]);return l.push(n[1],o[1]),{minX:Math.min.apply(Math,h)-f,maxX:Math.max.apply(Math,h)+f,minY:Math.min.apply(Math,l)-f,maxY:Math.max.apply(Math,l)+f}},isPointInPath:function(t,e){var n=this,r=n.__attrs,i=r.p1,a=r.p2,u=r.p3,s=this.getHitLineWidth();return o.quadraticline(i[0],i[1],a[0],a[1],u[0],u[1],s,t,e)},createPath:function(t){var e=this,n=e.__attrs,i=n.p1,o=n.p2,u=n.p3;r.isNil(i)||r.isNil(o)||r.isNil(u)||(t=t||e.get("context"),t.beginPath(),a.addStartArrow(t,n,o[0],o[1],i[0],i[1]),t.moveTo(i[0],i[1]),t.quadraticCurveTo(o[0],o[1],u[0],u[1]),a.addEndArrow(t,n,o[0],o[1],u[0],u[1]))},getPoint:function(t){var e=this.__attrs;return{x:u.at(e.p1[0],e.p2[0],e.p3[0],t),y:u.at(e.p1[1],e.p2[1],e.p3[1],t)}}}),t.exports=s},function(t,e,n){t.exports={Canvas:n(115),Group:n(90),Shape:n(1),Rect:n(55),Circle:n(101),Ellipse:n(102),Path:n(103),Text:n(105),Line:n(106),Image:n(107),Polygon:n(108),Polyline:n(109),Arc:n(110),Fan:n(111),Cubic:n(112),Quadratic:n(113),Marker:n(56),PathUtil:n(46),PathSegment:n(104),MatrixUtil:n(3),CommonUtil:n(17),DomUtil:n(88),Event:n(89),version:"2.0.7-beta.5"}},function(t,e,n){var r=n(0),i=n(89),o=n(90),a=function t(e){t.superclass.constructor.call(this,e)};a.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null},r.extend(a,o),r.augment(a,{init:function(){a.superclass.init.call(this),this._setGlobalParam(),this._setDOM(),this._setInitSize(),this._setCanvas(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var o=new i(t,e,!0,!0);return o.x=n.x,o.y=n.y,o.clientX=e.clientX,o.clientY=e.clientY,o.currentTarget=r,o.target=r,o},_triggerEvent:function(t,e){var n=this.getPointByClient(e.clientX,e.clientY),r=this.getShape(n.x,n.y),i=void 0;if("mousemove"===t){var o=this._getEventObj("mousemove",e,n,this);this.emit("mousemove",o);var a=this.get("preShape");if(a&&a!==r){var u=this._getEventObj("mouseleave",e,n,a);i=this.getEmitter(a,e),i&&i.emit("mouseleave",u)}if(r){var s=this._getEventObj("mousemove",e,n,r);if(i=this.getEmitter(r,e),i&&i.emit("mousemove",s),a!==r){var c=this._getEventObj("mouseenter",e,n,r);i&&i.emit("mouseenter",c,e)}}this.set("preShape",r)}else{var f=this._getEventObj(t,e,n,r||this);i=this.getEmitter(r,e),i&&i!==this&&i.emit(t,f),this.emit(t,f)}var h=this.get("el");r&&!r.get("destroyed")&&(h.style.cursor=r.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");e.addEventListener("mouseout",function(e){t._triggerEvent("mouseleave",e)},!1),e.addEventListener("mouseover",function(e){t._triggerEvent("mouseenter",e)},!1),e.addEventListener("mousemove",function(e){t._triggerEvent("mousemove",e)},!1),e.addEventListener("mousedown",function(e){t._triggerEvent("mousedown",e)},!1),e.addEventListener("mouseup",function(e){t._triggerEvent("mouseup",e)},!1),e.addEventListener("click",function(e){t._triggerEvent("click",e)},!1),e.addEventListener("dblclick",function(e){t._triggerEvent("dblclick",e)},!1),e.addEventListener("touchstart",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setCanvas:function(){var t=this.get("canvasDOM");this.set("el",t),this.set("context",t.getContext("2d")),this.set("canvas",this)},_setGlobalParam:function(){var t=this.get("pixelRatio");t||this.set("pixelRatio",r.getRatio())},_setDOM:function(){this._setContainer(),this._setLayer()},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_setLayer:function(){var t=this.get("containerDOM"),e=r.uniqueId("canvas_");if(t){var n=r.createDom('<canvas id="'+e+'"></canvas>');t.appendChild(n),this.set("canvasDOM",n)}},_setInitSize:function(){this.changeSize(this.get("width"),this.get("height"))},_reSize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio"),e=this.get("width");return e*t},getHeight:function(){var t=this.get("pixelRatio"),e=this.get("height");return e*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._reSize()},getPointByClient:function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top;return{x:(t-r.left)*(n.width/i),y:(e-r.top)*(n.height/o)}},getClientByPoint:function(t,e){var n=this.get("el"),r=n.getBoundingClientRect(),i=r.right-r.left,o=r.bottom-r.top;return{clientX:t/(n.width/i)+r.left,clientY:e/(n.height/o)+r.top}},beforeDraw:function(){var t=this.get("context"),e=this.get("el");t&&t.clearRect(0,0,e.width,e.height)},_beginDraw:function(){this.setSilent("toDraw",!0)},_endDraw:function(){this.setSilent("toDraw",!1)},draw:function(){function t(){e.setSilent("animateHandler",r.requestAnimationFrame(function(){e.setSilent("animateHandler",void 0),e.get("toDraw")&&t()})),e.beforeDraw();try{var n=e.get("context");a.superclass.draw.call(e,n)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e._endDraw()}e._endDraw()}var e=this;e.get("destroyed")||(e.get("animateHandler")?this._beginDraw():t())},destroy:function(){var t=this.get("containerDOM"),e=this.get("canvasDOM");e&&t&&t.removeChild(e),a.superclass.destroy.call(this)}}),t.exports=a},function(t,e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e,n){function r(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(e?t[s]=n:delete t[s]),i}var i=n(11),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,s=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t){return t===!0||t===!1||o(t)&&i(t)==a}var i=n(7),o=n(4),a="[object Boolean]";t.exports=r},function(t,e){function n(t){return null==t}t.exports=n},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&i(t)==a}var i=n(7),o=n(4),a="[object Number]";t.exports=r},function(t,e,n){function r(t){if(null==t)return!0;if(s(t)&&(u(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||h(t)||a(t)))return!t.length;var e=o(t);if(e==l||e==d)return!t.size;if(f(t))return!i(t).length;for(var n in t)if(g.call(t,n))return!1;return!0}var i=n(59),o=n(12),a=n(34),u=n(6),s=n(9),c=n(19),f=n(18),h=n(23),l="[object Map]",d="[object Set]",p=Object.prototype,g=p.hasOwnProperty;t.exports=r},function(t,e,n){var r=n(60),i=r(Object.keys,Object);t.exports=i},function(t,e,n){var r=n(10),i=n(5),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){if(!a(t)||o(t))return!1;var e=i(t)?p:c;return e.test(u(t))}var i=n(22),o=n(126),a=n(8),u=n(61),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,l=f.toString,d=h.hasOwnProperty,p=RegExp("^"+l.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(127),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(5),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){var r=n(10),i=n(5),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(10),i=n(5),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(10),i=n(5),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(7),o=n(4),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!k[i(t)]}var i=n(7),o=n(62),a=n(4),u="[object Arguments]",s="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",l="[object Function]",d="[object Map]",p="[object Number]",g="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",k={};k[w]=k[S]=k[M]=k[O]=k[P]=k[E]=k[A]=k[j]=k[C]=!0,k[u]=k[s]=k[b]=k[c]=k[_]=k[f]=k[h]=k[l]=k[d]=k[p]=k[g]=k[v]=k[m]=k[y]=k[x]=!1,t.exports=r},function(t,e,n){function r(t){var e=++o;return i(t)+e}var i=n(63),o=0;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(u(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}var i=n(11),o=n(37),a=n(6),u=n(137),s=1/0,c=i?i.prototype:void 0,f=c?c.toString:void 0;t.exports=r},function(t,e,n){function r(t){return"symbol"==("undefined"==typeof t?"undefined":i(t))||a(t)&&o(t)==u}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(7),a=n(4),u="[object Symbol]";t.exports=r},function(t,e,n){function r(t){return i(t,o)}var i=n(139),o=4;t.exports=r},function(t,e,n){function r(t,e,n,j,C,k){var I,F=e&O,D=e&P,N=e&E;if(n&&(I=C?n(t,j,C,k):n(t)),void 0!==I)return I;if(!w(t))return t;var Y=x(t);if(Y){if(I=v(t),!F)return f(t,I)}else{var G=g(t),X=G==B||G==T;if(b(t))return c(t,F);if(G==L||G==A||X&&!C){if(I=D||X?{}:y(t),!F)return D?l(t,s(I,t)):h(t,u(I,t))}else{if(!tt[G])return C?t:{};I=m(t,G,F)}}k||(k=new i);var R=k.get(t);if(R)return R;if(k.set(t,I),S(t))return t.forEach(function(i){I.add(r(i,e,n,i,t,k))}),I;if(_(t))return t.forEach(function(i,o){I.set(o,r(i,e,n,o,t,k))}),I;var z=N?D?p:d:D?keysIn:M,H=Y?void 0:z(t);return o(H||t,function(i,o){H&&(o=i,i=t[o]),a(I,o,r(i,e,n,o,t,k))}),I}var i=n(38),o=n(65),a=n(39),u=n(162),s=n(164),c=n(69),f=n(30),h=n(167),l=n(169),d=n(73),p=n(170),g=n(12),v=n(171),m=n(172),y=n(77),x=n(6),b=n(19),_=n(177),w=n(8),S=n(179),M=n(14),O=1,P=2,E=4,A="[object Arguments]",j="[object Array]",C="[object Boolean]",k="[object Date]",I="[object Error]",B="[object Function]",T="[object GeneratorFunction]",F="[object Map]",D="[object Number]",L="[object Object]",N="[object RegExp]",Y="[object Set]",G="[object String]",X="[object Symbol]",R="[object WeakMap]",z="[object ArrayBuffer]",H="[object DataView]",U="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",V="[object Int16Array]",Z="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]",tt={};tt[A]=tt[j]=tt[z]=tt[H]=tt[C]=tt[k]=tt[U]=tt[W]=tt[q]=tt[V]=tt[Z]=tt[F]=tt[D]=tt[L]=tt[N]=tt[Y]=tt[G]=tt[X]=tt[K]=tt[$]=tt[Q]=tt[J]=!0,tt[I]=tt[B]=tt[R]=!1,t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var i=n(26),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(26);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(26);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(26);t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(25);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(25),o=n(33),a=n(64),u=200;t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(151),o=n(25),a=n(33);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(152),o=n(153),a=n(154),u=n(155),s=n(156);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(27);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return u.call(e,t)?e[t]:void 0}var i=n(27),o="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(27),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(27),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(28);t.exports=r},function(t,e){function n(t){var e="undefined"==typeof t?"undefined":r(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(28);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(28);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(28);t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(13),o=n(14);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(13),o=n(29);t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&s.call(t,r))&&n.push(r);return n}var i=n(8),o=n(18),a=n(166),u=Object.prototype,s=u.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(13),o=n(41);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(13),o=n(71);t.exports=r},function(t,e,n){function r(t){return i(t,a,o)}var i=n(74),o=n(71),a=n(29);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case m:return i(t);case c:case f:return new r(+t);case y:return o(t,n);case x:case b:case _:case w:case S:case M:case O:case P:case E:return s(t,n);case h:return new r;case l:case g:return new r(t);case d:return a(t);case p:return new r;case v:return u(t)}}var i=n(43),o=n(173),a=n(174),u=n(175),s=n(76),c="[object Boolean]",f="[object Date]",h="[object Map]",l="[object Number]",d="[object RegExp]",p="[object Set]",g="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",E="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(43);t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(11),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(8),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){var r=n(178),i=n(24),o=n(36),a=o&&o.isMap,u=a?i(a):r;t.exports=u},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(12),o=n(4),a="[object Map]";t.exports=r},function(t,e,n){var r=n(180),i=n(24),o=n(36),a=o&&o.isSet,u=a?i(a):r;t.exports=u},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(12),o=n(4),a="[object Set]";t.exports=r},function(t,e,n){var r=n(39),i=n(13),o=n(78),a=n(9),u=n(18),s=n(14),c=Object.prototype,f=c.hasOwnProperty,h=o(function(t,e){if(u(e)||a(e))return void i(e,s(e),t);for(var n in e)f.call(e,n)&&r(t,n,e[n])});t.exports=h},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,u=o(r.length-e,0),s=Array(u);++a<u;)s[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(s),i(t,this,c)}}var i=n(183),o=Math.max;t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){var r=n(185),i=n(187),o=i(r);t.exports=o},function(t,e,n){var r=n(186),i=n(66),o=n(44),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),u=i-(a-n);if(n=a,u>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r="undefined"==typeof e?"undefined":i(e);return!!("number"==r?a(n)&&u(e,n.length):"string"==r&&e in n)&&o(n[e],t)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(20),a=n(9),u=n(68),s=n(8);t.exports=r},function(t,e,n){var r=n(190),i=n(78),o=i(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){function r(t,e,n,h,l){t!==e&&a(e,function(a,c){if(s(a))l||(l=new i),u(t,e,c,n,r,h,l);else{var d=h?h(f(t,c),a,c+"",t,e,l):void 0;void 0===d&&(d=a),o(t,c,d)}},c)}var i=n(38),o=n(80),a=n(81),u=n(192),s=n(8),c=n(29),f=n(82);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(n(o[s],s,o)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t,e,n,r,x,b,_){var w=m(t,n),S=m(e,n),M=_.get(S);if(M)return void i(t,n,M);var O=b?b(w,S,n+"",t,e,_):void 0,P=void 0===O;if(P){var E=f(S),A=!E&&l(S),j=!E&&!A&&v(S);O=S,E||A||j?f(w)?O=w:h(w)?O=u(w):A?(P=!1,O=o(S,!0)):j?(P=!1,O=a(S,!0)):O=[]:g(S)||c(S)?(O=w,c(w)?O=y(w):(!p(w)||r&&d(w))&&(O=s(S))):P=!1}P&&(_.set(S,O),x(O,S,r,b,_),_.delete(S)),i(t,n,O)}var i=n(80),o=n(69),a=n(76),u=n(30),s=n(77),c=n(34),f=n(6),h=n(193),l=n(19),d=n(22),p=n(8),g=n(194),v=n(23),m=n(82),y=n(195);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(9),o=n(4);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=u)return!1;var e=o(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==l}var i=n(7),o=n(42),a=n(4),u="[object Object]",s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=f.call(Object);t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(13),o=n(29);t.exports=r},function(t,e,n){var r=n(197),i=r("toUpperCase");t.exports=i},function(t,e,n){function r(t){return function(e){e=u(e);var n=o(e)?a(e):void 0,r=n?n[0]:e.charAt(0),s=n?i(n,1).join(""):e.slice(1);return r[t]()+s}}var i=n(198),o=n(83),a=n(84),u=n(63);t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}var i=n(199);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(w)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",u=i+o+a,s="\\ufe0e\\ufe0f",c="["+r+"]",f="["+u+"]",h="\\ud83c[\\udffb-\\udfff]",l="(?:"+f+"|"+h+")",d="[^"+r+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=l+"?",y="["+s+"]?",x="(?:"+v+"(?:"+[d,p,g].join("|")+")"+y+m+")*",b=y+m+x,_="(?:"+[d+f+"?",f,p,g,c].join("|")+")",w=RegExp(h+"(?="+h+")|"+_+b,"g");t.exports=n},function(t,e,n){var r=n(79),i=n(203),o=r(i);t.exports=o},function(t,e,n){function r(t,e){return t&&t.length&&e&&e.length?i(t,e):t}var i=n(204);t.exports=r},function(t,e,n){function r(t,e,n,r){var c=r?a:o,h=-1,l=e.length,d=t;for(t===e&&(e=s(e)),n&&(d=i(t,u(n)));++h<l;)for(var p=0,g=e[h],v=n?n(g):g;(p=c(d,v,p,r))>-1;)d!==t&&f.call(d,p,1),f.call(t,p,1);return t}var i=n(37),o=n(205),a=n(209),u=n(24),s=n(30),c=Array.prototype,f=c.splice;t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(206),o=n(207),a=n(208);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e){function n(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}t.exports=n},function(t,e,n){function r(t,e){var n=u(t)?i:o;return n(t,a(e))}var i=n(65),o=n(211),a=n(214),u=n(6);t.exports=r},function(t,e,n){var r=n(212),i=n(213),o=i(r);t.exports=o},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(81),o=n(14);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,u=Object(n);(e?a--:++a<o)&&r(u[a],a,u)!==!1;);return n}}var i=n(9);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(44);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)}var i=n(216);t.exports=r},function(t,e,n){function r(t,e,n,a,u){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,u))}var i=n(217),o=n(4);t.exports=r},function(t,e,n){function r(t,e,n,r,v,y){var x=c(t),b=c(e),_=x?p:s(t),w=b?p:s(e);_=_==d?g:_,w=w==d?g:w;var S=_==g,M=w==g,O=_==w;if(O&&f(t)){if(!f(e))return!1;x=!0,S=!1}if(O&&!S)return y||(y=new i),x||h(t)?o(t,e,n,r,v,y):a(t,e,_,n,r,v,y);if(!(n&l)){var P=S&&m.call(t,"__wrapped__"),E=M&&m.call(e,"__wrapped__");if(P||E){var A=P?t.value():t,j=E?e.value():e;return y||(y=new i),v(A,j,n,r,y)}}return!!O&&(y||(y=new i),u(t,e,n,r,v,y))}var i=n(38),o=n(85),a=n(223),u=n(224),s=n(12),c=n(6),f=n(19),h=n(23),l=1,d="[object Arguments]",p="[object Array]",g="[object Object]",v=Object.prototype,m=v.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(64),o=n(219),a=n(220);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e,n,r,i,S,O){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case l:case d:case v:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case x:return t==e+"";case g:var P=s;case y:var E=r&f;if(P||(P=c),t.size!=e.size&&!E)return!1;var A=O.get(t);if(A)return A==e;r|=h,O.set(t,e);var j=u(P(t),P(e),r,i,S,O);return O.delete(t),j;case b:if(M)return M.call(t)==M.call(e)}return!1}var i=n(11),o=n(75),a=n(20),u=n(85),s=n(86),c=n(87),f=1,h=2,l="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",x="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",S=i?i.prototype:void 0,M=S?S.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,s){var c=n&o,f=i(t),h=f.length,l=i(e),d=l.length;if(h!=d&&!c)return!1;for(var p=h;p--;){var g=f[p];if(!(c?g in e:u.call(e,g)))return!1}var v=s.get(t);if(v&&s.get(e))return v==e;var m=!0;s.set(t,e),s.set(e,t);for(var y=c;++p<h;){g=f[p];var x=t[g],b=e[g];if(r)var _=c?r(b,x,g,e,t,s):r(x,b,g,t,e,s);if(!(void 0===_?x===b||a(x,b,n,r,s):_)){m=!1;break}y||(y="constructor"==g)}if(m&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var i=n(73),o=1,a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){if(!t)return[];if(u(t))return s(t)?l(t):o(t);if(v&&t[v])return c(t[v]());var e=a(t),n=e==p?f:e==g?h:d;return n(t)}var i=n(11),o=n(30),a=n(12),u=n(9),s=n(58),c=n(226),f=n(86),h=n(87),l=n(84),d=n(227),p="[object Map]",g="[object Set]",v=i?i.iterator:void 0;t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e,n){function r(t){return null==t?[]:i(t,o(t))}var i=n(228),o=n(14);t.exports=r},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(37);t.exports=r},function(t,e,n){var r=n(0),i=["strokeStyle","fillStyle","globalAlpha"],o=["circle","ellipse","fan","polygon","rect","path"],a={r:"R",opacity:"Opacity",lineWidth:"LineWidth",clip:"Clip",stroke:"Stroke",fill:"Fill",strokeOpacity:"Stroke",fillOpacity:"Fill",x:"X",y:"Y",rx:"Rx",ry:"Ry",re:"Re",rs:"Rs",width:"Width",height:"Height",img:"Img",x1:"X1",x2:"X2",y1:"Y1",y2:"Y2",points:"Points",p1:"P1",p2:"P2",p3:"P3",p4:"P4",text:"Text",radius:"Radius",textAlign:"TextAlign",textBaseline:"TextBaseline",font:"Font",fontSize:"FontSize",fontStyle:"FontStyle",fontVariant:"FontVariant",fontWeight:"FontWeight",fontFamily:"FontFamily",clockwise:"Clockwise",startAngle:"StartAngle",endAngle:"EndAngle",path:"Path"},u={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"};t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this.__attrs={opacity:1,fillOpacity:1,strokeOpacity:1},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){var n=this;if(0===arguments.length)return n.__attrs;if(r.isObject(t)){for(var o in t)if(i.indexOf(o)===-1){var u=t[o];n._setAttr(o,u)}return n.__afterSetAttrAll&&n.__afterSetAttrAll(t),n.clearBBox(),n}if(2===arguments.length){if(n._setAttr(t,e)!==!1){var s="__afterSetAttr"+a[t];n[s]&&n[s](e)}return n.clearBBox(),n}return n._getAttr(t)},clearBBox:function(){this.setSilent("box",null)},__afterSetAttrAll:function(){},_getAttr:function(t){return this.__attrs[t]},_setAttr:function(t,e){var n=this;if("clip"===t)n.__setAttrClip(e),n.__attrs.clip=e;else if("transform"===t)n.__setAttrTrans(e);else{n.__attrs[t]=e;var r=u[t];r&&(n.__attrs[r]=e)}return n},hasFill:function(){return this.canFill&&this.__attrs.fillStyle},hasStroke:function(){return this.canStroke&&this.__attrs.strokeStyle},__setAttrOpacity:function(t){return this.__attrs.globalAlpha=t,t},__setAttrClip:function(t){var e=this;return t&&o.indexOf(t.type)>-1?(null===t.get("canvas")&&(t=r.clone(t)),t.set("parent",e.get("parent")),t.set("context",e.get("context")),t.inside=function(n,r){var i=[n,r,1];return t.invert(i,e.get("canvas")),t.__isPointInFill(i[0],i[1])},t):null},__setAttrTrans:function(t){return this.transform(t)}}},function(t,e,n){function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function i(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function o(t,e){r(e)||(i(e)?(t[0]*=e[0],t[4]*=e[4]):u.multiply(t,t,e))}var a=n(0),u=n(3).mat3,s=n(3).vec3;t.exports={initTransform:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this.attr("matrix");return u.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this.attr("matrix");return u.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this.attr("matrix");return u.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this.attr("x"),n=this.attr("y");Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;this.translate(t-n,e-r),this.set("x",t),this.set("y",e)},transform:function(t){var e=this,n=e.attr("matrix");return a.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",u.multiply([],n,t[1])),
e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n=void 0;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),s.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){var e=this;t=t||e;for(var n=e,r=[];n!==t;)r.unshift(n),n=n.get("parent");r.unshift(n);var i=[1,0,0,0,1,0,0,0,1];return a.each(r,function(t){u.multiply(i,t.attr("matrix"),i)}),i},getTotalMatrix:function(){var t=this.__cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this.__cfg.parent;if(e){var n=e.getTotalMatrix();o(t,n)}o(t,this.attr("matrix")),this.__cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(i(e))t[0]/=e[0],t[1]/=e[4];else{var n=u.invert([],e);n&&s.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(45),i={};i.create=function(){var t=new r.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},i.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromValues=function(t,e,n,i,o,a,u,s,c){var f=new r.ARRAY_TYPE(9);return f[0]=t,f[1]=e,f[2]=n,f[3]=i,f[4]=o,f[5]=a,f[6]=u,f[7]=s,f[8]=c,f},i.set=function(t,e,n,r,i,o,a,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t},i.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},i.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=f*a-u*c,l=-f*o+u*s,d=c*o-a*s,p=n*h+r*l+i*d;return p?(p=1/p,t[0]=h*p,t[1]=(-f*r+i*c)*p,t[2]=(u*r-i*a)*p,t[3]=l*p,t[4]=(f*n-i*s)*p,t[5]=(-u*n+i*o)*p,t[6]=d*p,t[7]=(-c*n+r*s)*p,t[8]=(a*n-r*o)*p,t):null},i.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=i*c-r*f,t[2]=r*u-i*a,t[3]=u*s-o*f,t[4]=n*f-i*s,t[5]=i*o-n*u,t[6]=o*c-a*s,t[7]=r*s-n*c,t[8]=n*a-r*o,t},i.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*o-a*s)+n*(-c*i+a*u)+r*(s*i-o*u)},i.multiply=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=n[0],d=n[1],p=n[2],g=n[3],v=n[4],m=n[5],y=n[6],x=n[7],b=n[8];return t[0]=l*r+d*a+p*c,t[1]=l*i+d*u+p*f,t[2]=l*o+d*s+p*h,t[3]=g*r+v*a+m*c,t[4]=g*i+v*u+m*f,t[5]=g*o+v*s+m*h,t[6]=y*r+x*a+b*c,t[7]=y*i+x*u+b*f,t[8]=y*o+x*s+b*h,t},i.mul=i.multiply,i.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=u,t[5]=s,t[6]=l*r+d*a+c,t[7]=l*i+d*u+f,t[8]=l*o+d*s+h,t},i.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],h=e[8],l=Math.sin(n),d=Math.cos(n);return t[0]=d*r+l*a,t[1]=d*i+l*u,t[2]=d*o+l*s,t[3]=d*a-l*r,t[4]=d*u-l*i,t[5]=d*s-l*o,t[6]=c,t[7]=f,t[8]=h,t},i.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},i.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},i.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},i.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},i.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,u=r+r,s=i+i,c=n*a,f=r*a,h=r*u,l=i*a,d=i*u,p=i*s,g=o*a,v=o*u,m=o*s;return t[0]=1-h-p,t[3]=f-m,t[6]=l+v,t[1]=f+m,t[4]=1-c-p,t[7]=d-g,t[2]=l-v,t[5]=d+g,t[8]=1-c-h,t},i.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],h=e[9],l=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=n*u-r*a,x=n*s-i*a,b=n*c-o*a,_=r*s-i*u,w=r*c-o*u,S=i*c-o*s,M=f*g-h*p,O=f*v-l*p,P=f*m-d*p,E=h*v-l*g,A=h*m-d*g,j=l*m-d*v,C=y*j-x*A+b*E+_*P-w*O+S*M;return C?(C=1/C,t[0]=(u*j-s*A+c*E)*C,t[1]=(s*P-a*j-c*O)*C,t[2]=(a*A-u*P+c*M)*C,t[3]=(i*A-r*j-o*E)*C,t[4]=(n*j-i*P+o*O)*C,t[5]=(r*P-n*A-o*M)*C,t[6]=(g*S-v*w+m*_)*C,t[7]=(v*b-p*S-m*x)*C,t[8]=(p*w-g*b+m*y)*C,t):null},i.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},i.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t},i.sub=i.subtract,i.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},i.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],h=t[8],l=e[0],d=e[1],p=e[2],g=e[3],v=e[4],m=e[5],y=t[6],x=e[7],b=e[8];return Math.abs(n-l)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-d)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-v)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-m)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-y)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-x)<=r.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(h-b)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(b))},t.exports=i},function(t,e,n){var r=n(45),i={};i.create=function(){var t=new r.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},i.fromValues=function(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},i.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},i.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2];return t[0]=i*s-o*u,t[1]=o*a-r*s,t[2]=r*u-i*a,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},i.hermite=function(t,e,n,r,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*u+n[0]*s+r[0]*c+i[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+i[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+i[2]*f,t},i.bezier=function(t,e,n,r,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,f=3*o*u,h=3*s*a,l=s*o;return t[0]=e[0]*c+n[0]*f+r[0]*h+i[0]*l,t[1]=e[1]*c+n[1]*f+r[1]*h+i[1]*l,t[2]=e[2]*c+n[2]*f+r[2]*h+i[2]*l,t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,o=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=i*e,t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},i.transformQuat=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*o-s*i,h=c*i+s*r-a*o,l=c*o+a*i-u*r,d=-a*r-u*i-s*o;return t[0]=f*c+d*-a+h*-s-l*-u,t[1]=h*c+d*-u+l*-a-f*-s,t[2]=l*c+d*-s+f*-u-h*-a,t},i.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var u,s;for(n||(n=3),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),i.angle=function(t,e){var n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(e[0],e[1],e[2]);i.normalize(n,n),i.normalize(r,r);var o=i.dot(n,r);return o>1?0:Math.acos(o)},i.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},i.equals=function(t,e){var n=t[0],i=t[1],o=t[2],a=e[0],u=e[1],s=e[2];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-u)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-s)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))},t.exports=i},function(t,e,n){var r=n(45),i={};i.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},i.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},i.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},i.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},i.set=function(t,e,n){return t[0]=e,t[1]=n,t},i.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},i.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},i.sub=i.subtract,i.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},i.mul=i.multiply,i.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},i.div=i.divide,i.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},i.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},i.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},i.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},i.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},i.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},i.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},i.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},i.dist=i.distance,i.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},i.sqrDist=i.squaredDistance,i.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},i.len=i.length,i.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},i.sqrLen=i.squaredLength,i.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},i.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},i.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},i.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},i.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},i.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},i.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},i.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},i.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},i.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},i.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},i.forEach=function(){var t=i.create();return function(e,n,r,i,o,a){var u,s;for(n||(n=2),r||(r=0),s=i?Math.min(i*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],o(t,t,a),e[u]=t[0],e[u+1]=t[1];return e}}(),i.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},i.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},i.equals=function(t,e){var n=t[0],i=t[1],o=e[0],a=e[1];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))},t.exports=i},function(t,e,n){var r=n(3),i=n(46),o=n(0),a=n(235),u=n(246),s=n(249),c=s.interpolate,f=s.interpolateArray,h={delay:"delay"};t.exports={stopAnimate:function(){var t=this,e=t.get("canvas");if(!t.get("destroyed")&&t.get("animating")){var n=t.attr("clip");n&&n.get("animating")&&n.stopAnimate();var r=t.get("animateTimer");r&&(r.stop(),t.setSilent("animateTimer",null));var i=t.get("animateCfg");i&&(t.attr(i.toAttrs),i.toM&&t.setMatrix(i.toM),i.callback&&i.callback(),t.setSilent("animateCfg",null)),t.setSilent("animating",!1),e.draw()}},animate:function(t,e,n,s){function l(t){var r=t%e/e;r=a[n](r),p(r)}function d(t){var r=t/e;r<1?(r=a[n](r),p(r)):(p(1),s&&s(),y.setSilent("animating",!1),y.setSilent("animateCfg",null),y.setSilent("animateTimer",null),P.stop())}function p(t){var e={};if(!y.get("destroyed")){var n=void 0;for(var r in _)if(!o.isEqual(S[r],_[r]))if("path"===r){var a=i.parsePathString(_[r]),u=i.parsePathString(S[r]);e[r]=[];for(var s=0;s<a.length;s++){for(var h=a[s],l=u[s],d=[],p=0;p<h.length;p++)o.isNumber(h[p])&&l?(n=c(l[p],h[p]),d.push(n(t))):d.push(h[p]);e[r].push(d)}}else n=c(S[r],_[r]),e[r]=n(t);if(w){var g=f(M,w),v=g(t);y.setMatrix(v)}y.attr(e),x.draw()}}function g(t){var e={M:null,attrs:{}};for(var n in t)"transform"===n?e.M=r.transform(y.getMatrix(),t[n]):"matrix"===n?e.M=t[n]:h[n]||(e.attrs[n]=t[n]);return e}function v(t){var e={};for(var n in t)e[n]=y.attr(n);return e}var m=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,y=this,x=y.get("canvas"),b=g(t),_=b.attrs,w=b.M,S=v(_),M=o.clone(y.getMatrix()),O=t.repeat,P=y.get("animateTimer");P&&P.stop(),o.isNumber(s)&&(m=s,s=null),o.isFunction(n)?(s=n,n="easeLinear"):n=n?n:"easeLinear",y.setSilent("animating",!0),y.setSilent("animateCfg",{toAttrs:_,toM:w,callback:s}),P=u.timer(function(t){O?l(t):d(t)},m),y.setSilent("animateTimer",P)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(236);n.d(e,"easeLinear",function(){return r.a});var i=n(237);n.d(e,"easeQuad",function(){return i.b}),n.d(e,"easeQuadIn",function(){return i.a}),n.d(e,"easeQuadOut",function(){return i.c}),n.d(e,"easeQuadInOut",function(){return i.b});var o=n(238);n.d(e,"easeCubic",function(){return o.b}),n.d(e,"easeCubicIn",function(){return o.a}),n.d(e,"easeCubicOut",function(){return o.c}),n.d(e,"easeCubicInOut",function(){return o.b});var a=n(239);n.d(e,"easePoly",function(){return a.b}),n.d(e,"easePolyIn",function(){return a.a}),n.d(e,"easePolyOut",function(){return a.c}),n.d(e,"easePolyInOut",function(){return a.b});var u=n(240);n.d(e,"easeSin",function(){return u.b}),n.d(e,"easeSinIn",function(){return u.a}),n.d(e,"easeSinOut",function(){return u.c}),n.d(e,"easeSinInOut",function(){return u.b});var s=n(241);n.d(e,"easeExp",function(){return s.b}),n.d(e,"easeExpIn",function(){return s.a}),n.d(e,"easeExpOut",function(){return s.c}),n.d(e,"easeExpInOut",function(){return s.b});var c=n(242);n.d(e,"easeCircle",function(){return c.b}),n.d(e,"easeCircleIn",function(){return c.a}),n.d(e,"easeCircleOut",function(){return c.c}),n.d(e,"easeCircleInOut",function(){return c.b});var f=n(243);n.d(e,"easeBounce",function(){return f.c}),n.d(e,"easeBounceIn",function(){return f.a}),n.d(e,"easeBounceOut",function(){return f.c}),n.d(e,"easeBounceInOut",function(){return f.b});var h=n(244);n.d(e,"easeBack",function(){return h.b}),n.d(e,"easeBackIn",function(){return h.a}),n.d(e,"easeBackOut",function(){return h.c}),n.d(e,"easeBackInOut",function(){return h.b});var l=n(245);n.d(e,"easeElastic",function(){return l.c}),n.d(e,"easeElasticIn",function(){return l.a}),n.d(e,"easeElasticOut",function(){return l.c}),n.d(e,"easeElasticInOut",function(){return l.b})},function(t,e,n){"use strict";function r(t){return+t}e.a=r},function(t,e,n){"use strict";function r(t){return t*t}function i(t){return t*(2-t)}function o(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return t*t*t}function i(t){return--t*t*t+1}function o(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=3,i=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(r),o=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(r),a=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(r)},function(t,e,n){"use strict";function r(t){return 1-Math.cos(t*u)}function i(t){return Math.sin(t*u)}function o(t){return(1-Math.cos(a*t))/2}e.a=r,e.c=i,e.b=o;var a=Math.PI,u=a/2},function(t,e,n){"use strict";function r(t){return Math.pow(2,10*t-10)}function i(t){return 1-Math.pow(2,-10*t)}function o(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return 1-Math.sqrt(1-t*t)}function i(t){return Math.sqrt(1- --t*t)}function o(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}e.a=r,e.c=i,e.b=o},function(t,e,n){"use strict";function r(t){return 1-i(1-t)}function i(t){return(t=+t)<a?g*t*t:t<s?g*(t-=u)*t+c:t<h?g*(t-=f)*t+l:g*(t-=d)*t+p}function o(t){return((t*=2)<=1?1-i(1-t):i(t-1)+1)/2}e.a=r,e.c=i,e.b=o;var a=4/11,u=6/11,s=8/11,c=.75,f=9/11,h=10/11,l=.9375,d=21/22,p=63/64,g=1/a/a},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"b",function(){return a});var r=1.70158,i=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(r),o=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(r),a=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(r)},function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return u}),n.d(e,"b",function(){return s});var r=2*Math.PI,i=1,o=.3,a=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((o-t)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(i,o),u=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+o)/n)}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(i,o),s=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((o-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((o+t)/n))/2}var o=Math.asin(1/(e=Math.max(1,e)))*(n/=r);return i.amplitude=function(e){return t(e,n*r)},i.period=function(n){return t(e,n)},i}(i,o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(47);n.d(e,"now",function(){return r.b}),n.d(e,"timer",function(){return r.c}),n.d(e,"timerFlush",function(){return r.d});var i=n(247);n.d(e,"timeout",function(){return i.a});var o=n(248);n.d(e,"interval",function(){return o.a})},function(t,e,n){"use strict";var r=n(47);e.a=function(t,e,n){var i=new r.a;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i}},function(t,e,n){"use strict";var r=n(47);e.a=function(t,e,n){var i=new r.a,o=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Object(r.b)():+n,i.restart(function r(a){a+=o,i.restart(r,o+=e,n),t(a)},e,n),i)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(48);n.d(e,"interpolate",function(){return r.a});var i=n(96);n.d(e,"interpolateArray",function(){return i.a});var o=n(51);n.d(e,"interpolateBasis",function(){return o.b});var a=n(94);n.d(e,"interpolateBasisClosed",function(){return a.a});var u=n(97);n.d(e,"interpolateDate",function(){return u.a});var s=n(31);n.d(e,"interpolateNumber",function(){return s.a});var c=n(98);n.d(e,"interpolateObject",function(){return c.a});var f=n(252);n.d(e,"interpolateRound",function(){return f.a});var h=n(99);n.d(e,"interpolateString",function(){return h.a});var l=n(253);n.d(e,"interpolateTransformCss",function(){return l.a}),n.d(e,"interpolateTransformSvg",function(){return l.b});var d=n(256);n.d(e,"interpolateZoom",function(){return d.a});var p=n(93);n.d(e,"interpolateRgb",function(){return p.a}),n.d(e,"interpolateRgbBasis",function(){return p.b}),n.d(e,"interpolateRgbBasisClosed",function(){return p.c});var g=n(257);n.d(e,"interpolateHsl",function(){return g.a}),n.d(e,"interpolateHslLong",function(){return g.b});var v=n(258);n.d(e,"interpolateLab",function(){return v.a});var m=n(259);n.d(e,"interpolateHcl",function(){return m.a}),n.d(e,"interpolateHclLong",function(){return m.b});var y=n(260);n.d(e,"interpolateCubehelix",function(){return y.b}),n.d(e,"interpolateCubehelixLong",function(){return y.a});var x=n(261);n.d(e,"quantize",function(){return x.a})},function(t,e,n){"use strict";function r(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof l){if(isNaN(t.h))return new o(t.l,0,0,t.opacity);var e=t.h*g.a;return new o(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof p.b||(t=Object(p.h)(t));var n,r,i=c(t.r),u=c(t.g),s=c(t.b),f=a((.2225045*i+.7168786*u+.0606169*s)/y);return i===u&&u===s?n=r=f:(n=a((.4360747*i+.3850649*u+.1430804*s)/m),r=a((.0139322*i+.0971045*u+.7141733*s)/x)),new o(116*f-16,500*(n-f),200*(f-r),t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new o(t,e,n,null==i?1:i)}function o(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function a(t){return t>S?Math.pow(t,1/3):t/w+b}function u(t){return t>_?t*t*t:w*(t-b)}function s(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function c(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function f(t){if(t instanceof l)return new l(t.h,t.c,t.l,t.opacity);if(t instanceof o||(t=r(t)),0===t.a&&0===t.b)return new l(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*g.b;return new l(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function h(t,e,n,r){return 1===arguments.length?f(t):new l(t,e,n,null==r?1:r)}function l(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}e.a=i,e.b=h;var d=n(50),p=n(49),g=n(92),v=18,m=.96422,y=1,x=.82521,b=4/29,_=6/29,w=3*_*_,S=_*_*_;Object(d.a)(o,i,Object(d.b)(p.a,{brighter:function(t){return new o(this.l+v*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-v*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=m*u(e),t=y*u(t),n=x*u(n),new p.b(s(3.1338561*e-1.6168667*t-.4906146*n),s(-.9787684*e+1.9161415*t+.033454*n),s(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(d.a)(l,h,Object(d.b)(p.a,{brighter:function(t){return new l(this.h,this.c,this.l+v*(null==t?1:t),this.opacity)},darker:function(t){return new l(this.h,this.c,this.l-v*(null==t?1:t),this.opacity)},rgb:function(){return r(this).rgb()}}))},function(t,e,n){"use strict";function r(t){if(t instanceof o)return new o(t.h,t.s,t.l,t.opacity);t instanceof u.b||(t=Object(u.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(v*r+p*e-g*n)/(v+p-g),a=r-i,c=(d*(n-i)-h*a)/l,f=Math.sqrt(c*c+a*a)/(d*i*(1-i)),m=f?Math.atan2(c,a)*s.b-120:NaN;return new o(m<0?m+360:m,f,i,t.opacity)}function i(t,e,n,i){return 1===arguments.length?r(t):new o(t,e,n,null==i?1:i)}function o(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e.a=i;var a=n(50),u=n(49),s=n(92),c=-.14861,f=1.78277,h=-.29227,l=-.90649,d=1.97294,p=d*l,g=d*f,v=f*h-l*c;Object(a.a)(o,i,Object(a.b)(u.a,{brighter:function(t){return t=null==t?u.c:Math.pow(u.c,t),new o(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?u.d:Math.pow(u.d,t),new o(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*s.a,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new u.b(255*(e+n*(c*r+f*i)),255*(e+n*(h*r+l*i)),255*(e+n*(d*r)),this.opacity)}}))},function(t,e,n){"use strict";e.a=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}}},function(t,e,n){"use strict";function r(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}function a(t,r,o,a,u,s){if(t!==o||r!==a){var c=u.push("translate(",null,e,null,n);s.push({i:c-4,x:Object(i.a)(t,o)},{i:c-2,x:Object(i.a)(r,a)})}else(o||a)&&u.push("translate("+o+e+a+n)}function u(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(o(n)+"rotate(",null,r)-2,x:Object(i.a)(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(o(n)+"skewX(",null,r)-2,x:Object(i.a)(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}function c(t,e,n,r,a,u){if(t!==n||e!==r){var s=a.push(o(a)+"scale(",null,",",null,")");u.push({i:s-4,x:Object(i.a)(t,n)},{i:s-2,x:Object(i.a)(e,r)})}else 1===n&&1===r||a.push(o(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),u(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),c(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){for(var e,n=-1,o=i.length;++n<o;)r[(e=i[n]).i]=e.x(t);return r.join("")}}}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return u});var i=n(31),o=n(254),a=r(o.a,"px, ","px)","deg)"),u=r(o.b,", ",")",")")},function(t,e,n){"use strict";function r(t){return"none"===t?c.b:(o||(o=document.createElement("DIV"),a=document.documentElement,u=document.defaultView),o.style.transform=t,t=u.getComputedStyle(a.appendChild(o),null).getPropertyValue("transform"),a.removeChild(o),t=t.slice(7,-1).split(","),Object(c.a)(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function i(t){return null==t?c.b:(s||(s=document.createElementNS("http://www.w3.org/2000/svg","g")),s.setAttribute("transform",t),(t=s.transform.baseVal.consolidate())?(t=t.matrix,Object(c.a)(t.a,t.b,t.c,t.d,t.e,t.f)):c.b)}e.a=r,e.b=i;var o,a,u,s,c=n(255)},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=180/Math.PI,i={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};e.a=function(t,e,n,i,o,a){var u,s,c;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,c/=s),t*i<e*n&&(t=-t,e=-e,c=-c,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*r,skewX:Math.atan(c)*r,scaleX:u,scaleY:s}}},function(t,e,n){"use strict";function r(t){return((t=Math.exp(t))+1/t)/2}function i(t){return((t=Math.exp(t))-1/t)/2}function o(t){return((t=Math.exp(2*t))-1)/(t+1)}var a=Math.SQRT2,u=2,s=4,c=1e-12;e.a=function(t,e){var n,f,h=t[0],l=t[1],d=t[2],p=e[0],g=e[1],v=e[2],m=p-h,y=g-l,x=m*m+y*y;if(x<c)f=Math.log(v/d)/a,n=function(t){return[h+t*m,l+t*y,d*Math.exp(a*t*f)]};else{var b=Math.sqrt(x),_=(v*v-d*d+s*x)/(2*d*u*b),w=(v*v-d*d-s*x)/(2*v*u*b),S=Math.log(Math.sqrt(_*_+1)-_),M=Math.log(Math.sqrt(w*w+1)-w);f=(M-S)/a,n=function(t){var e=t*f,n=r(S),s=d/(u*b)*(n*o(a*e+S)-i(S));return[h+s*m,l+s*y,d*n/r(a*e+S)]}}return n.duration=1e3*f,n}},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.d)(e)).h,(n=Object(i.d)(n)).h),a=Object(o.a)(e.s,n.s),u=Object(o.a)(e.l,n.l),s=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=a(t),e.l=u(t),e.opacity=s(t),e+""}}}n.d(e,"b",function(){return a});var i=n(15),o=n(21);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t,e){var n=Object(o.a)((t=Object(i.e)(t)).l,(e=Object(i.e)(e)).l),r=Object(o.a)(t.a,e.a),a=Object(o.a)(t.b,e.b),u=Object(o.a)(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=a(e),t.opacity=u(e),t+""}}e.a=r;var i=n(15),o=n(21)},function(t,e,n){"use strict";function r(t){return function(e,n){var r=t((e=Object(i.c)(e)).h,(n=Object(i.c)(n)).h),a=Object(o.a)(e.c,n.c),u=Object(o.a)(e.l,n.l),s=Object(o.a)(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=u(t),e.opacity=s(t),e+""}}}n.d(e,"b",function(){return a});var i=n(15),o=n(21);e.a=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";function r(t){return function e(n){function r(e,r){var a=t((e=Object(i.b)(e)).h,(r=Object(i.b)(r)).h),u=Object(o.a)(e.s,r.s),s=Object(o.a)(e.l,r.l),c=Object(o.a)(e.opacity,r.opacity);return function(t){return e.h=a(t),e.s=u(t),e.l=s(Math.pow(t,n)),e.opacity=c(t),e+""}}return n=+n,r.gamma=e,r}(1)}n.d(e,"a",function(){return a});var i=n(15),o=n(21);e.b=r(o.c);var a=r(o.a)},function(t,e,n){"use strict";e.a=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(e){"use strict";function o(){}function a(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}function s(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!==("undefined"==typeof t?"undefined":i(t)))&&s(t.listener)}var c=o.prototype,f=e.EventEmitter;c.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp){e={};for(n in r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n])}else e=r[t]||(r[t]=[]);return e;
},c.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},c.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},c.addListener=function(t,e){if(!s(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),o="object"===("undefined"==typeof e?"undefined":i(e));for(n in r)r.hasOwnProperty(n)&&a(r[n],e)===-1&&r[n].push(o?e:{listener:e,once:!1});return this},c.on=u("addListener"),c.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},c.once=u("addOnceListener"),c.defineEvent=function(t){return this.getListeners(t),this},c.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},c.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&(n=a(i[r],e),n!==-1&&i[r].splice(n,1));return this},c.off=u("removeListener"),c.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},c.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},c.manipulateListeners=function(t,e,n){var r,o,a=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if("object"!==("undefined"==typeof e?"undefined":i(e))||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(o=e[r])&&("function"==typeof o?a.call(this,r,o):u.call(this,r,o));return this},c.removeEvent=function(t){var e,n="undefined"==typeof t?"undefined":i(t),r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},c.removeAllListeners=u("removeEvent"),c.emitEvent=function(t,e){var n,r,i,o,a,u=this.getListenersAsObject(t);for(o in u)if(u.hasOwnProperty(o))for(n=u[o].slice(0),i=0;i<n.length;i++)r=n[i],r.once===!0&&this.removeListener(t,r.listener),a=r.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},c.trigger=u("emitEvent"),c.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},c.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},c._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},c._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return e.EventEmitter=f,o},r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this||{})},function(t,e,n){var r=n(1);r.Rect=n(55),r.Rect=n(55),r.Circle=n(101),r.Ellipse=n(102),r.Path=n(103),r.Text=n(105),r.Line=n(106),r.Image=n(107),r.Polygon=n(108),r.Polyline=n(109),r.Arc=n(110),r.Fan=n(111),r.Cubic=n(112),r.Quadratic=n(113),r.Marker=n(56),t.exports=r},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}}])})},function(t,e,n){var r=n(103),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(14),o=n(247),a={whitespace:{9:"Tab",13:"Enter",32:"Space"},fn:{112:"f1 ",113:"f2 ",114:"f3 ",115:"f4 ",116:"f5 ",117:"f6 ",118:"f7 ",119:"f8 ",120:"f9 ",121:"f10",122:"f11",123:"f12"},letter:{65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z"},number:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9"},navigation:{37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},symbol:{110:"decimal point",186:"semi-colon",187:"=",188:"comma",189:"-",190:"period ",191:"/",192:"grave accent",219:"open bracket ",220:"back slash ",221:"close bracket ",222:"single quote "},smallNumberKey:{96:"numpad 0 ",97:"numpad 1 ",98:"numpad 2 ",99:"numpad 3 ",100:"numpad 4 ",101:"numpad 5 ",102:"numpad 6 ",103:"numpad 7 ",104:"numpad 8 ",105:"numpad 9 "},modifierKey:{16:"Shift",17:"Ctrl ",18:"Alt",20:"caps lock"},escKey:{8:"Backspace",46:"Delete",27:"Escape"},homeKey:{91:"Windows Key / Left command",92:"right window key ",93:"Windows Menu"},computeKey:{106:"multiply ",107:"add",109:"subtract ",111:"divide "}},u=r({},i.Util,o,{getTypeAndChar:function(t){t=""+t;var e=void 0,n=void 0;for(var r in a){e=r;for(var i in a[r])if(i===t)return n=a[r][i],{type:e,character:n}}return{}},getKeyboradKey:function(t){return t.key||u.getTypeAndChar(t.keyCode).character},getIndex:function(t){var e=t.getParent(),n=e.get("children");return n.indexOf(t)},setId:function(t){t.id||(t.id=i.Util.guid())},pointLineDistance:function(t,e,n,r,o,a){var u=[n-t,r-e];if(i.Util.vec2.exactEquals(u,[0,0]))return NaN;var s=[-u[1],u[0]];i.Util.vec2.normalize(s,s);var c=[o-t,a-e];return Math.abs(i.Util.vec2.dot(c,s))},getRectByBox:function(t,e,n){return e.addShape("rect",{attrs:r({},n,{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY})})},objectToValues:function(t){var e=[],n=void 0;for(n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},getValue:function(t){return i.Util.isFunction(t)?t():t},getContrast:function(t,e){var n={};return i.Util.each(e,function(e,r){n[r]=t[r]}),n},arrowTo:function(t,e,n,r,o,a,u){var s=[1,0],c=[a-r,u-o],f=i.Util.vec2.angleTo(c,s,!0);return t.transform([["r",f],["t",e,n]]),t},setEndOfContenteditable:function(t){var e=void 0,n=void 0;document.createRange?(e=document.createRange(),e.selectNodeContents(t),e.collapse(!1),n=window.getSelection(),n.removeAllRanges(),n.addRange(e)):document.selection&&(e=document.body.createTextRange(),e.moveToElementText(t),e.collapse(!1),e.select())}});t.exports=u},function(t,e,n){function r(t){return null==t?void 0===t?s:u:c&&c in Object(t)?o(t):a(t)}var i=n(18),o=n(310),a=n(339),u="[object Null]",s="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";var r=n(72),i=n(68);t.exports={Graph:n(67),Tree:n(159),Util:n(1),Layouts:n(71),G:n(10),Plugins:{},Shape:r,registerNode:r.registerNode,registerEdge:r.registerEdge,registerGroup:r.registerGroup,registerGuide:r.registerGuide,registerBehaviour:i.registerBehaviour,version:n(164)}},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(14),c=n(2),f=n(16),h=n(77),l=[],d=function(t){function e(n){i(this,e);var r={showHotArea:!1,defaultData:{roots:[{label:"\u601d\u7ef4\u5bfc\u56fe",children:[{label:"\u65b0\u5efa\u8282\u70b9"},{label:"\u65b0\u5efa\u8282\u70b9"},{label:"\u65b0\u5efa\u8282\u70b9"}]}]},shortcut:{append:!0,appendChild:!0,collapseExpand:!0,selectAll:!0},labelEditable:!0,graph:{modes:{default:["clickNodeSelected","keydownMoveSelection","clickCanvasSelected","hoverMindExpandButton","keydownEditLabel","panBlank","wheelPanCanvas","panMindNode","clickCollapsedButton","clickExpandedButton","hoverButton","hoverNodeActived","dblclickItemEditLabel"],readOnly:["clickNodeSelected","wheelPanCanvas","keydownMoveSelection","hoverNodeActived","panCanvas","clickExpandedButton","hoverButton","clickCanvasSelected"]},layout:new s.Layouts.Mindmap({direction:"H",getSubTreeSep:function(t){return t.children&&t.children.length>0?t.hierarchy<=2?8:2:0},getHGap:function(t){return 1===t.hierarchy?8:2===t.hierarchy?24:18},getVGap:function(t){return 1===t.hierarchy?24:2===t.hierarchy?24:2},getSide:function(t){return t.data.side?t.data.side:"right"}}),mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:h.nodeDefaultShape,edgeDefaultShape:h.edgeDefaultShape,minZoom:.2,maxZoom:2},align:{item:!1},rootShape:"mind-root",firstSubShape:"mind-first-sub",secondSubShape:"mind-second-sub",subShape:"mind-node",nodeDefaultShape:"mind-node",graphConstructor:s.Tree,defaultSide:"right"},a={};f.each(l,function(t){f.mix(a,t.CFG)}),f.mix(!0,r,a,n);var u=o(this,t.call(this,r));return u.isMind=!0,u}return a(e,t),e.prototype._init=function(){var e=this;t.prototype._init.call(this),f.each(l,function(t){t.INIT&&e[t.INIT]()});var n=this.getGraph(),r=this.get("defaultData"),i=n.get("mode");if(this.set("hotAreaGroup",n.getFrontRootGroup().addGroup()),n.edge().shape(function(t){var e=n.find(t.target);if(e.getModel().isPlaceholder)return"mind-placeholder-edge"}),r&&this.read(r),"default"===i){if(r){var o=this.getRoot(),a=n.find(o.id);this.setSelected(a,!0)}}else if("readOnly"===i){var u=this.get("shortcut");u.append=!1,u.appendChild=!1,u.selectAll=!1,u.delete=!1}if(r){var s=this.getRoot();this.focus(s.id)}},e.prototype.bindEvent=function(){var t=this,e=this.get("_graph");e.on("keydown",function(t){t.domEvent.preventDefault()}),e.on("beforechange",function(e){"add"===e.action?t._beforeAdd(e):"changeData"===e.action&&t._beforeChangeData(e)}),e.on("aftersource",function(){t._setHierarchy()}),e.on("afterchange",function(){t._setHotArea(),t._cacheBBox()}),e.on("afteritemdraw",function(t){var e=t.item,n=e.getModel();if(e.isEdge){var r=e.getGraphicGroup();f.toBack(r,r.getParent()),r.setSilent("capture",!1)}n.parent||(e.isRoot=!0,e.deleteable=!1,e.collapseExpand=!1,e.appendable=!1,e.dragable=!1)}),this.on("beforedelete",function(e){var n=e.items[0],r=t._getBrothers(n),i=t._getNth(n);r[i-1]?t.setSelected(r[i-1].id,!0):r[i+1]?t.setSelected(r[i+1].id,!0):t.setSelected(n.getParent(),!0)}),this.on("afteritemselected",function(e){t._tryAdjustViewport(e.item)})},e.prototype.translateLimt=function(t){var e=this.getGraph(),n=100,r=this.get("bboxCache"),i=e.getWidth(),o=e.getHeight(),a=[r.minX,r.minY,1],u=[r.maxX,r.maxY,1];return f.vec3.transformMat3(a,a,t),f.vec3.transformMat3(u,u,t),u[0]<n&&f.mat3.translate(t,t,[n-u[0],0]),u[1]<n&&f.mat3.translate(t,t,[0,n-u[1]]),a[1]>o-n&&f.mat3.translate(t,t,[0,o-n-a[1]]),a[0]>i-n&&f.mat3.translate(t,t,[i-n-a[0],0]),!0},e.prototype.getRoot=function(){var t=this.getGraph();return t.getSource().roots[0]},e.prototype.getDelegation=function(t,e){var n=t[0],r=n.getKeyShape(),i=r.get("canvas"),o=i.get("context"),a=n.getBBox(),u=r.get("totalMatrix"),s=f.getBBox(r,u?u:i),c=f.createDOM("<canvas>"),h=c.getContext("2d"),l=s.maxX-s.minX,d=s.maxY-s.minY,p=[2.5,2.5,2.5,4];c.setAttribute("width",l),c.setAttribute("height",d);var g=o.getImageData(s.minX+p[3],s.minY+p[0],l-p[1]-p[3],d-p[0]-p[2]);return h.putImageData(g,0,0),e.addShape("image",{attrs:{x:a.minX,y:a.minY,width:a.width,height:a.height,swidth:l,sheight:d,img:c,opacity:.5}})},e.prototype._cacheBBox=function(){var t=this.getGraph();this.set("bboxCache",t.getBBox())},e.prototype._setHierarchy=function(t){var e=this.getGraph(),n=this.get("firstSubShape"),r=this.get("secondSubShape"),i=this.get("defaultSide");if(t){var o=e.find(t.parent);if(o){var a=o.getModel();t.hierarchy=a.hierarchy+1,"mind-placeholder"!==t.shape&&(2===t.hierarchy&&(t.shape=n,t.side||(t.side=i)),3===t.hierarchy&&(t.shape=r))}}else t=this.getRoot(),t.hierarchy=1;f.traverseTree(t,function(t,e){t.hierarchy=e.hierarchy+1,t.side||(t.side=i),e.side&&(t.side=e.side),2===t.hierarchy?t.shape=n:3===t.hierarchy&&(t.shape=r)},function(t){return t.children})},e.prototype.getFirstChildrenBySide=function(t){var e=this.getRoot(),n=[];return e.children.forEach(function(e){e.side===t&&n.push(e)}),n},e.prototype._getNth=function(t){var e=this.getGraph();return e.getNth(t)},e.prototype._getBrothers=function(t){var e=t.getParent();return e.getModel().children},e.prototype._getMoveChildModel=function(t){if(t&&t.length>0){var e=t.length;return t[parseInt(e/2)]}},e.prototype._getVerticalMoveItem=function(t,e,n){for(var r=this.getGraph(),i=r.getNodes(),o=t.getBBox(),a=[o.minX,o.maxX],u=[],s=void 0,c=0;c<a.length;c++)for(var f=a[c],h=0;h<i.length;h++){var l=i[h],d=l.getBBox();e(d,o,f)&&u.push({long:n(d,o),node:l})}return u.length>0&&(u.sort(function(t,e){return t.long-e.long}),s=u[0].node),s},e.prototype._arrowTopItem=function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n-1]?e[n-1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY<e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return e.centerY-t.centerY})},e.prototype._arrowBottomItem=function(t){var e=this._getBrothers(t),n=this._getNth(t);return e[n+1]?e[n+1]:this._getVerticalMoveItem(t,function(t,e,n){return t.centerY>e.centerY&&n<=t.maxX&&n>=t.minX},function(t,e){return t.centerY-e.centerY})},e.prototype._arrowLeftItem=function(t){var e=f.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("left");return this._getMoveChildModel(n)}if("left"===e){var r=t.getModel().children;return this._getMoveChildModel(r)}var i=t.getParent();return i},e.prototype._arrowRightItem=function(t){var e=f.getMindNodeSide(t);if(t.isRoot){var n=this.getFirstChildrenBySide("right");return this._getMoveChildModel(n)}if("right"===e){var r=t.getModel().children;return this._getMoveChildModel(r)}var i=t.getParent();return i},e.prototype._moveItemSelection=function(t){var e=this.getGraph(),n=this.getSelected()[0];if(n){var r=t.domEvent,i=f.getKeyboradKey(r),o=void 0;"ArrowUp"!==i||n.isRoot?"ArrowDown"!==i||n.isRoot?"ArrowLeft"===i?o=this._arrowLeftItem(n):"ArrowRight"===i&&(o=this._arrowRightItem(n)):o=this._arrowBottomItem(n):o=this._arrowTopItem(n),o&&(o=e.find(o.id),o.isVisible()&&(this.clearSelected(),this.setSelected(o,!0)))}},e.prototype.showLabelEditor=function(t){var e=t.domEvent,n=this.getSelected()[0],r=f.getKeyboradKey(e);if(n&&1===r.length&&!e.metaKey&&!e.ctrlKey){var i=this.get("labelTextArea");n&&(this.beginEditLabel(n),i.innerHTML=r,f.setEndOfContenteditable(i))}},e.prototype._tryAdjustViewport=function(t){var e=this.get("_graph"),n=t.getBBox(),r={x:n.minX,y:n.minY},i={x:n.maxX,y:n.maxY},o=e.getDomPoint(r),a=e.getDomPoint(i),u=e.getWidth(),s=e.getHeight(),c=16;o.x<0&&e.translate(-o.x+c,0),o.y<0&&e.translate(0,-o.y+c),a.x>u&&e.translate(u-a.x-c,0),a.y>s&&e.translate(0,s-a.y-c)},e.prototype._beforeChangeData=function(t){var e=t.data.roots[0],n=this.get("rootShape");e.shape=n,this._setHierarchy(e)},e.prototype._beforeAdd=function(t){var e=this.get("_graph"),n=t.model,r=e.find(n.parent),i=r.getModel();i.collapsed&&e.update(r,{collapsed:!1}),this._setHierarchy(n)},e.prototype._drawHotAreaShape=function(){var t=this.get("_graph"),e=t.getFrontCanvas(),n=this.get("hotAreaGroup"),r=this.get("hotAreas");n.clear(),r.forEach(function(t){n.addShape("rect",{attrs:{x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY,fill:t.color,fillOpacity:.4},capture:!1})}),e.draw()},e.prototype._setHotArea=function(){function t(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i++;for(;r[i]&&r[i].isPlaceholder;)i++;if(r[i]&&r[i].side===e.side)return r[i]}function e(t,e,n){var r=n.children,i=t;if(!n.parent)for(;r[i]&&r[i].side!==e.side;)i--;for(;r[i]&&r[i].isPlaceholder;)i--;if(r[i]&&r[i].side===e.side)return r[i]}var n=[],r=this.get("_graph"),i=this.getRoot(),o="placeholder",a=this.get("showHotArea"),s=r.find(i.id),c=s.getBBox(),h=90,l=60;n.push({minX:c.minX-h,minY:c.minY-l,maxX:(c.minX+c.maxX)/2,maxY:c.maxY+l,parent:i,current:i,id:i.id+"left"+o,nth:i.children.length,side:"left",color:"orange"}),n.push({minX:(c.minX+c.maxX)/2,minY:c.minY-l,maxX:c.maxX+h,maxY:c.maxY+l,parent:i,current:i,id:i.id+"right"+o,nth:i.children.length,side:"right",color:"pink"}),f.traverseTree(i,function(i,a,s){var c=r.find(i.id);if(!i.isPlaceholder&&c&&c.isVisible()){var f=t(s+1,i,a),h=e(s-1,i,a),l=r.find(i.id).getBBox(),d=a.children,p=90,g=26,v=2===i.hierarchy&&"right"===i.side,m=2===i.hierarchy&&"left"===i.side;if(h||n.push({minX:v?l.minX-p:l.minX,minY:function(){var t=h?l.minY:l.minY-g;if(d[s-1]&&d[s-1].isPlaceholder&&d[s-1].side===i.side){var e=r.find(d[s-1].id).getBBox();t=e.minY}return t}(),maxX:m?l.maxX+p:l.maxX,maxY:(l.minY+l.maxY)/2,parent:a,id:(h?h.id:void 0)+i.id+a.id+o,side:i.side,color:"yellow",nth:s}),f){var y=r.find(f.id).getBBox();n.push({minX:function(){return"left"===i.side?Math.max(l.minX,y.minX):v?l.minX-p:l.minX}(),minY:(l.minY+l.maxY)/2,maxX:function(){return"right"===i.side?Math.min(l.maxX,y.maxX):m?l.maxX+p:l.maxX}(),maxY:(y.minY+y.maxY)/2,parent:a,id:i.id+(f?f.id:void 0)+a.id+o,side:i.side,color:"blue",nth:s+1})}else n.push({minX:v?l.minX-p:l.minX,minY:(l.minY+l.maxY)/2,maxX:m?l.maxX+p:l.maxX,maxY:function(){var t=l.maxY+g;if(d[s+1]&&d[s+1].isPlaceholder&&d[s+1].side===i.side){var e=r.find(d[s+1].id).getBBox();t=e.maxY}return t}(),parent:a,id:i.id+void 0+a.id+o,color:"red",nth:s+1,addOrder:"push",side:i.side});if(!i.children||0===i.children.length||1===i.children.length&&i.children[0].isPlaceholder){var x=100,b=0,_=void 0;_=i.x>a.x?{minX:l.maxX,minY:l.minY-b,maxX:l.maxX+x,maxY:l.maxY+b}:{minX:l.minX-x,minY:l.minY-b,maxX:l.minX,maxY:l.maxY+b},n.push(u({},_,{parent:i,id:NaN+i.id+o,nth:0,color:"green",side:i.side,addOrder:"push"}))}}},function(t){return t.children}),this.set("hotAreas",n),a&&this._drawHotAreaShape()},e.prototype.hideHotArea=function(){var t=this.get("_graph"),e=t.getFrontCanvas(),n=this.get("hotAreaGroup");n.clear(),e.draw(),this.set("showHotArea",!1)},e.prototype.showHotArea=function(){this._drawHotAreaShape(),this.set("showHotArea",!0)},e.prototype.getHotArea=function(t){var e=this.get("hotAreas"),n=void 0;return e.forEach(function(e){if(t.x>e.minX&&t.x<e.maxX&&t.y>e.minY&&t.y<e.maxY)return n=e,!1}),n},e.prototype.saveExpandImage=function(){var t=this,e=this.getGraph(),n=e.getBBox(),r=e.getFitViewPadding(),i=void 0,o=void 0,a=void 0;return f.graph2Canvas({graph:e,width:n.width+r[1]+r[3],height:n.height+r[0]+r[2],beforeTransform:function(){var n=e.getNodes();i=n.filter(function(t){return t.getModel().collapsed}).map(function(t){return t.getModel().id}),i.forEach(function(t){e.update(t,{collapsed:!1})}),e.layout(),o=t.getSelected().map(function(t){return t.id}),a=t.getSelected().map(function(t){return t.id}),t.clearSelected(),t.clearActived()},afterTransform:function(){i.forEach(function(t){e.update(t,{collapsed:!0})}),t.setSelected(o,!0),t.setActived(a,!0)}})},e.prototype.save=function(){var t=this.get("_graph"),e=t.save();return e.roots.forEach(function(t){f.traverseTree(t,function(t){delete t.x,delete t.y,delete t.width,delete t.height,delete t.parent,delete t.nth,delete t.hierarchy,delete t.index,delete t.shape},function(t){return t.children},!0)}),e},e}(c);f.each(l,function(t){f.mix(d.prototype,t.AUGMENT)}),t.exports=d},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(7),o=r({},i,{getMindNodeSide:function(t){var e=t.getModel();if(e.side)return e.side;var n=t.getParent();return n?n.getModel().side?n.getModel().side:o.getMindNodeSide(n):void 0}});t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(14),o=i.Util,a=function(){function t(e){r(this,t);var n=this.getDefaultCfg();o.mix(this,n,e),this.init()}return t.prototype.getDefaultCfg=function(){return{}},t.prototype.init=function(){},t.prototype.destroy=function(){},t}();t.exports=a},function(t,e,n){var r=n(11),i=r.Symbol;t.exports=i},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(274),o=n(311);t.exports=r},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(48),o=n(64);t.exports=r},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(1),o={},a={draw:function(){}},u={defaultShapeType:null,getShape:function(t,e){var n=this[t]||this[e]||this[this.defaultShapeType]||a;return n},getExtendShape:function(t,e){var n=this;if(i.isArray(t)){var o={};return t.forEach(function(t){o=r({},o,n.getShape(t,e))}),o}return this.getShape(t,e)}};o.registerShapeManager=function(t,e){var n=i.mix({},u,e),r=i.upperFirst(t);return o[r]=n,o["register"+r]=function(t,e,r,o){i.isNil(r)&&i.isNil(o)&&(r=t);var a=n.getExtendShape(r,o),u=i.mix({},a,e);return u.type=t,n[t]=u,u},n},t.exports=o},function(t,e,n){"use strict";function r(t,e,n){n=n||0;for(var o in e)if(e.hasOwnProperty(o)){var u=e[o];null!==u&&a.isPlainObject(u)?(a.isPlainObject(t[o])||(t[o]={}),n<i?r(t[o],e[o],n+1):t[o]=e[o]):a.isArray(u)?(t[o]=[],t[o]=t[o].concat(u)):void 0!==u&&(t[o]=e[o])}}var i=5,o=n(10),a={each:n(358),isObject:n(8),isNumber:n(373),isString:n(118),isFunction:n(48),isFinite:n(369),isBoolean:n(364),isEmpty:n(366),lowerFirst:n(375),upperFirst:n(391),upperCase:n(390),isNil:n(371),isNull:n(372),isArray:n(6),isDate:n(365),isPlainObject:n(117),toArray:n(385),indexOf:n(363),clone:n(354),cloneDeep:n(355),merge:n(377),round:n(382),filter:n(359),throttle:n(384),debounce:n(115),isEqualWith:n(368),isEqual:n(367),replace:n(381),union:n(388),uniq:n(389),extend:o.CommonUtil.extend,augment:o.CommonUtil.augment,traverseTree:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n(t);r&&e(t,null,null),i&&a.each(i,function(r,i){e(r,t,i),a.traverseTree(r,e,n)})},toAllPadding:function(t){var e=0,n=0,r=0,i=0;return a.isNumber(t)||a.isString(t)?e=n=r=i=t:a.isArray(t)&&(e=t[0],r=a.isNil(t[1])?t[0]:t[1],i=a.isNil(t[2])?t[0]:t[2],n=a.isNil(t[3])?r:t[3]),[e,r,i,n]},requestAnimationFrame:function(t){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(t)},guid:function(){return"xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)})},mix:function(){var t=a.toArray(arguments),e=t[0],n=void 0,i=void 0;if(e===!0)for(e=t[1],i=2;i<t.length;i++)n=t[i],r(e,n);else for(i=1;i<t.length;i++){n=t[i];for(var o in n)n.hasOwnProperty(o)&&"constructor"!==o&&(e[o]=n[o])}return e},mixin:function(t,e){if(t&&e){t._mixins=e,t.ATTRS=t.ATTRS||{};var n={};a.each(e,function(e){a.augment(t,e)}),t.ATTRS=a.mix(n,t.ATTRS)}},substitute:function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t}};a.Array={remove:function(t,e){var n=a.indexOf(t,e);n!==-1&&t.splice(n,1)}},t.exports=a},function(t,e,n){var r=n(249),i=n(54),o=n(251),a=n(78),u=n(252),s=n(13),c=n(114),f="[object Map]",h="[object Object]",l="[object Promise]",d="[object Set]",p="[object WeakMap]",g="[object DataView]",v=c(r),m=c(i),y=c(o),x=c(a),b=c(u),_=s;(r&&_(new r(new ArrayBuffer(1)))!=g||i&&_(new i)!=f||o&&_(o.resolve())!=l||a&&_(new a)!=d||u&&_(new u)!=p)&&(_=function(t){var e=s(t),n=e==h?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return g;case m:return f;case y:return l;case x:return d;case b:return p}return e}),t.exports=_},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(83),o=n(93),a=n(20);t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(289);t.exports=r},function(t,e){"use strict";t.exports={defaultNodeSize:40,nodeStyle:{lineWidth:1},labelStyle:{fill:"#595959",textAlign:"center",textBaseline:"middle"},groupStyle:{stroke:"#CED4D9",fill:"#F2F4F5",radius:2},groupBackgroundPadding:[40,10,10,10],updateDuration:450,enterDuration:450,leaveDuration:450,updateEasing:"easeQuadOut",enterEasing:"easeQuadOut",leaveEasing:"easeQuadOut"}},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=r?r(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):i(n,c,f)}return n}var i=n(86),o=n(57);t.exports=r},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){var r=n(268),i=n(9),o=Object.prototype,a=o.hasOwnProperty,u=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){(function(t){var r=n(11),i=n(383),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o,s=u?r.Buffer:void 0,c=s?s.isBuffer:void 0,f=c||i;t.exports=f}).call(e,n(66)(t))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1),a=function(){function t(e){r(this,t);var n=this.getDefaultCfg();o.mix(this,n,e)}return i(t,[{key:"getDefaultCfg",value:function(){return{}}}]),i(t,[{key:"destroy",value:function(){}}]),t}();t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(70),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.options=t,n}return o(e,t),a(e,[{key:"execute",value:function(){var t=this,e=this.options,n=this.roots;n.forEach(function(n){var r=t.layout(n,e);r.eachNode(function(t){t.data.x=t.x+t.data.width/2+t.hgap,t.data.y=t.y+t.data.height/2+t.vgap})})}}]),e}(u);t.exports=s},function(t,e,n){!function(e,n){t.exports=n()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t);var o=this;o.options=n,o.rootNode=i(e,n)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=o},function(t,e,n){var r=n(3),i=["LR","RL","TB","BT","H","V"],o=["LR","RL","H"],a=function(t){return o.indexOf(t)>-1},u=i[0];t.exports=function(t,e,n){var o=e.direction||u;if(e.isHorizontal=a(o),o&&i.indexOf(o)===-1)throw new TypeError("Invalid direction: "+o);if(o===i[0])n(t,e);else if(o===i[1])n(t,e),t.right2left();else if(o===i[2])n(t,e);else if(o===i[3])n(t,e),t.bottom2top();else if(o===i[4]||o===i[5]){var s=r(t,e),c=s.left,f=s.right;n(c,e),n(f,e),e.isHorizontal?c.right2left():c.bottom2top(),f.translate(c.x-f.x,c.y-f.y),t.x=c.x,t.y=f.y;var h=t.getBoundingBox();e.isHorizontal?h.top<0&&t.translate(0,-h.top):h.left<0&&t.translate(-h.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},function(t,e){function n(t,e){var r=this;if(r.vgap=r.hgap=0,t instanceof n)return t;r.data=t;var i=e.getHGap(t),o=e.getVGap(t);return r.width=e.getWidth(t),r.height=e.getHeight(t),r.id=e.getId(t),r.x=r.y=0,r.depth=0,r.children||(r.children=[]),r.addGap(i,o),r}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2];e=Object.assign({},u,e);var i=new n(t,e),o=[i],a=void 0;if(!r&&!t.collapsed)for(;a=o.pop();)if(!a.data.collapsed){var s=e.getChildren(a.data),c=s?s.length:0;if(a.children=new Array(c),s&&c)for(var f=0;f<c;f++){var h=new n(s[f],e);a.children[f]=h,o.push(h),h.parent=a,h.depth=a.depth+1}}return i}var i=18,o=2*i,a=i,u={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||a},getVGap:function(t){return t.vgap||a},getChildren:function(t){return t.children},getHeight:function(t){return t.height||o},getWidth:function(t){var e=t.name||" ";return t.width||e.split("").length*i}};Object.assign(n.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){var n=this;n.hgap+=t,n.vgap+=e,n.width+=2*t,n.height+=2*e},eachNode:function(t){for(var e=this,n=[e],r=void 0;r=n.pop();)t(r),n=n.concat(r.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e=this,n=[e],r=void 0;r=n.shift();)t(r),n=n.concat(r.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.eachNode(function(n){n.x+=t,n.y+=e})},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),t.translate(0,e.height)}}),t.exports=r},function(t,e,n){var r=n(2);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),o=t.children.length,a=Math.round(o/2),u=e.getSide||function(t,e){return e<a?"right":"left"},s=0;s<o;s++){var c=t.children[s],f=u(c,s);"right"===f?i.children.push(c):n.children.push(c)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){var r={compactBox:n(5),dendrogram:n(7),indented:n(9),mindmap:n(11)};t.exports=r},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e=Object.assign({},h,e),new f(t,e).execute()}var u=n(0),s=n(6),c=n(1),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.execute=function(){var t=this;return c(t.rootNode,t.options,s)},e}(u),h={};t.exports=a},function(t,e){function n(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=this;
i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e,n){n?t.y+=e:t.x+=e,t.children.forEach(function(t){r(t,e,n)})}function i(t,e){var n=e?t.y:t.x;return t.children.forEach(function(t){n=Math.min(i(t,e),n)}),n}function o(t,e){var n=i(t,e);r(t,-n,e)}function a(t,e,n){n?e.y=t.x:e.x=t.x,t.c.forEach(function(t,r){a(t,e.children[r],n)})}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e?(t.x=n,n+=t.width):(t.y=n,n+=t.height),t.children.forEach(function(t){u(t,e,n)})}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t){function e(t){if(0===t.cs)return void r(t);e(t.c[0]);for(var n=y(h(t.c[0].el),0,null),o=1;o<t.cs;++o){e(t.c[o]);var a=h(t.c[o].er);i(t,o,n),n=y(a,o,n)}p(t),r(t)}function r(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function i(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){h(r)>n.low&&(n=n.nxt);var u=i+r.prelim+r.w-(a+o.prelim);u>0&&(a+=u,s(t,e,n.index,u));var p=h(r),g=h(o);p<=g&&(r=f(r),null!==r&&(i+=r.mod)),p>=g&&(o=c(o),null!==o&&(a+=o.mod))}!r&&o?l(t,e,o,a):r&&!o&&d(t,e,r,i)}function s(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,v(t,e,n,r)}function c(t){return 0===t.cs?t.tl:t.c[0]}function f(t){return 0===t.cs?t.tr:t.c[t.cs-1]}function h(t){return t.y+t.h}function l(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}function d(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}function p(t){t.prelim=(t.c[0].prelim+t.c[0].mod+t.c[t.cs-1].mod+t.c[t.cs-1].prelim+t.c[t.cs-1].w)/2-t.w/2}function g(t,e){e+=t.mod,t.x=t.prelim+e,m(t);for(var n=0;n<t.cs;n++)g(t.c[n],e)}function v(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}function m(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}function y(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=x.isHorizontal;u(t,b);var _=n.fromNode(t,b);return e(_),g(_,0),a(_,t,b),o(t,b),t}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e=Object.assign({},h,e),new f(t,e).execute()}var u=n(0),s=n(8),c=n(1),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.execute=function(){var t=this;return t.rootNode.width=0,c(t.rootNode,t.options,s)},e}(u),h={};t.exports=a},function(t,e){function n(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),e=this;e.x=e.y=0,e.leftChild=e.rightChild=null,e.height=0,e.children=t}function r(t,e,n){n?(e.x=t.x,e.y=t.y):(e.x=t.y,e.y=t.x),t.children.forEach(function(t,i){r(t,e.children[i],n)})}var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t){function e(t){if(!t)return null;t.width=0,t.depth&&t.depth>s&&(s=t.depth);var r=t.children,i=r.length,o=new n(t.height,[]);return r.forEach(function(t,n){var r=e(t);o.children.push(r),0===n&&(o.leftChild=r),n===i-1&&(o.rightChild=r)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}function o(t){if(t.isLeaf||0===t.children.length)t.drawingDepth=s;else{var e=t.children.map(function(t){return o(t)}),n=Math.min.apply(null,e);t.drawingDepth=n-1}return t.drawingDepth}function a(t){t.x=t.drawingDepth*u.rankSep,t.isLeaf?(t.y=0,c&&(t.y=c.y+c.height+u.nodeSep,t.originNode.parent!==c.originNode.parent&&(t.y+=u.subTreeSep)),c=t):(t.children.forEach(function(t){a(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u=Object.assign({},i,u);var s=0,c=void 0,f=e(t);return o(f),a(f),r(f,t,u.isHorizontal),t}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e=Object.assign({},d,e),new l(t,e).execute()}var u=n(0),s=n(10),c=n(3),f=["LR","RL","H"],h=f[0],l=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.execute=function(){var t=this,e=t.options,n=t.rootNode;e.isHorizontal=!0;var r=e.indent,i=e.direction||h;if(i&&f.indexOf(i)===-1)throw new TypeError("Invalid direction: "+i);if(i===f[0])s(n,r);else if(i===f[1])s(n,r),n.right2left();else if(i===f[2]){var o=c(n,e),a=o.left,u=o.right;s(a,r),a.right2left(),s(u,r);var l=a.getBoundingBox();u.translate(l.width,0),n.x=u.x-n.width/2}return n},e}(u),d={};t.exports=a},function(t,e){function n(t,e,n){t.x+=n*t.depth,t.y=e?e.y+e.height:0}var r=20;t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=null;t.eachNode(function(t){n(t,i,e),i=t})}},function(t,e,n){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){return e=Object.assign({},h,e),new f(t,e).execute()}var u=n(0),s=n(12),c=n(1),f=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.execute=function(){var t=this;return c(t.rootNode,t.options,s)},e}(u),h={};t.exports=a},function(t,e){function n(t,e){var r=0;return t.children.length?t.children.forEach(function(t){r+=n(t,e)}):r=t.height,t._subTreeSep=e.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}function r(t){var e=t.children,n=e.length;if(n){e.forEach(function(t){r(t)});var i=e[0],o=e[n-1],a=o.y-i.y+o.height,u=0;if(e.forEach(function(t){u+=t.totalHeight}),a>t.height)t.y=i.y+a/2-t.height/2;else if(1!==e.length||t.height>u){var s=t.y+(t.height-a)/2-i.y;e.forEach(function(t){t.translate(0,s)})}else t.y=(i.y+i.height/2+o.y+o.height/2)/2-t.height/2}}var i={getSubTreeSep:function(){return 0}};t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,n(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),r(t)}}])})},function(t,e,n){"use strict";var r=n(53);n(168),n(167),t.exports=r},function(t,e){"use strict";t.exports={gridStyle:{stroke:"#A3B1BF",lineWidth:.5},cursor:{panningCanvas:"-webkit-grabbing",beforePanCanvas:"-webkit-grab"},wheelPanRatio:.3,alignLineStyle:{stroke:"#FA8C16",lineWidth:1}}},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(326),o=n(327),a=n(328),u=n(329),s=n(330);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(36),o=n(345),a=n(346),u=n(347),s=n(348),c=n(349);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=u,r.prototype.has=s,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(28);t.exports=r},function(t,e,n){function r(t,e,n,a,u){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,u))}var i=n(270),o=n(9);t.exports=r},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(323);t.exports=r},function(t,e){function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||r;return t===n}var r=Object.prototype;t.exports=n},function(t,e,n){var r=n(19),i=r(Object,"create");t.exports=i},function(t,e,n){(function(t){var r=n(103),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,u=a&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t?t:u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(e,n(66)(t))},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(49),o=1/0;t.exports=r},function(t,e){function n(t){return t}t.exports=n},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==u||e==s||e==a||e==c}var i=n(13),o=n(8),a="[object AsyncFunction]",u="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(13),o=n(9),a="[object Symbol]";t.exports=r},function(t,e,n){var r=n(276),i=n(40),o=n(44),a=o&&o.isTypedArray,u=a?i(a):r;t.exports=u},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(83),o=n(278),a=n(20);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){var n=e[t.parent];if(!n)return!1;if(n){var r=i(n,e);if(r)return r}return n.collapsed?n:void 0}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(1),u=function(){function t(e){r(this,t);var n={id:"",type:null,model:{},group:null,animate:!1,modelCache:{}};a.mix(this,n,e),this._init()}return o(t,[{key:"_init",value:function(){this._setIndex(),this._mapping(),this._setShapeObj(),this._initGroup(),this.draw()}},{key:"_setIndex",value:function(){var t=this.model;a.isNil(t.index)&&(t.index=this.zIndex)}},{key:"_mapping",value:function(){var t=this.mapper,e=this.model;t.mapping(e)}},{key:"_initGroup",value:function(){var t=this.group,e=this.model,n=this.type;t.isItemContainer=!0,t.id=e.id,t.itemType=n,t.model=e}},{key:"_calculateBBox",value:function(){var t=this.keyShape,e=this.group,n=a.getBBox(t,e);return n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,n}},{key:"getLabel",value:function(){var t=this.group;return t.findByClass("label")[0]}},{key:"getGraph",value:function(){return this.graph}},{key:"getEnterAnimate",value:function(){var t=this.shapeObj,e=this.graph;return t.enterAnimate?t.enterAnimate:e.get("_enterAnimate")}},{key:"getLeaveAnimate",value:function(){var t=this.shapeObj,e=this.graph;return t.leaveAnimate?t.leaveAnimate:e.get("_leaveAnimate")}},{key:"_setShapeObj",value:function(){var t=this.graph,e=this.type,n=this.getModel();this.shapeObj=t.getShapeObj(e,n)}},{key:"_afterDraw",value:function(){var t=this.graph;this._setGId(),this._cacheModel(),t.emit("afteritemdraw",{item:this})}},{key:"_cacheModel",value:function(){this.modelCache=a.mix({},this.model)}},{key:"_setGId",value:function(){var t=this.group,e=this.id,n=this.type;t.gid=e,t.deepEach(function(t,r,i){var o=r.gid;t.id=e,t.eventPreFix=n,t.gid=o+"-"+i})}},{key:"_beforeDraw",value:function(){var t=this.graph;t.emit("beforeitemdraw",{item:this}),this.updateCollapsedParent(),this._setShapeObj()}},{key:"_shouldDraw",value:function(){return!0}},{key:"_getDiff",value:function(){var t=[],e=this.model,n=this.modelCache;return a.each(e,function(e,r){a.isEqual(e,n[r])||t.push(r)}),0!==t.length&&t}},{key:"deepEach",value:function(t,e){a.traverseTree(this,t,e?e:function(t){return t.getChildren()})}},{key:"getShapeObj",value:function(){return this.shapeObj}},{key:"updateCollapsedParent",value:function(){var t=this.dataMap;this.collapsedParent=i(this.model,t)}},{key:"isVisible",value:function(){var t=this.group;return t.get("visible")}},{key:"hide",value:function(){var t=this.group,e=this.graph;e.emit("beforeitemhide",{item:this}),t.hide(),e.emit("afteritemhide",{item:this})}},{key:"show",value:function(){var t=this.group,e=this.graph;e.emit("beforeitemshow",{item:this}),t.show(),e.emit("afteritemshow",{item:this})}},{key:"draw",value:function(){this._beforeDraw(),this._shouldDraw()&&this._drawInner(),this._afterDraw()}},{key:"forceUpdate",value:function(){this._beforeDraw(),this._drawInner(),this._afterDraw()}},{key:"_drawInner",value:function(){var t=this.animate,e=this.group;e.clear(!t);var n=this.shapeObj,r=n.draw(this);r&&(r.isKeyShape=!0,this.keyShape=r),n.afterDraw&&n.afterDraw(this)}},{key:"getCenter",value:function(){var t=this.getBBox();return{x:t.centerX,y:t.centerY}}},{key:"getBBox",value:function(){return this.bbox||this._calculateBBox()}},{key:"layoutUpdate",value:function(){this.draw()}},{key:"update",value:function(){this.draw()}},{key:"getModel",value:function(){return this.model}},{key:"getKeyShape",value:function(){return this.keyShape}},{key:"getGraphicGroup",value:function(){return this.group}},{key:"getParent",value:function(){var t=this.model,e=this.itemMap;return e[t.parent]}},{key:"getAllParents",value:function(){for(var t=this.model,e=this.itemMap,n=[],r=t.parent;r&&e[r];)n.push(e[r]),r=r.parent;return n}},{key:"getAllChildren",value:function(){var t=[];return this.deepEach(function(e){t.push(e)}),t}},{key:"getChildren",value:function(){var t=this.id,e=this.graph,n=e.getItems();return n.filter(function(e){return e.model.parent===t})}},{key:"destroy",value:function(){if(!this.destroyed){var t=this.animate,e=this.graph;e.emit("beforeitemdestroy",{item:this}),this.group.remove(!t),this.destroyed=!0,e.emit("afteritemdestroy",{item:this})}}}]),t}();t.exports=u},function(t,e,n){"use strict";function r(t){var e=t.getCurrentPage(),n=e.getSelected();return n.length>0}function i(t){var e=t.getCurrentPage();this.snapShot=e.save(),this.selectedItems=e.getSelected().map(function(t){return t.id}),this.method&&(h.isString(this.method)?e[this.method]():this.method(t))}function o(t){var e=t.getCurrentPage();e.read(this.snapShot),e.setSelected(this.selectedItems,!0)}function a(t){var e=t.getCurrentPage();return e.getMode()!==this.toMode}function u(t){var e=t.getCurrentPage();this.fromMode=e.getMode(),e.changeMode(this.toMode)}function s(t){var e=t.getCurrentPage();e.changeMode(this.fromMode)}function c(t){var e={},n=[];return t.forEach(function(t){var r=t.model,i=h.mix(!0,{},f({},r,{id:h.guid()}));e[r.id]=i.id,n.push(f({},t,{model:i}))}),n.forEach(function(t){var n=t.model;if(n.parent){var r=e[n.parent];r?n.parent=r:delete n.parent}}),n.sort(function(t,e){return t.index-e.index}),n}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=n(12),l={};l.list=[],l.registerCommand=function(t,e,n){if(l[t])h.mix(l[t],e);else{var r=f({enable:function(){return!0},init:function(){},execute:i,back:o,shortcutCodes:void 0,executeTimes:1,name:t,queue:!0},e);n&&l[n]&&(r=h.mix({},l[n],e)),l[t]=r,l.list.push(r)}},l.execute=function(t,e,n){var r=h.mix(!0,{},l[t],n),i=e.get("_command");if(r.enable(e))return r.init(),r.queue&&(i.queue.splice(i.current,i.queue.length-i.current,r),i.current+=1),e.emit("beforecommandexecute",{command:r}),r.execute(e),e.emit("aftercommandexecute",{command:r}),e.setCommandDOMenable(),r},l.enable=function(t,e){return l[t].enable(e)},l.registerCommand("common",{back:o}),l.registerCommand("update",{enable:function(){return this.itemId&&this.updateModel},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=n.find(this.itemId);1===this.executeTimes&&(this.originModel=h.getContrast(r.getModel(),this.updateModel),this.page=e),n.update(r,this.updateModel)},back:function(){var t=this.page,e=t.getGraph(),n=e.find(this.itemId);e.update(n,this.originModel)}}),l.registerCommand("redo",{queue:!1,enable:function(t){var e=t.get("_command"),n=e.queue;return e.current<n.length},execute:function(t){var e=t.get("_command"),n=e.queue,r=e.current;n[r].execute(t),e.current+=1},shortcutCodes:[["metaKey","shiftKey","z"],["ctrlKey","shiftKey","z"]]}),l.registerCommand("undo",{queue:!1,enable:function(t){var e=t.get("_command");return e.current>0},execute:function(t){var e=t.get("_command"),n=e.queue,r=e.current,i=n[r-1];i.executeTimes++,i.back(t),e.current-=1},shortcutCodes:[["metaKey","z"],["ctrlKey","z"]]}),l.registerCommand("copy",{queue:!1,enable:r,method:function(t){var e=t.getCurrentPage(),n=e.getSelected(),r=t.get("_command"),i=n.map(function(t){return t.getGraphicGroup()}),o=h.getChildrenBBox(i);r.clipboard=[],n.forEach(function(t){h.traverseTree(t,function(t){var e=t.getModel(),n=t.getGraphicGroup();r.clipboard.push({type:t.type,index:h.getIndex(n),model:e})},function(t){return t.getChildren&&t.getChildren()},!0)}),t.set("copyCenterBox",f({},o))}}),l.registerCommand("pasteHere",{enable:function(t){var e=t.get("_command");return e.clipboard.length>0},method:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=this.pasteData?this.pasteData:c(n.clipboard),i=this.copyCenterBox?this.copyCenterBox:t.get("copyCenterBox"),o=this.contextmenuPoint?this.contextmenuPoint:t.get("contextmenuPoint");e.clearSelected(),this.copyCenterBox=h.cloneDeep(i),this.pasteData=h.cloneDeep(r),this.contextmenuPoint=h.cloneDeep(o),r.forEach(function(t){var n=t.model;n.x&&(n.x+=o.x-i.minX),n.y&&(n.y+=o.y-i.minY),e.add(t.type,n)})},back:o}),l.registerCommand("paste",{enable:function(t){var e=t.get("_command");return e.clipboard.length>0},method:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=this.pasteData?this.pasteData:c(n.clipboard);e.clearSelected(),this.pasteData=h.cloneDeep(r),r.forEach(function(t){var n=t.model;n.x&&(n.x+=10),n.y&&(n.y+=10),e.add(t.type,n)})},back:o}),l.registerCommand("addGroup",{init:function(){this.addGroupId=h.guid()},enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return n.length>1},method:function(t){var e=t.getCurrentPage();e.addGroup({id:this.addGroupId})},back:o}),l.registerCommand("unGroup",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return 1===n.length&&n[0].isGroup},method:"unGroup",back:o}),l.registerCommand("delete",{getDeleteItems:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.itemIds?this.itemIds.map(function(t){return n.find(t)}):e.getSelected();return r=r.filter(function(t){return t.deleteable!==!1})},enable:function(t){var e=this.getDeleteItems(t);return e.length>0},method:function(t){var e=t.getCurrentPage(),n=this.getDeleteItems(t),r=e.getGraph();e.emit("beforedelete",{items:n}),h.each(n,function(t){r.remove(t)}),e.emit("afterdelete",{items:n}),this.itemIds=n.map(function(t){return t.getModel().id})},back:o,shortcutCodes:["Delete","Backspace"]}),l.registerCommand("selectAll",{method:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=n.getItems();r.forEach(function(t){e.setSelected(t,!0)})},back:o,shortcutCodes:[["metaKey","a"]]}),l.registerCommand("toBack",{enable:r,method:"toBack",back:o}),l.registerCommand("toFront",{enable:r,method:"toFront",back:o}),l.registerCommand("clear",{enable:function(t){var e=t.getCurrentPage(),n=e.getItems();return n.length>0},method:"clear",back:o}),l.registerCommand("multiSelect",{enable:a,toMode:"multiSelect",execute:u,back:s}),l.registerCommand("move",{enable:a,toMode:"move",execute:u,back:s}),t.exports=l},function(t,e,n){var r=n(19),i=n(11),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(331),o=n(332),a=n(333),u=n(334),s=n(335);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(101);t.exports=r},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(80);t.exports=r},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){var r=n(111),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){var r=n(82),i=n(119),o=Object.prototype,a=o.propertyIsEnumerable,u=Object.getOwnPropertySymbols,s=u?function(t){return null==t?[]:(t=Object(t),r(u(t),function(e){return a.call(t,e)}))}:i;t.exports=s},function(t,e){function n(t,e){var n=typeof t;return e=null==e?r:e,!!e&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(6),o=n(49),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=r},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=c.test(t);return n||f.test(t)?h(t.slice(2),n?2:8):s.test(t)?a:+t}var i=n(8),o=n(49),a=NaN,u=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,h=parseInt;t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();n(127),n(128),n(131),n(129),n(132);var c=n(122),f=n(136),h=n(72),l=n(1),d=n(10),p=n(130),g=n(146),v=n(147),m=n(149),y=n(142),x=n(148),b=n(143),_=n(141),w=n(144),S=n(145),M=d.Canvas,O=[b,v,m,_,S,g,w,y,x],P=20,E=function(t){function e(t){r(this,e);var n={};O.forEach(function(e){l.mix(n,e.CFG,t)});var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return o._pluginInit(),o.emit("beforeinit"),o._init(),o.emit("afterinit"),o}return o(e,t),s(e,[{key:"getDefaultCfg",value:function(){return{container:void 0,width:void 0,height:void 0,modes:{},mode:"default",plugins:[],fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "\u5fae\u8f6f\u96c5\u9ed1", SimSun, "sans-serif"',nodeDefaultShape:void 0,edgeDefaultShape:void 0,groupDefaultShape:void 0,defaultIntersectBox:"circle",firstRender:!0,_controllers:{},_timers:{},_dataMap:{},_itemMap:{},_data:{},_delayRunObj:{}}}}]),s(e,[{key:"_init",value:function(){var t=this;this._initData(),this._initContainer(),this._initCanvas(),O.forEach(function(e){e.INIT&&t[e.INIT]()}),this.initEvent()}},{key:"initEvent",value:function(){}},{key:"_executeLayout",value:function(t,e,n){l.isFunction(t)?t(e,n,this):l.isObject(t)&&(t.nodes=e,t.edges=n,t.graph=this,t.execute())}},{key:"_pluginInit",value:function(){var t=this,e=this.get("plugins");e.forEach(function(e){e.graph=t,e.init&&e.init()})}},{key:"_getTimer",value:function(t){return this.get("_timers")[t]}},{key:"_setTimer",value:function(t,e){this.get("_timers")[t]=e}},{key:"_getController",value:function(t){return this.get("_controllers")[t]}},{key:"_initContainer",value:function(){var t=this.get("container");if(t||(t=this.get("id")),!t)throw new Error("please set the container for the graph !");l.isString(t)&&(t=document.getElementById(t));var e=l.createDOM('<div class="graph-container"></div>',{position:"relative"});t.appendChild(e),this.set("_containerDOM",t),this.set("_graphContainer",e)}},{key:"_initCanvas",value:function(){var t=this,e=this.get("_graphContainer"),n=this.get("width"),r=this.get("height"),i=this.get("fontFamily"),o={width:n,height:r,fontFamily:i,eventEnable:!1,containerDOM:e},a=new M(o),u=new M(o),s=u.get("el"),c=e.appendChild(l.createDOM('<div class="graph-container-html-Elements"></div>'));a.on("beforedraw",function(){t.emit("beforecanvasdraw")}),s.style.position="absolute",s.style.top=0,s.style.left=0,c.style.overflow="hidden",c.style.width=n+"px",c.style.height=r+"px",c.style.position="absolute",c.style.top=0,c.style.left=0,this.set("_canvas",a),this.set("_frontCanvas",u),this.set("_htmlElementContaniner",c);var f=this.getMouseEventWarrper();f.style.outline="none",f.style["user-select"]="none",f.setAttribute("tabindex",P),a.set("htmlElementContaniner",c);var h=a.addGroup(p),d=u.addGroup(p),g=h.addGroup();this.set("_itemGroup",g),this.set("_rootGroup",h),this.set("_frontRootGroup",d)}},{key:"_initData",value:function(){this.set("_dataMap",{}),this.set("_itemMap",{_nodes:[],_edges:[],_groups:[],_guides:[]}),this.set("_data",{})}},{key:"_refresh",value:function(){}},{key:"getMouseEventWarrper",value:function(){return this.get("_htmlElementContaniner")}},{key:"getGraphContainer",value:function(){return this.get("_graphContainer")}},{key:"addItems",value:function(t,e){var n=this;this._addDatas(t,e);var r=l.upperFirst(t),i=f[r],o=this.get("_itemMap"),a=this.get("_itemGroup"),u=this.get("_dataMap"),s=this.get("animate"),c=this.get("defaultIntersectBox");if(!i)throw new Error("please set valid item type!");e.forEach(function(e){var r=new i({id:e.id,type:t,model:e,group:a.addGroup(),graph:n,mapper:n._getController(t+"Mapper"),itemMap:o,animate:s,dataMap:u,defaultIntersectBox:c});o[e.id]=r,o["_"+t+"s"].push(r)})}},{key:"removeItems",value:function(t){var e=this.get("_dataMap"),n=this.get("_itemMap");t.forEach(function(t){delete e[t.id],delete n[t.id],l.Array.remove(n["_"+t.type+"s"],t),t.destroy()})}},{key:"updateItem",value:function(t,e){l.mix(t.getModel(),e),t.update()}},{key:"_addDatas",value:function(t,e){var n=this.get("_dataMap");e.forEach(function(t){if(l.isNil(t.id)&&(t.id=l.guid()),n[t.id])throw new Error("id:"+t.id+" has already been set, please set new one");n[t.id]=t})}},{key:"_drawInner",value:function(){var t=this.get("_data"),e=this.get("_itemGroup"),n=this.get("_dataMap");t.nodes&&this.addItems("node",t.nodes),t.groups&&this.addItems("group",t.groups),t.edges&&this.addItems("edge",t.edges),t.guides&&this.addItems("guide",t.guides),e.sortBy(function(t){var e=t.id,r=n[e];return r.index})}},{key:"_clearInner",value:function(){var t=this.getItems();t.forEach(function(t){t&&!t.destroyed&&t.destroy()})}},{key:"getShapeObj",value:function(t,e){if(!l.isObject(t)){var n=l.upperFirst(t),r=h[n],i=this.get(t+"DefaultShape");return r.getShape(e.shape,i)}return t.getShapeObj()}},{key:"getSource",value:function(){return this.get("_sourceData")}},{key:"parseSource",value:function(t){return t}},{key:"getCanvas",value:function(){return this.get("_canvas")}},{key:"getRootGroup",value:function(){return this.get("_rootGroup")}},{key:"getItemGroup",value:function(){return this.get("_itemGroup")}},{key:"getFrontRootGroup",value:function(){return this.get("_frontRootGroup")}},{key:"getFrontCanvas",value:function(){return this.get("_frontCanvas")}},{key:"source",value:function(t){return this.emit("beforesource"),this.set("_data",t),this.set("_sourceData",t),this.emit("aftersource"),this}},{key:"render",value:function(){return this.emit("beforerender"),this.emit("beforedrawinner"),this._drawInner(),this.emit("afterdrawinner"),this.draw(),this.emit("afterrender"),this}},{key:"forcePreventAnimate",value:function(t){this.set("forcePreventAnimate",t)}},{key:"reRender",value:function(){var t=this.get("_sourceData");return this.read(t),this}},{key:"destroy",value:function(){var t=this.get("_canvas"),n=this.get("_frontCanvas"),r=this.get("_graphContainer"),i=this.get("_controllers"),o=this.get("_timers"),a=this.get("_windowForceResizeEvent"),s=this.get("plugins");return l.each(o,function(t){clearTimeout(t)}),l.each(i,function(t){t.destroy()}),s.forEach(function(t){t.destroy&&t.destroy()}),t&&t.destroy(),n&&n.destroy(),r.destroy(),window.removeEventListener("resize",a),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this}},{key:"save",value:function(){var t=this.get("_itemGroup"),e=t.get("children"),n={nodes:[],edges:[],groups:[],guides:[]};return e.forEach(function(t,e){var r=t.model;if(r){var i=t.itemType,o=l.cloneDeep(r);o.index=e,n[i+"s"].push(o)}}),0===n.nodes.length&&delete n.nodes,0===n.edges.length&&delete n.edges,0===n.groups.length&&delete n.groups,0===n.guides.length&&delete n.guides,n}},{key:"add",value:function(t,e){var n={action:"add",model:e};this.emit("beforechange",n);var r=this.get("_itemMap");this.addItems(t,[e]);var i=r[e.id];return i.getAllParents().forEach(function(t){t.update()}),n.item=i,this.emit("afterchange",n),this.draw(),i}},{key:"remove",value:function(t){var e=this;t=this.getItem(t);var n={action:"remove",item:t};if(this.emit("beforechange",n),t.isNode||t.isGroup){var r=t.getEdges();r.forEach(function(t){e.remove(t)})}if(t.isGroup){var i=t.getChildren();i.forEach(function(t){e.remove(t)})}return this.removeItems([t]),t.getAllParents().forEach(function(t){t.update()}),this.emit("afterchange",n),this.draw(),this}},{key:"simpleUpdate",value:function(t,e){return this.updateItem(t,e),this.draw(),this}},{key:"update",value:function(t,e){var n=this.get("_itemMap");t=this.getItem(t);var r=t.getModel(),i=a({},r),o={
action:"update",item:t,originModel:i,updateModel:e},u=n[i.parent];if(u&&u!==parent&&l.isGroup(u)&&t.getAllParents().forEach(function(t){t.update()}),e&&this.emit("beforechange",o),this.updateItem(t,e),t.getAllParents().forEach(function(t){t.update()}),(t.isNode||t.isGroup)&&!t.collapsedParent){var s=t.getEdges();s.forEach(function(t){t.update()})}return t.isGroup&&e&&(t.deepEach(function(t){t.updateCollapsedParent(),t.collapsedParent?t.hide():t.show(),t.update()}),t.getInnerEdges().forEach(function(t){var e=t.linkedItemVisible();e?t.show():t.hide(),t.update()})),e&&this.emit("afterchange",o),this.draw(),this}},{key:"read",value:function(t){if(!t)throw new Error("please read valid data!");var e=this.get("fitView"),n={action:"changeData",data:t};return this.emit("beforechange",n),this.clear(),this.source(t),this.render(),this.emit("afterchange",n),e&&this.setFitView(e),this}},{key:"clear",value:function(){return this.emit("beforeclear"),this._clearInner(),this._initData(),this.emit("afterclear"),this.draw(),this}},{key:"hide",value:function(t){return t=this.getItem(t),t.hide(),t.isNode&&t.getEdges().forEach(function(t){t.hide()}),t.isGroup&&(t.getEdges().forEach(function(t){t.hide()}),t.getInnerEdges().forEach(function(t){t.hide()}),t.deepEach(function(t){t.hide()})),this.draw(),this}},{key:"show",value:function(t){return t=this.getItem(t),t.show(),t.isNode&&t.getEdges().forEach(function(t){t.show()}),t.isGroup&&(t.getEdges().forEach(function(t){t.show()}),t.getInnerEdges().forEach(function(t){t.show()}),t.deepEach(function(t){t.show()})),this.draw(),this}},{key:"getWidth",value:function(){return this.get("width")}},{key:"getHeight",value:function(){return this.get("height")}},{key:"changeSize",value:function(t,e){if(Math.abs(t)>=1/0||Math.abs(e)>=1/0)return void console.warn("size parameter more than the maximum");var n=this.get("_canvas"),r=this.get("_frontCanvas"),i=this.get("_htmlElementContaniner");return t===this.get("width")&&e===this.get("height")||(this.emit("beforechangesize"),n.changeSize(t,e),r.changeSize(t,e),i.css({width:t+"px",height:e+"px"}),this.set("width",t),this.set("height",e),this.emit("afterchangesize"),this.draw()),this}},{key:"toFront",value:function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();l.toFront(n,e),this.draw()}},{key:"toBack",value:function(t){t=this.getItem(t);var e=this.get("_itemGroup"),n=t.getGraphicGroup();l.toBack(n,e),this.draw()}},{key:"css",value:function(t){var e=this.getGraphContainer();l.modifyCSS(e,t)}},{key:"saveImage",value:function(){var t=this.getGraph(),e=this.getBBox(),n=this.getFitViewPadding();return l.graph2Canvas({graph:t,width:e.width+n[1]+n[3],height:e.height+n[0]+n[2]})}}]),e}(c);O.forEach(function(t){l.mix(E.prototype,t.AUGMENT)}),t.exports=E},function(t,e){"use strict";var n={registerBehaviour:function(t,e,r){e.dependences=r,n[t]=e},resetMode:function(t,e){var r=[],i=void 0;e._off();for(var o=0;o<t.length;o++)i=n[t[o]],i&&(i.dependences&&i.dependences.forEach(function(t){t&&r.indexOf(t)===-1&&(n[t](e),r.push(t))}),i&&r.indexOf(i)===-1&&i(e))}};t.exports=n},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},c=n(1),f=n(52),h=function(t){function e(t){r(this,e);var n={type:"node",linkable:!0,isNode:!0,zIndex:3};return c.mix(n,t),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),u(e,[{key:"updatePosition",value:function(){var t=this.group,e=this.model;t.setMatrix([1,0,0,0,1,0,e.x?e.x:0,e.y?e.y:0,1]),this.bbox=this._calculateBBox()}},{key:"_shouldDraw",value:function(){var t=this._getDiff(),n=s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_shouldDraw",this).call(this);return t&&!(2===t.length&&t.indexOf("x")!==-1&&t.indexOf("y")!==-1)&&!(1===t.length&&("x"===t[0]||"y"===t[0]))&&n}},{key:"_afterDraw",value:function(){this.updatePosition(),s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_afterDraw",this).call(this)}},{key:"layoutUpdate",value:function(){this._afterDraw()}},{key:"getEdges",value:function(t){var e=this.id,n=this.itemMap,r=n._edges,i=[];return c.each(r,function(n){if(t)return void(t(n)&&i.push(n));var r=n.getModel();e!==r.target&&e!==r.source||i.push(n)}),i}},{key:"getInEdges",value:function(){var t=this;return this.getEdges(function(e){return e.target===t})}},{key:"getOutEdges",value:function(){var t=this;return this.getEdges(function(e){return e.source===t})}},{key:"getLinkPoints",value:function(t){var e=this.getAnchorPoints();if(c.isNumber(t)&&e[t])return[e[t]];var n=t.x,r=t.y,i=this.getBBox(),o=i.centerX,u=i.centerY,s=n-o,f=r-u,h=this.shapeObj.anchor||{},l=this.defaultIntersectBox,d=[];if(c.isEmpty(e)){var p=h.type||l;switch(c.isFunction(p)&&(p=p(this)),p){case"rect":d=[c.getIntersectPointRect(i,t)];break;case"path":if(this.keyShape&&"path"===this.keyShape.get("type")){var g=c.parsePathArray(["M",n,r,"L",o,u]);d=[c.intersection(g,this.keyShape.get("path"))]}break;default:d=[c.getIntersectPointCircle(n,r,i.centerX,i.centerY,Math.max(i.width,i.height)/2)]}c.isEmpty(d[0])&&(d=[{x:o,y:u}])}else d=e.map(function(t){var e=t.x-o,n=t.y-u,r=c.getArcOfVectors({x:s,y:f},{x:e,y:n});return a({},t,{arc:r})}).sort(function(t,e){return t.arc-e.arc});return d}},{key:"getAnchorPoints",value:function(t){var e=this.shapeObj,n=this.getBBox(),r=[],i=e.anchor||{},o=void 0;return o=c.isArray(i)?i:c.isFunction(i)?i(this):i.points,c.each(o,function(t,e){var i=a({x:n.minX+t[0]*n.width,y:n.minY+t[1]*n.height},t[2],{index:e});r.push(i)}),this._anchorPoints=r,c.isNumber(t)?this._anchorPoints[t]:this._anchorPoints}}]),e}(f);t.exports=h},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t)}return r(t,[{key:"execute",value:function(){throw new Error("please override this method")}}]),t}();t.exports=i},function(t,e,n){"use strict";t.exports={CompactBoxTree:n(137),Dendrogram:n(138),IndentedTree:n(139),Mindmap:n(140),Base:n(70)}},function(t,e,n){"use strict";var r=n(21);r.registerShapeManager("node",{defaultShapeType:"common"}),r.registerShapeManager("edge",{defaultShapeType:"common"}),r.registerShapeManager("group",{defaultShapeType:"common"}),r.registerShapeManager("guide",{defaultShapeType:"common"}),n(158),n(151),n(153),n(155),t.exports=r},function(t,e,n){"use strict";var r=n(10),i=n(22),o={};i.mix(o,r.DomUtil,{addEventListener:function(t,e,n){return t.addEventListener?(t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}):t.attachEvent?(t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}):void 0},createDOM:function(t,e){var n=void 0;return n=i.isString(t)?r.DomUtil.createDom(t):t,n.bbox=n.getBoundingClientRect(),n.hide=function(){return n.style.visibility="hidden",n},n.show=function(){return n.style.visibility="visible",n},n.css=function(t){return r.DomUtil.modifyCSS(n,t),n},n.width=function(){return r.DomUtil.getWidth(n)},n.height=function(){return r.DomUtil.getHeight(n)},n.destroy=function(){n.parentNode&&n.parentNode.removeChild(n)},n.on=function(t,e){n.addEventListener(t,e)},n.off=function(t,e){n.removeEventListener(t,e)},n.attr=function(t){return n.getAttribute(t)},n.css(e),n}}),t.exports=o},function(t,e,n){"use strict";var r=n(10),i=n(22),o=.001,a={isBetween:function(t,e,n){return t>=e&&t<=n},getLineIntersect:function(t,e,n,r){var i={x:n.x-t.x,y:n.y-t.y},u={x:e.x-t.x,y:e.y-t.y},s={x:r.x-n.x,y:r.y-n.y},c=u.x*s.y-u.y*s.x,f=c*c,h=u.x*u.x+u.y*u.y,l=s.x*s.x+s.y*s.y,d=null;if(f>o*h*l){var p=(i.x*s.y-i.y*s.x)/c,g=(i.x*u.y-i.y*u.x)/c;a.isBetween(p,0,1)&&a.isBetween(g,0,1)&&(d={x:t.x+p*u.x,y:t.y+p*u.y})}return d},getIntersectPointRect:function(t,e){var n=t.minX,r=t.minY,i=t.maxX-t.minX,o=t.maxY-t.minY,u=n+i/2,s=r+o/2,c=[],f={x:u,y:s};c.push({x:n,y:r}),c.push({x:n+i,y:r}),c.push({x:n+i,y:r+o}),c.push({x:n,y:r+o}),c.push({x:n,y:r});for(var h=null,l=1;l<c.length&&!(h=a.getLineIntersect(c[l-1],c[l],f,e));l++);return h},getIntersectPointCircle:function(t,e,n,r,i){var o=Math.sqrt(Math.pow(t-n,2)+Math.pow(e-r,2));if(o<i)return null;var a=t-n,u=e-r,s=Math.sign(a),c=Math.sign(u),f=Math.atan(u/a);return{x:n+Math.abs(i*Math.cos(f))*s,y:r+Math.abs(i*Math.sin(f))*c}},applyMatrix:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[t.x,t.y,n];return r.MatrixUtil.vec3.transformMat3(i,i,e),{x:i[0],y:i[1]}},invertMatrix:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=r.MatrixUtil.mat3.invert([],e),o=[t.x,t.y,n];return r.MatrixUtil.vec3.transformMat3(o,o,i),{x:o[0],y:o[1]}},radixSort:function(t,e){var n=10,r=1,i=[],o=1,a=void 0,u=void 0,s=void 0,c=void 0,f=void 0,h=void 0,l=void 0;for(s=0;s<t.length;s++)a=e(t[s]),a=parseInt(a,10),u=a.toString().length,a.toString().length>o&&(o=u);for(s=0;s<o;s++,r*=10,n*=10){for(c=0;c<t.length;c++)f=e(t[c]),f=parseInt(f%n/r,10),void 0===i[f]&&(i[f]=[]),i[f].push(t[c]);for(h=0,c=0;c<i.length;c++)if(l=void 0,void 0!==i[c])for(l=i[c].shift();void 0!==l;)t[h++]=l,l=i[c].shift()}return t},getArcOfVectors:function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=Math.sqrt(n*n+r*r),u=Math.sqrt(i*i+o*o);return Math.acos((n*i+r*o)/(a*u))}};t.exports=i.mix({},r.MatrixUtil,a)},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(121),s=n(12),c=function(t){function e(n){i(this,e);var r=o(this,t.call(this)),a=r.getDefaultCfg();return r._cfg=s.mix(!0,{},r._cfg,a,n),r}return a(e,t),e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this._cfg[t]},e.prototype.set=function(t,e){this._cfg[t]=e},e.prototype.destroy=function(){this._cfg={},this.destroyed=!0},e}(u);t.exports=c},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(4),o=n(7);t.exports=r({},o,{getNodeSize:function(t,e){if(t.size)return o.isNumber(t.size)?[t.size,t.size]:o.isString(t.size)?t.size.split("*"):t.size;if(t.html&&e){var n=o.createDOM(t.html,{position:"absolute",visibility:"hidden"});e.appendChild(n);var r=o.getWidth(n),a=o.getHeight(n);return n.remove(),[r,a]}return i.defaultNodeSize}})},function(t,e){"use strict";t.exports={nodeDefaultShape:"mind-node",edgeDefaultShape:"mind-edge"}},function(t,e,n){var r=n(19),i=n(11),o=r(i,"Set");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(55),o=n(341),a=n(342);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e,n){var r=n(11),i=r.Uint8Array;t.exports=i},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),f=!n&&!r&&u(t),l=!n&&!r&&!f&&c(t),d=n||r||f||l,p=d?i(t.length,String):[],g=p.length;for(var v in t)!e&&!h.call(t,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||l&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}var i=n(288),o=n(29),a=n(6),u=n(30),s=n(62),c=n(50),f=Object.prototype,h=f.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e,n){function r(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||i(t,e,n)}var i=n(57),o=n(28);t.exports=r},function(t,e,n){function r(t,e,n){var r=t[e];u.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(57),o=n(28),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e,n,j,C,k){var I,F=e&O,D=e&P,N=e&E;if(n&&(I=C?n(t,j,C,k):n(t)),void 0!==I)return I;if(!w(t))return t;var Y=x(t);if(Y){if(I=v(t),!F)return f(t,I)}else{var G=g(t),X=G==B||G==T;if(b(t))return c(t,F);if(G==L||G==A||X&&!C){if(I=D||X?{}:y(t),!F)return D?l(t,s(I,t)):h(t,u(I,t))}else{if(!tt[G])return C?t:{};I=m(t,G,F)}}k||(k=new i);var R=k.get(t);if(R)return R;if(k.set(t,I),S(t))return t.forEach(function(i){I.add(r(i,e,n,i,t,k))}),I;if(_(t))return t.forEach(function(i,o){I.set(o,r(i,e,n,o,t,k))}),I;var z=N?D?p:d:D?keysIn:M,H=Y?void 0:z(t);return o(H||t,function(i,o){H&&(o=i,i=t[o]),a(I,o,r(i,e,n,o,t,k))}),I}var i=n(37),o=n(81),a=n(86),u=n(260),s=n(261),c=n(98),f=n(59),h=n(296),l=n(297),d=n(104),p=n(308),g=n(23),v=n(319),m=n(320),y=n(107),x=n(6),b=n(30),_=n(370),w=n(8),S=n(374),M=n(24),O=1,P=2,E=4,A="[object Arguments]",j="[object Array]",C="[object Boolean]",k="[object Date]",I="[object Error]",B="[object Function]",T="[object GeneratorFunction]",F="[object Map]",D="[object Number]",L="[object Object]",N="[object RegExp]",Y="[object Set]",G="[object String]",X="[object Symbol]",R="[object WeakMap]",z="[object ArrayBuffer]",H="[object DataView]",U="[object Float32Array]",W="[object Float64Array]",q="[object Int8Array]",V="[object Int16Array]",Z="[object Int32Array]",K="[object Uint8Array]",$="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]",tt={};tt[A]=tt[j]=tt[z]=tt[H]=tt[C]=tt[k]=tt[U]=tt[W]=tt[q]=tt[V]=tt[Z]=tt[F]=tt[D]=tt[L]=tt[N]=tt[Y]=tt[G]=tt[X]=tt[K]=tt[$]=tt[Q]=tt[J]=!0,tt[I]=tt[B]=tt[R]=!1,t.exports=r},function(t,e,n){var r=n(266),i=n(300),o=i(r);t.exports=o},function(t,e,n){var r=n(301),i=r();t.exports=i},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(97),o=n(46);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(56),o=n(6);t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(264),o=n(273),a=n(350);t.exports=r},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))u.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(42),o=n(337),a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(47),o=n(340),a=n(343);t.exports=r},function(t,e,n){function r(t,e,n){var r=-1,h=o,l=t.length,d=!0,p=[],g=p;if(n)d=!1,h=a;else if(l>=f){var v=e?null:s(t);if(v)return c(v);d=!1,h=u,g=new i}else g=e?[]:p;t:for(;++r<l;){var m=t[r],y=e?e(m):m;if(m=n||0!==m?m:0,d&&y===y){for(var x=g.length;x--;)if(g[x]===y)continue t;e&&g.push(y),p.push(m)}else h(g,y,n)||(g!==p&&g.push(y),p.push(m))}return p}var i=n(79),o=n(254),a=n(255),u=n(96),s=n(304),c=n(45),f=200;t.exports=r},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(u(t))}var i=n(6),o=n(63),a=n(351),u=n(25);t.exports=r},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}var i=n(11),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===o,s=u?i.Buffer:void 0,c=s?s.allocUnsafe:void 0;t.exports=r}).call(e,n(66)(t))},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(58);t.exports=r},function(t,e,n){function r(t){return function(e){e=u(e);var n=o(e)?a(e):void 0,r=n?n[0]:e.charAt(0),s=n?i(n,1).join(""):e.slice(1);return r[t]()+s}}var i=n(292),o=n(106),a=n(113),u=n(25);t.exports=r},function(t,e,n){var r=n(19),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e,n,r,c,f){var h=n&u,l=t.length,d=e.length;if(l!=d&&!(h&&d>l))return!1;var p=f.get(t);if(p&&f.get(e))return p==e;var g=-1,v=!0,m=n&s?new i:void 0;for(f.set(t,e),f.set(e,t);++g<l;){var y=t[g],x=e[g];if(r)var b=h?r(x,y,g,e,t,f):r(y,x,g,t,e,f);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(e,function(t,e){if(!a(m,e)&&(y===t||c(y,t,n,r,f)))return m.push(e)})){v=!1;break}}else if(y!==x&&!c(y,x,n,r,f)){v=!1;break}}return f.delete(t),f.delete(e),v}var i=n(79),o=n(257),a=n(96),u=1,s=2;t.exports=r},function(t,e){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,function(){return this}())},function(t,e,n){function r(t){return i(t,a,o)}var i=n(91),o=n(61),a=n(24);t.exports=r},function(t,e,n){var r=n(56),i=n(60),o=n(61),a=n(119),u=Object.getOwnPropertySymbols,s=u?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e){function n(t){return f.test(t)}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",u=i+o+a,s="\\ufe0e\\ufe0f",c="\\u200d",f=RegExp("["+c+r+u+s+"]");t.exports=n},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(262),o=n(60),a=n(42);t.exports=r},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(8);t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e){function n(t,e){return"__proto__"==e?void 0:t[e]}t.exports=n},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(258),o=n(106),a=n(352);t.exports=r},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){function r(e){var n=y,r=x;return y=x=void 0,M=e,_=t.apply(r,n)}function f(t){return M=t,w=setTimeout(d,e),O?r(t):_}function h(t){var n=t-S,r=t-M,i=e-n;return P?c(i,b-r):i}function l(t){var n=t-S,r=t-M;return void 0===S||n>=e||n<0||P&&r>=b}function d(){var t=o();return l(t)?p(t):void(w=setTimeout(d,h(t)))}function p(t){return w=void 0,E&&y?r(t):(y=x=void 0,_)}function g(){void 0!==w&&clearTimeout(w),M=0,y=S=x=w=void 0}function v(){return void 0===w?_:p(o())}function m(){var t=o(),n=l(t);if(y=arguments,x=this,S=t,n){if(void 0===w)return f(S);if(P)return w=setTimeout(d,e),r(S)}return void 0===w&&(w=setTimeout(d,e)),_}var y,x,b,_,w,S,M=0,O=!1,P=!1,E=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,i(n)&&(O=!!n.leading,P="maxWait"in n,b=P?s(a(n.maxWait)||0,e):b,E="trailing"in n?!!n.trailing:E),m.cancel=g,m.flush=v,m}var i=n(8),o=n(379),a=n(65),u="Expected a function",s=Math.max,c=Math.min;t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(20),o=n(9);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=u)return!1;var e=o(t);if(null===e)return!0;var n=h.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==l}var i=n(13),o=n(60),a=n(9),u="[object Object]",s=Function.prototype,c=Object.prototype,f=s.toString,h=c.hasOwnProperty,l=f.call(Object);t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==u}var i=n(13),o=n(6),a=n(9),u="[object String]";t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(386);t.exports=r},function(t,e,n){var r;!function(e){"use strict";function i(){}function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function a(t){return function(){return this[t].apply(this,arguments)}}function u(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&u(t.listener)}var s=i.prototype,c=e.EventEmitter;s.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp){e={};for(n in r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n])}else e=r[t]||(r[t]=[]);return e},s.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},s.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&(e={},e[t]=n),e||n},s.addListener=function(t,e){if(!u(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&o(r[n],e)===-1&&r[n].push(i?e:{listener:e,once:!1});return this},s.on=a("addListener"),s.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},s.once=a("addOnceListener"),s.defineEvent=function(t){return this.getListeners(t),this},s.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},s.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&(n=o(i[r],e),n!==-1&&i[r].splice(n,1));return this},s.off=a("removeListener"),s.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},s.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},s.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},s.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},s.removeAllListeners=a("removeEvent"),s.emitEvent=function(t,e){var n,r,i,o,a,u=this.getListenersAsObject(t);for(o in u)if(u.hasOwnProperty(o))for(n=u[o].slice(0),i=0;i<n.length;i++)r=n[i],r.once===!0&&this.removeListener(t,r.listener),a=r.listener.apply(this,e||[]),a===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},s.trigger=a("emitEvent"),s.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},s.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},s._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},s._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=c,i},r=function(){return i}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(this||{})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(121),c=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this)),o=n.getDefaultCfg();return n._cfg=a({},o,t),n}return o(e,t),u(e,[{key:"getDefaultCfg",value:function(){return{}}}]),u(e,[{key:"get",value:function(t){return this._cfg[t]}},{key:"set",value:function(t,e){this._cfg[t]=e}},{key:"destroy",value:function(){this._cfg={},this.removeAllListeners(),this.destroyed=!0}}]),e}(s);t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,n){var r=e.get("children");return h.each(r,function(e){n++;var r=e.gid;if(e.isGroup&&(n=a(t,e,n)),!h.isNil(r)){var i={matrixStash:h.clone(e.getMatrix()),element:e};if(e.isShape){var o=e.get("attrs");i.attrsStash={},h.each(o,function(t,n){i.attrsStash[n]=e.attr(n)})}t[r]=i}}),n}function u(t,e){t.set("capture",!1),t.animate(e,l.updateDuration,l.updateEasing,function(){t.set("capture",!0)})}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(31),h=n(1),l=n(26),d=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._init(),n}return o(e,t),c(e,[{key:"_init",value:function(){var t=this,e=this.graph;e.on("afteritemdraw",function(e){t.cacheKeyFrame(e.item)})}},{key:"cacheKeyFrame",value:function(t){var e=this.keyFrameCache,n=t.getGraphicGroup();t.isEdge&&n.setMatrix([1,0,0,0,1,0,0,0,1]),n.deepEach(function(n){var r=n.gid,i={matrix:h.clone(n.getMatrix())};n.isItemContainer&&(i.enterAnimate=t.getEnterAnimate(),i.leaveAnimate=t.getLeaveAnimate()),n.isShape&&(i.attrs=n.getAttrs()),i.item=t,e[r]=i},!0)}},{key:"_compare",value:function(){var t=this.stash0,e=this.stash1,n=[],r=[],i=[];h.each(e,function(e,r){t[r]?e.element.get("type")===t[r].element.get("type")&&i.push(r):n.push(r)}),h.each(t,function(t,n){e[n]||r.push(n)}),this.enterElements=n,this.leaveElements=r,this.updateElements=i}},{key:"_addTween",value:function(){var t=this.enterElements,e=this.leaveElements,n=this.updateElements,r=this.stash0,i=this.stash1,o=this.keyFrameCache;h.each(t,function(t){var e=o[t],n=e.enterAnimate;n&&n(e.item,r.element,i.element)}),h.each(e,function(t){var e=o[t],n=e.leaveAnimate;if(n){var a=r[t].element;a.getParent().add(a),n(e.item,r,i)}}),h.each(n,function(t){var e=o[t],n=i[t],a=r[t],c=n.element,f=a.element;a.attrsStash&&c.attr(a.attrsStash),c.setMatrix(a.matrixStash),u(c,s({},e.attrs,{matrix:e.matrix})),f!==c&&f.remove()})}},{key:"getDefaultCfg",value:function(){return{graph:null,canvases:null,stash0:null,stash1:null,keyFrameCache:{}}}},{key:"run",value:function(){this.graph.destroyed||(this.updateStash(),this.count<5e3&&(this._compare(),this._addTween()),h.each(this.canvases,function(t){t.draw()}))}},{key:"updateStash",value:function(){var t=this.canvases,e=this.elementsStash,n={},r=0;e=e?e:{},h.each(t,function(t){r+=a(n,t,0)}),this.elementsStash=n,this.stash0=e,this.stash1=n,this.count=r}}]),e}(f);t.exports=d},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(31),c=n(1),f={MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CLICK:"click",DBLCLICK:"dblclick",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGLEAVE:"dragleave",DRAGEND:"dragend",DROP:"drop",CONTEXTMENU:"contextmenu",MOUSEWHEEL:"mousewheel",KEYDOWN:"keydown",KEYUP:"keyup",KEYPRESS:"keypress"},h=[f.DBLCLICK,f.MOUSEDOWN,f.MOUSEUP,f.MOUSEENTER,f.MOUSELEAVE,f.MOUSEMOVE,f.CONTEXTMENU,f.MOUSEWHEEL],l=[f.KEYDOWN,f.KEYUP,f.KEYPRESS],d="canvas:",p=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._domEvents=[],n._initEventStates(),n._registerEvents(),n}return o(e,t),u(e,[{key:"_initEventStates",value:function(){this._pressing=!1,this._dragging=!1,this._currentEventObj=null,this._dragEventObj={}}},{key:"_registerEvents",value:function(){this._registerMouseEvents(),this._registerKeyboardEvents()}},{key:"_registerKeyboardEvents",value:function(){var t=this.graph,e=t.get("keyboardEventWrapper"),n=e?e:t.getMouseEventWarrper(),r=this._domEvents,i=t.get("keyboardEnable");c.each(l,function(e){r.push(c.addEventListener(n,e,function(n){var r=!0;c.isFunction(i)&&(r=i()),r&&t.emit(e,{domEvent:n})}))})}},{key:"_registerMouseEvents",value:function(){var t=this,e=this.graph,n=this,r=e.getMouseEventWarrper(),i=this._domEvents;c.each(h,function(e){i.push(c.addEventListener(r,e,function(e){var r=t._currentEventObj;t._oldEventObj=r,t._processEventObj(e);var i=t._currentEventObj;n._simulateEvents(e,r,i),[f.MOUSELEAVE,f.MOUSEENTER].indexOf(e.type)!==-1&&n._triggerEvent(d+e.type),n._triggerEvent(e.type),e.type===f.MOUSELEAVE&&(t._dragging&&n._triggerEvent(f.DRAGLEAVE,a({},i,{item:null,shape:null,currentItem:t._dragEventObj.item,currentShape:t._dragEventObj.shape})),n._initEventStates())}))})}},{key:"destroy",value:function(){var t=this._domEvents;c.each(t,function(t){t&&t.remove()}),this._domEvents=null}},{key:"_triggerEvent",value:function(t,e){if(e||(e="mouseleave"===t?this._oldEventObj:this._currentEventObj),
"mousedown"===t&&(e.button=this._button),e._type=t,this.emitGraphEvent(t,e),[d+f.MOUSELEAVE,d+f.MOUSEENTER].indexOf(t)===-1){var n=e.shape&&e.shape.eventPreFix;if([f.DRAGSTART,f.DRAG,f.DRAGEND].indexOf(t)!==-1&&(n=e.currentShape&&e.currentShape.eventPreFix),n){var r=n+":"+t;e._type=r,c.isBoolean(e._isItemChange)?e._isItemChange&&this.emitGraphEvent(r,e):this.emitGraphEvent(r,e)}}}},{key:"emitGraphEvent",value:function(t,e){var n=this.graph;n.emit(t,e)}},{key:"_simulateEvents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._dragEventObj.item,i=this._dragEventObj.shape;switch(t.type){case f.MOUSEDOWN:this._pressing=!0,this._button=t.button;break;case f.MOUSEMOVE:if(this._dragging){if(this._triggerEvent(f.DRAG,a({},n,{button:this._button,currentItem:r,currentShape:i})),e.shape!==n.shape){var o=this._isItemChange(e,n);e.shape&&this._triggerEvent(f.DRAGLEAVE,a({},n,{button:this._button,item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,currentItem:r,currentShape:i,_isItemChange:o})),n.shape&&this._triggerEvent(f.DRAGENTER,a({},n,{button:this._button,currentItem:r,currentShape:i,fromItem:e.item,fromShape:e.shape,_isItemChange:o}))}}else this._pressing&&(this._dragging=!0,this._dragEventObj=n,r=this._dragEventObj.item,i=this._dragEventObj.shape,this._triggerEvent(f.DRAGSTART,a({},n,{button:this._button,currentItem:r,currentShape:i})));if(e.shape!==n.shape){var u=this._isItemChange(e,n);e.shape&&this._triggerEvent(f.MOUSELEAVE,a({},n,{item:e.item,shape:e.shape,toItem:n.item,toShape:n.shape,_isItemChange:u})),n.shape&&this._triggerEvent(f.MOUSEENTER,a({},n,{fromtItem:e.item,fromShape:e.shape,_isItemChange:u}))}break;case f.MOUSEUP:!this._dragging&&this._pressing?this._triggerEvent(f.CLICK,a({},n,{button:this._button})):(this._triggerEvent(f.DROP,a({},n,{button:this._button,currentItem:r,currentShape:i})),this._triggerEvent(f.DRAGEND,a({},n,{button:this._button,currentItem:r,currentShape:i}))),this._pressing=!1,this._dragging=!1,this._dragEventObj={};break;default:return}}},{key:"_isItemChange",value:function(t,e){var n=t.shape,r=e.shape,i=n&&r&&(n.get("isItemChange")||r.get("isItemChange"));return i?i(r,n):c.isObject(t.item)&&c.isObject(e.item)?t.item.id!==e.item.id:t.item!==e.item}},{key:"_processEventObj",value:function(t){var e=this.graph,n=e.get("_canvas"),r=e.get("_frontCanvas"),i=this._getEventObj(t,n),o=this._getEventObj(t,r);o.shape&&(i.shape=o.shape,i.item=o.item),i.frontEvObj=o,this._currentEventObj=i}},{key:"_parsePoint",value:function(t,e){var n=this.graph;return n.getPointByCanvas({x:t,y:e})}},{key:"_getEventObj",value:function(t,e){var n=this.graph,r=t.clientX,i=t.clientY,o=e.getPointByClient(r,i),a=this._parsePoint(o.x,o.y),u=e.getShape(o.x,o.y),s=n.getItemByShape(u);return{item:s,shape:u,x:a.x,y:a.y,domX:t.offsetX,domY:t.offsetY,domEvent:t}}}]),e}(s);t.exports=p},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(31),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._init(),n}return o(e,t),a(e,[{key:"getDefaultCfg",value:function(){return{graph:null,auto:!0,processer:null}}}]),a(e,[{key:"_init",value:function(){var t=this,e=this.graph;e.on("afteritemdraw",function(t){var e=t.item,n=e.getKeyShape(),r=e.getModel();if(e.isEdge)r.lineWidth=n.attr("lineWidth");else if(e.isNode||e.isGroup){var i=e.getBBox();r.width=i.width,r.height=i.height}}),e.on("afterchange",function(){t.auto&&!e.destroyed&&t.layout()})}},{key:"changeLayout",value:function(t){this.processer=t,this.layout()}},{key:"layout",value:function(){var t=this.graph,e=this.processer,n=t.getNodes().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()}),r=t.getEdges().filter(function(t){return t.isVisible()}).map(function(t){return t.getModel()});t._executeLayout(e,n,r),t.updateNodePosition()}},{key:"getLayoutProcesser",value:function(){return this.processer}}]),e}(u);t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(31),s=n(1),c=["color","shape","size","label","style"],f=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._init(),n}return o(e,t),a(e,[{key:"_init",value:function(){var t=this,e={};s.each(c,function(n){e[n]={},t[n]=function(r){return e[n].input=r,t}}),this.channels=e}},{key:"addChannels",value:function(t){var e=this.channels;s.each(t,function(t,n){e[n].input=t})}},{key:"mapping",value:function(t){var e=this.channels;s.each(e,function(e,n){s.isNil(t[n])&&(s.isFunction(e.input)?t[n]=e.input(t):e.input&&(t[n]=e.input))})}}]),e}(u);t.exports=f},function(t,e,n){"use strict";var r=n(1),i=n(10),o=function(){};r.augment(o,{beforeDraw:function(){var t=this.get("context"),e=this.get("el");this.emit("beforedraw"),t&&t.clearRect(0,0,e.width,e.height)}}),r.mixin(i.Canvas,[o]),t.exports=o},function(t,e,n){"use strict";var r=n(10),i=n(1),o=function(){};i.augment(o,{findByClass:function(t){var e=[];return this.deepEach(function(n){n.hasClass(t)&&e.push(n)}),e},hasClass:function(t){var e=this.get("class");return!(!e||e.indexOf(t)===-1)},deepEach:function(t,e){i.traverseTree(this,t,function(t){return t.get("children")},e)},sort:function(){var t=this.get("children");this.set("children",i.radixSort(t,function(t){return t.get("zIndex")}))},sortBy:function(t){var e=this.get("children");this.set("children",i.radixSort(e,t))},clear:function(t){var e=this.get("children");for(t=t!==!1;0!==e.length;)e[e.length-1].remove(t);return this}}),i.mixin(r.Group,[o]),t.exports=o},function(t,e,n){"use strict";var r=n(1),i=n(10),o=function t(e){t.superclass.constructor.call(this,e)};r.extend(o,i.Shape),o.ATTRS={x:0,y:0,width:0,height:0},r.extend(o,i.Shape),r.augment(o,{canFill:!0,type:"html",__isPointInFill:function(t,e){var n=this.getBBox(),r=n.minX,i=n.minY,o=n.maxX-n.minX,a=n.maxY-n.minY;return r<=t&&t<=r+o&&i<=e&&e<=i+a},__initHtml:function(t){var e=this.get("attrs"),n=this.get("canvas"),i=n.get("htmlElementContaniner");e.html&&e.html.destroy&&e.html.destroy(),t=r.createDOM(t),t.css({position:"absolute",padding:"0px",margin:"0px",visibility:"hidden"}),e.html=t,i.appendChild(t)},isPointInPath:function(t,e){return this.__isPointInFill(t,e)},init:function(){var t=this.attr("html"),e=this.get("canvas");e.on("beforedraw",function(){t.css({visibility:"hidden"})}),this.__initHtml(t)},getDefaultAttrs:function(){return o.ATTRS},attr:function(t,e){var n=this.get("attrs");return r.isObject(t)?(t.html&&(this.__initHtml(t.html),delete t.html),r.mix(n,t),void 0===t.x&&void 0===t.y&&void 0===t.width&&void 0===t.height||this.calculateBox(),n):r.isNil(e)?n[t]:("html"===t?this.__initHtml(e):(n[t]=e,"x"!==t&&"y"!==t&&"width"!==t&&"height"!==t||this.calculateBox()),this)},calculateBox:function(){var t=this.attr("x"),e=this.attr("y"),n=this.attr("width"),r=this.attr("height");return{minX:t,minY:e,maxX:t+n,maxY:e+r}},getDrawTotalMatrix:function(){for(var t=this.get("canvas"),e=r.clone(this.attr("matrix")),n=this.getParent();n!==t;)r.mat3.multiply(e,n.attr("matrix"),e),n=n.getParent();return e},getDOM:function(){return this.attr("html")},applyTransform:function(){var t=this.attr("html"),e=this.getDrawTotalMatrix(),n=this.attr("x"),r=this.attr("y"),i=this.attr("width"),o=this.attr("height"),a=i/2,u=o/2,s=e[0]*n+e[6]+e[0]*a-a,c=e[4]*r+e[7]+e[4]*u-u;t.css({transform:"matrix("+e[0]+","+e[1]+","+e[3]+","+e[4]+","+s+","+c+")"})},createPath:function(){var t=this.attr("html"),e=this.get("attrs");this.applyTransform(),t.css(r.mix({visibility:"visible"},e))},remove:function(t){var e=this.attr("html");e.css({visibility:"hidden"}),o.superclass.remove.call(this,t)},destroy:function(){var t=this.attr("html");t&&t.destroy(),o.superclass.destroy.call(this)}}),i.Shape.Html=o,t.exports=o},function(t,e,n){"use strict";var r=n(10),i=n(1),o=function t(e){t.superclass.constructor.call(this,e)};i.extend(o,r.Group),i.augment(o,{drawInner:function(t){var e=this;this.deepEach(function(t){var n=t.get("freezePoint"),r=e.getMatrix()[0];t.isShape&&n&&t.get("visible")&&(t.initTransform(),t.transform([["t",-n.x,-n.y],["s",1/r,1/r],["t",n.x,n.y]]))}),o.superclass.drawInner.call(this,t)}}),t.exports=o},function(t,e,n){"use strict";var r=n(1),i=n(10),o=function(){};r.augment(o,{getAttrs:function(){var t=this,e=this.get("attrs"),n={};return r.each(e,function(e,r){n[r]=t.attr(r)}),n},hasClass:function(t){var e=this.get("class");return!(!e||e.indexOf(t)===-1)}}),r.mixin(i.Shape,[o]),t.exports=o},function(t,e){"use strict"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(1),c=n(52),f=function(t){function e(t){r(this,e);var n={type:"edge",isEdge:!0,zIndex:2};return s.mix(n,t),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),a(e,[{key:"_beforeDraw",value:function(){var t=this.model,n=this.itemMap;s.isObject(t.source)?this.source=t.source:this.source=n[t.source],s.isObject(t.target)?this.target=t.target:this.target=n[t.target],u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_beforeDraw",this).call(this)}},{key:"_afterDraw",value:function(){this.linkedItemVisible()||this.hide(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_afterDraw",this).call(this)}},{key:"_getControlPoints",value:function(){var t=this.model.controlPoints;return s.isArray(t)?t:[]}},{key:"layoutUpdate",value:function(){var t=this.getGraphicGroup(),e=t.get("children");if(1===e.length){var n=this.keyShape,r=this.shapeObj;n.attr("path",r.getPath(this))}this._afterDraw()}},{key:"linkedItemVisible",value:function(){var t=this.source,e=this.target;return s.isPlainObject(t)||s.isPlainObject(e)||t.isVisible()||e.isVisible()||t.collapsedParent!==e.collapsedParent}},{key:"_shouldDraw",value:function(){return u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_shouldDraw",this).call(this)&&this.linkedItemVisible()}},{key:"_getPoint",value:function(t){if(t.linkable){var e=t.getBBox();return{x:e.centerX,y:e.centerY}}return{x:t.x,y:t.y}}},{key:"getSource",value:function(){var t=this.source,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t}},{key:"getTarget",value:function(){var t=this.target,e=t.collapsedParent,n=this.itemMap;return e?n[e.id]:t}},{key:"getPoints",value:function(){var t=this.getSource(),e=this.getTarget(),n=this.model,r=this._getControlPoints(),i=this._getPoint(t),o=this._getPoint(e),a=[i].concat(r).concat([o]),u=a.length;if(t.linkable){var c=s.isNumber(this.model.sourceAnchor)&&t.id===n.source?this.model.sourceAnchor:a[1],f=t.getLinkPoints(c);a[0]=f[0]}if(e.linkable){var h=s.isNumber(this.model.targetAnchor)&&e.id===n.target?this.model.targetAnchor:a[u-2],l=e.getLinkPoints(h);a[u-1]=l[0]}return a}}]),e}(c);t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(1),c=n(69),f=function(t){function e(t){r(this,e);var n={type:"group",isNode:!1,isGroup:!0,zIndex:1};return s.mix(n,t),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),a(e,[{key:"_afterDraw",value:function(){var t=this.getModel();t.collapsed&&this.deepEach(function(t){t.hide()}),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_afterDraw",this).call(this)}},{key:"updatePosition",value:function(){}},{key:"_shouldDraw",value:function(){return!0}},{key:"getCrossEdges",value:function(){var t=[],e=this.getInnerEdges();this.deepEach(function(e){t.push(e.id)});var n=e.filter(function(e){var n=e.getModel();return t.indexOf(n.source)===-1||t.indexOf(n.target)===-1});return s.uniq(n)}},{key:"getInnerEdges",value:function(){var t=[];return this.deepEach(function(e){e.getEdges().forEach(function(e){t.push(e)})}),s.uniq(t)}},{key:"getChildrenBBox",value:function(){var t=this.getChildren(),e=t.map(function(t){return t.getGraphicGroup()});return s.getChildrenBBox(e)}}]),e}(c);t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(1),u=n(52),s=function(t){function e(t){r(this,e);var n={type:"guide",isGuide:!0,zIndex:4};return a.mix(n,t),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),e}(u);t.exports=s},function(t,e,n){"use strict";t.exports={Node:n(69),Edge:n(133),Group:n(134),Guide:n(135)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(33),u=n(32),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layout=a.compactBox,n}return o(e,t),e}(u);t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(33),u=n(32),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layout=a.dendrogram,n}return o(e,t),e}(u);t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(33),u=n(32),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layout=a.indented,n}return o(e,t),e}(u);t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(33),u=n(32),s=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.layout=a.mindmap,n}return o(e,t),e}(u);t.exports=s},function(t,e,n){"use strict";var r=n(1),i=n(123),o={};o.INIT="_initAnimate",o.CFG={animate:!1,forcePreventAnimate:!1,_enterAnimate:function(t){var e=t.getGraphicGroup(),n=e.getMatrix(),i=r.getBBox(e,n),o=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;r.scaleIn(e,o,a)},_leaveAnimate:function(t){var e=t.getGraphicGroup(),n=e.getMatrix(),i=r.getBBox(e,n),o=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;r.scaleOut(e,o,a)}},o.AUGMENT={_initAnimate:function(){var t=this,e=this.get("_controllers"),n=this.get("animate"),o=this.get("_canvas"),a=this.get("_frontCanvas"),u=void 0;n&&(u=new i({canvases:[o,a],graph:this}),e.animate=u);var s=function(){o.draw(),a.draw()},c=r.debounce(function(){u.run()},16);if(u){var f=void 0;this.draw=function(){var e=t.get("forcePreventAnimate");e?(f&&clearTimeout(f),f=setTimeout(function(){u.updateStash()},16),s()):c()}}else this.draw=s},drawFrontCanvas:function(){var t=this.get("_frontCanvas");t.draw()}},t.exports=o},function(t,e,n){"use strict";var r={},i=n(124);r.INIT="_initEvents",r.CFG={keyboardEnable:!0},r.AUGMENT={_initEvents:function(){var t=this.get("_controllers");t.events=new i({graph:this})}},t.exports=r},function(t,e,n){"use strict";var r=n(1),i={};i.INIT="_initFilter",i.CFG={filters:[]},i.AUGMENT={_initFilter:function(){var t=this,e=this.get("filters");r.isFunction(e)&&this.set("filters",[e]),this.on("afterchange",function(){!t.destroyed&&t.filter()})},addFilter:function(t){var e=this.get("filters");return e.push(t),t},removeFilter:function(t){var e=this.get("filters");this.set("filters",r.filter(e,t))},filter:function(){var t=this.get("filters"),e=this.getItems(),n=this.getItems();t.forEach(function(t){n=r.filter(n,t)}),e.forEach(function(t){n.indexOf(t)===-1&&t.hide()}),this.draw()}},t.exports=i},function(t,e,n){"use strict";var r=n(1),i={};i.CFG={fitView:void 0,fitViewPadding:10,minZoom:.2,maxZoom:10},i.AUGMENT={getBBox:function(){var t=this.get("_itemGroup");return t.getBBox()},getFitViewPadding:function(){return r.toAllPadding(this.get("fitViewPadding"))},setFitView:function(t){if(!t)return this;if("autoZoom"===t)return this.autoZoom(),this;var e=this.getFitViewPadding(),n=this.get("width"),i=this.get("height"),o=this.getBBox(),a=o.maxX-o.minX,u=o.maxY-o.minY,s={x:0,y:0,width:n,height:i},c=r.getNineBoxPosition(t,s,a,u,e),f=[1,0,0,0,1,0,0,0,1];r.mat3.translate(f,f,[-o.minX+c.x,-o.minY+c.y]),this.updateMatrix(f)},autoZoom:function(t){t||(t=this.getFitViewPadding());var e=[1,0,0,0,1,0,0,0,1],n=this.get("width"),i=this.get("height"),o=this.getBBox(),a=(o.maxX+o.minX)/2,u=(o.maxY+o.minY)/2,s=n-t[1]-t[3],c=i-t[0]-t[2],f=o.maxX-o.minX,h=o.maxY-o.minY,l=Math.min(c/h,s/f);l=this._getZoomRatio(l),r.mat3.translate(e,e,[-a,-u]),r.mat3.scale(e,e,[l,l]),r.mat3.translate(e,e,[n/2,i/2]),this.updateMatrix(e)},getZoom:function(){var t=this.getMatrix();return t[0]},_getZoomRatio:function(t){var e=this.get("maxZoom"),n=this.get("minZoom");return t<n&&(t=n),t>e&&(t=e),t},updateMatrix:function(t){var e=this.get("_rootGroup"),n=this.get("_frontRootGroup"),r={updateMatrix:t,originMatrix:this.getMatrix()};return this.emit("beforeviewportchange",r),e.setMatrix(t),n.setMatrix(t),this.emit("afterviewportchange",r),this.draw(),this},zoom:function(t,e){if(r.isNumber(t)){var n=this.get("width"),i=this.get("height");return void this.zoomByDom({x:n/2,y:i/2},t)}e=this._getZoomRatio(e);var o=this.get("_rootGroup"),a=r.clone(o.getMatrix()),u=a[6]+a[0]*t.x-e*t.x,s=a[7]+a[0]*t.y-e*t.y;return a[6]=0,a[7]=0,a[0]=e,a[4]=e,r.mat3.translate(a,a,[u,s]),this.updateMatrix(a),this},zoomByDom:function(t,e){var n=this.getPoint(t);return this.zoom(n,e),this},translate:function(t,e){var n=this.get("_rootGroup"),i=n.getMatrix();return r.mat3.translate(i,i,[t,e]),this.updateMatrix(i),this},translateByDom:function(t,e){var n=this.get("_rootGroup"),r=n.getMatrix(),i=r[0];return this.translate(t/i,e/i),this},getMatrix:function(){var t=this.get("_rootGroup");return t.getMatrix()},getPoint:function(t){return this.getPointByDom(t)},getPointByDom:function(t){var e=this.get("_rootGroup"),n=e.getMatrix();return r.invertMatrix(t,n)},getPointByCanvas:function(t){var e=this.get("_canvas"),n=e.get("pixelRatio");return this.getPoint({x:t.x/n,y:t.y/n})},getPointByClient:function(t){var e=this.get("_canvas"),n=e.getPointByClient(t.x,t.y);return this.getPointByCanvas(n)},getDomPoint:function(t){var e=this.get("_rootGroup"),n=e.getMatrix();return r.applyMatrix(t,n)},getCanvasPoint:function(t){var e=this.get("_canvas"),n=e.get("pixelRatio"),r=this.getDomPoint(t);return{x:r.x*n,y:r.y*n}},getClientPoint:function(t){var e=this.getCanvasPoint(t),n=this.get("_canvas"),r=n.getClientByPoint(e.x,e.y);return{x:r.clientX,y:r.clientY}},focus:function(t){if(r.isString(t)&&(t=this.find(t)),t){var e=t.getCenter();this.focusPoint(e)}return this},focusPoint:function(t){var e=this.get("_rootGroup"),n=e.getMatrix(),r=this.get("width"),i=this.get("height"),o=-n[6]+r/2-n[0]*t.x,a=-n[7]+i/2-n[0]*t.y;return this.translate(o,a),this},focusPointByDom:function(t){var e=this.getPoint(t);return this.focusPoint(e),this}},t.exports=i},function(t,e,n){"use strict";var r=n(1),i={};i.INIT="_initForceFit",i.AUGMENT={_initForceFit:function(){var t=this.get("width"),e=this.get("height");return t||e?t?e?void 0:(this.forceFit("height"),void this._bindForceEvent("height")):(this.forceFit("width"),void this._bindForceEvent("width")):(this.forceFit(),void this._bindForceEvent())},_bindForceEvent:function(t){var e=this,n=this._getTimer("forceFit"),r=function(){var r=setTimeout(function(){e.forceFit(t)},200);n&&clearTimeout(n),e._setTimer("forceFit",r)};window.addEventListener("resize",r),this.set("_windowForceResizeEvent",r)},forceFit:function(t){var e=this.get("_containerDOM"),n=this.get("width"),i=this.get("height"),o=r.getHeight(e),a=r.getWidth(e);return"width"===t?(this.changeSize(a,i),this):"height"===t?(this.changeSize(n,o),this):(this.changeSize(a,o),this)}},t.exports=i},function(t,e,n){"use strict";var r=n(1),i=n(125),o={};o.CFG={layout:void 0},o.INIT="_initLayout",o.AUGMENT={_initLayout:function(){var t=this.get("_controllers"),e=this._getLayoutCfg();e&&(t.layout=new i(r.mix({graph:this},e)))},_getLayoutCfg:function(){var t=this.get("layout");return r.isPlainObject(t)?t:r.isFunction(t)||r.isObject(t)?{processer:t}:null},layout:function(){return this._getController("layout").layout(),this},updateNodePosition:function(){var t=this.getItems(),e=this.getGroups(),n=this.getEdges();return t.forEach(function(t){t.layoutUpdate()}),e.forEach(function(t){t.layoutUpdate()}),n.forEach(function(t){t.layoutUpdate()}),this.draw(),this},changeLayout:function(t){return this._getController("layout").changeLayout(t),this},getLayout:function(){return this._getController("layout").getLayoutProcesser()}},t.exports=o},function(t,e,n){"use strict";var r=n(126),i={};i.INIT="_initMapper",i.AUGMENT={_initMapper:function(){var t=this.get("_controllers");t.nodeMapper=new r({graph:this}),t.edgeMapper=new r({graph:this}),t.groupMapper=new r({graph:this}),t.guideMapper=new r({graph:this})},node:function(t){var e=this._getController("nodeMapper");return t&&e.addChannels(t),e},edge:function(t){var e=this._getController("edgeMapper");return t&&e.addChannels(t),e},group:function(t){var e=this._getController("groupMapper");return t&&e.addChannels(t),this._getController("groupMapper")},guide:function(t){var e=this._getController("guideMapper");return t&&e.addChannels(t),this._getController("guideMapper")}},t.exports=i},function(t,e,n){"use strict";var r=n(1),i=n(68),o={};o.CFG={modes:null,mode:"default"},o.INIT="_initModes",o.AUGMENT={_initModes:function(){this._eventStash={};var t=this.get("modes"),e=this.get("mode");r.isEmpty(t)&&(t=r.cloneDeep(this.constructor.Modes),this.set("modes",t)),this.changeMode(e)},changeMode:function(t){var e=this.get("modes");r.isEmpty(e)||r.isEmpty(e[t])||(i.resetMode(e[t],this),this.set("mode",t))},addBehaviour:function(t){var e=this.get("modes"),n=this.get("mode");r.isEmpty(e[n])&&(e[n]=[]);var o=e[n],a=[].concat(t);return r.each(a,function(t){o.indexOf(t)===-1&&o.push(t)}),i.resetMode(e[n],this),this},removeBehaviour:function(t){var e=this.get("modes"),n=this.get("mode"),o=e[n];if(!r.isEmpty(o)){var a=[].concat(t);return o=o.filter(function(t){return a.indexOf(t)===-1}),i.resetMode(o,this),this}},behaviourOn:function(t,e){var n=this._eventStash;n[t]||(n[t]=[]),n[t].push(e),this.on(t,e)},_off:function(){var t=this,e=this._eventStash;r.each(e,function(e,n){r.each(e,function(e){t.off(n,e)})}),this._eventStash={}}},t.exports=o},function(t,e,n){"use strict";var r=n(1),i={};i.AUGMENT={find:function(t){var e=this.get("_itemMap");return e[t]},getNodes:function(){var t=this.get("_itemMap");return t._nodes},getEdges:function(){var t=this.get("_itemMap");return t._edges},getGroups:function(){var t=this.get("_itemMap");return t._groups},getGuides:function(){var t=this.get("_itemMap");return t._guides},getItems:function(){var t=this.get("_itemMap"),e=[];return r.each(t,function(t){t.type&&e.push(t)}),e},getItemByShape:function(t){return t?this.getItem(t.id):null},getItem:function(t){var e=this.get("_itemMap");return r.isObject(t)?t.destroyed&&(t=e[t.id]):t=e[t],t}},t.exports=i},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(21),o=n(1),a=n(26);i.registerEdge("common",{draw:function(t){var e=this.drawKeyShape(t);return e.isKeyShape=!0,this.drawLabel(t),e},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),i=this.getPath(t);return e.addShape("path",{attrs:r({},n,{path:i})})},getSize:function(t){var e=t.getModel();return e.size||1},getColor:function(t){var e=t.getModel();return e.color||"#A3B1BF"},getStyle:function(t){var e=t.getModel();return o.mix(!0,{},a.edgeStyle,{stroke:this.getColor(t),strokeOpacity:.92,lineWidth:this.getSize(t)},e.style)},getPath:function(t){var e=t.getPoints();return o.pointsToPolygon(e)},getLabel:function(t){var e=t.getModel();return e.label},drawLabel:function(t){var e=this.getLabel(t),n=t.getGraphicGroup(),i=t.getModel(),u=n.findBy(function(t){return t.isKeyShape});if(e){var s=u.getPoint(.5),c=o.mix(!0,{},a.labelStyle,s);o.isObject(e)?o.mix(c,e):c.text=e,e=n.addShape("text",{attrs:c});var f=o.toAllPadding([4,8]),h=e.getBBox(),l={fill:"white"},d=i.labelRectStyle?r({defaultStyle:l},i.labelRectStyle):l;n.addShape("rect",{attrs:r({},d,{x:h.minX-f[3],y:h.minY-f[0],width:h.maxX-h.minX+f[1]+f[3],height:h.maxY-h.minY+f[0]+f[2]})}),o.toFront(e)}}})},[395,150],function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(21),o=n(1),a=n(26);i.registerGroup("common",{draw:function(t){var e=t.getModel();return e.collapsed?this.drawCollapsed(t):this.drawExpanded(t)},getLabel:function(t){var e=t.getModel();return e.label},drawLabel:function(t,e,n){var r=this.getLabel(t);if(r){var i=t.getGraphicGroup(),u=[8,8],s=o.mix(!0,{},a.labelStyle,{x:e+u[0],y:n+u[1],textAlign:"left",textBaseline:"top"});o.isObject(r)?o.mix(s,r):s.text=r,i.addShape("text",{attrs:s})}},drawKeyShape:function(t,e,n,i,u){var s=t.getModel(),c=t.getGraphicGroup(),f=o.mix({},a.groupStyle,s.style),h=o.getRectPath(e,n,i,u,f.radius);return c.addShape("path",{attrs:r({},f,{path:h})})},drawExpanded:function(t){var e=t.getChildrenBBox(),n=e.minX-a.groupBackgroundPadding[3],r=e.minY-a.groupBackgroundPadding[0],i=e.maxX-e.minX+a.groupBackgroundPadding[3]+a.groupBackgroundPadding[1],o=e.maxY-e.minY+a.groupBackgroundPadding[0]+a.groupBackgroundPadding[2],u=this.drawKeyShape(t,n,r,i,o);return this.drawLabel(t,n,r),u},drawCollapsed:function(t){var e=t.getChildrenBBox(),n=e.minX-a.groupBackgroundPadding[3],r=e.minY-a.groupBackgroundPadding[0],i=184,o=40,u=this.drawKeyShape(t,n,r,i,o);return this.drawLabel(t,n,r),u}})},[395,152],function(t,e,n){"use strict";var r=n(21);r.registerGuide("common",{draw:function(){console.warn("do not have this guide, please register one")}})},[395,154],function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(21),o=n(1),a=n(26);i.registerNode("common",{draw:function(t){var e=t.getGraphicGroup(),n=this.drawLabel(t),r=this.drawKeyShape(t);return n&&o.toFront(n,e),r},getSize:function(t){
var e=t.getModel(),n=e.size;return o.isArray(n)?n:o.isNumber(n)?[n,n]:[a.defaultNodeSize,a.defaultNodeSize]},getStyle:function(t){var e=t.getModel(),n=this.getColor(t),r=o.Palettes.generate(n);return o.mix(!0,{},a.nodeStyle,{fill:r[4],fillOpacity:.92,stroke:r[6]},e.style)},getColor:function(t){var e=t.getModel();return e.color||"#1890FF"},getLabel:function(t){var e=t.getModel();return e.label},drawKeyShape:function(t){var e=t.getGraphicGroup(),n=this.getStyle(t),i=this.getPath(t);return e.addShape("path",{attrs:r({},n,{path:i})})},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t);if(!o.isNil(n)){var r=o.mix(!0,{},a.labelStyle,{x:0,y:0});return o.isObject(n)?o.mix(r,n):r.text=n,e.addShape("text",{class:"label",attrs:r})}},getPath:function(t){var e=this.getSize(t);return o.getEllipsePath(0,0,e[0]/2,e[1]/2)}})},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(21),o=n(1);i.registerNode("html",{getHtml:function(t){return t.getModel().html},cssSize:!0,draw:function(t){var e=o.createDOM('<div class="g6-html-node-container"></div>'),n=t.getGraphicGroup(),i=t.getModel(),a=this.getSize(t),u=this.getStyle(t),s=n.get("canvas"),c=s.get("htmlElementContaniner"),f=this.cssSize,h=this.getHtml(t);h=h?o.createDOM(h):o.createDOM("<div></div>"),e.css({position:"absolute",padding:"0px",margin:"0px",visibility:"hidden"}),e.appendChild(h),f&&(c.appendChild(e),a[0]=e.width(),a[1]=e.height());var l=-a[0]/2,d=-a[1]/2,p=a[0],g=a[1],v=n.addShape("rect",{attrs:r({},u,{x:l,y:d,width:p,height:g})});return n.addShape("html",{attrs:o.mix({x:l,y:d,width:p,height:g,html:e},i.style)}),v}})},function(t,e,n){"use strict";t.exports={common:n(156),html:n(157)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),c=n(67),f=n(71),h=function(t){function e(t){r(this,e);var n=a({layout:new f.CompactBoxTree({getHGap:function(){return 10},getVGap:function(){return 10}})},t);return i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n))}return o(e,t),u(e,[{key:"initEvent",value:function(){var t=this;this.on("afterdrawinner",function(){var e=t.get("_sourceData");e.roots.forEach(function(e){var n=t.find(e.id);t._setVisibleByCollapsed(n)})})}},{key:"_executeLayout",value:function(t){var e=this.get("_sourceData");s.isFunction(t)?t(e.roots,this):s.isObject(t)&&(t.roots=e.roots,t.graph=this,t.execute())}},{key:"parseSource",value:function(t){var e=t.roots,n=this.get("_dataMap"),r=[],i=[];return e.forEach(function(t){s.traverseTree(t,function(t,e){t.id||(t.id=s.guid()),e||(e=n[t.parent]),e&&(t.parent=e.id,e.id||(e.id=s.guid()),i.push({source:e.id,target:t.id,id:e.id+"-"+t.id})),r.push(t)},function(t){return t.children},!0)}),{nodes:r,edges:i}}},{key:"_setVisibleByCollapsed",value:function(t){var e=t.getModel();e.collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.collapsedParent&&(t.hide(),t.getEdges().forEach(function(t){t.hide()}))})}},{key:"source",value:function(t){var e=this.parseSource(t);this.emit("beforesource"),this.set("_sourceData",t),this.set("_data",e),this.emit("aftersource")}},{key:"setNodeNth",value:function(t,e){var n=t.getModel(),r=t.getParent(),i=r.getModel(),o=i.children;s.Array.remove(o,n),o.splice(e,0,n)}},{key:"getNth",value:function(t){var e=t.getModel(),n=t.getParent(),r=n.getModel();return r.children.indexOf(e)}},{key:"add",value:function(t,e){var n=this.get("_dataMap"),r=n[e.parent],i={action:"add",model:e},o=void 0;if("node"!==t&&"guide"!==t)return void console.warn("Tree do not support add type "+t+"!");if(this.emit("beforechange",i),"node"===t){if(!r)throw new Error("please set available parent Id !");s.isArray(r.children)?r.children.push(e):r.children=[e];var a=this.parseSource({roots:[e]});this.addItems("node",a.nodes),this.addItems("edge",a.edges),o=this.find(e.id),this._setVisibleByCollapsed(o),s.isNil(e.nth)||this.setNodeNth(o,e.nth),this.find(r.id).forceUpdate()}else this.addItems(t,[e]),o=this.find(e.id);return i.item=o,this.emit("afterchange",i),this.draw(),o}},{key:"update",value:function(t,e){var n=this;if(e){t=this.getItem(t);var r=t.getModel(),i=a({},r),o={action:"update",item:t,originModel:i,updateModel:e};if(e&&this.emit("beforechange",o),this.updateItem(t,e),t.isNode){if(e.parent){var u=this.find(i.id),c=u.getModel(),f=this.find(e.parent),h=f.getModel();s.Array.remove(c.children,r),h.push(r),this.find(h.id).forceUpdate()}s.isArray(e.children)&&(i.children&&s.each(i.children,function(t){var e=[n.find(t)];t.getEdges().forEach(function(t){e.push(t)}),n.removeItems(e)}),s.each(e.children,function(t){var e=n.parseSource({roots:[t]});n.addItems("node",e.nodes),n.addItems("edge",e.edges)})),"collapsed"in e&&(e.collapsed?t.deepEach(function(t){t.hide(),t.getEdges().forEach(function(t){t.hide()})}):t.deepEach(function(t){t.show(),t.getEdges(function(e){var n=e.getModel();return n.target===t.id}).forEach(function(t){t.show()})},function(t){return t.model.collapsed?null:t.getChildren()})),s.isNil(e.nth)||this.setNodeNth(t,e.nth);var l=this.find(r.parent);l&&l.forceUpdate()}return this.emit("afterchange",o),this.draw(),this}}},{key:"remove",value:function(t){var e=this.get("_dataMap"),n=[];if(t=this.getItem(t),t&&!t.destroyed){var r={action:"remove",item:t};if(this.emit("beforechange",r),n.push(t),t.getEdges().forEach(function(t){n.push(t)}),"node"===t.type){var i=t.getModel(),o=e[i.parent];t.deepEach(function(t){n.push(t),t.getEdges().forEach(function(t){n.push(t)})}),s.Array.remove(o.children,i),this.find(o.id).forceUpdate()}return this.removeItems(s.uniq(n)),this.emit("afterchange",r),this.draw(),this}}},{key:"getRoots",value:function(){var t=this,e=this.getSource();return e.roots.map(function(e){return t.find(e.id)})}},{key:"save",value:function(){var t={roots:s.cloneDeep(this.getSource().roots),guides:this.getGuides().map(function(t){return t.getModel()})};return 0===t.roots.length&&delete t.roots,0===t.guides.length&&delete t.guides,t}}]),e}(c);t.exports=h},function(t,e,n){"use strict";var r=n(26);t.exports={scaleIn:function(t,e,n,i,o){i=i?i:e,o=o?o:n,t.transform([["t",-i,-o],["s",.01,.01],["t",e,n]]),t&&!t.get("destroyed")&&t.animate({transform:[["t",-e,-n],["s",100,100],["t",i,o]]},r.enterDuration,r.enterEasing)},scaleOut:function(t,e,n,i,o){i=i?i:e,o=o?o:n,t&&!t.get("destroyed")&&t.animate({transform:[["t",-i,-o],["s",.01,.01],["t",e,n]]},r.leaveDuration,r.leaveEasing,function(){t.remove()})}}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(22),o=n(73),a=n(10),u=a.Canvas;t.exports={isNode:function(t){return t&&i.isObject(t)&&"node"===t.type},isEdge:function(t){return t&&i.isObject(t)&&"edge"===t.type},isGroup:function(t){return t&&i.isObject(t)&&"group"===t.type},graph2Canvas:function(t){t=r({graph:null,width:null,height:null,canvas:null,minMaxZoom:1/0,minMinZoom:0,pixelRatio:2,beforeTransform:function(){},afterTransform:function(){}},t);var e=t,n=e.graph,a=e.width,s=e.height,c=e.canvas,f=e.minMaxZoom,h=e.minMinZoom,l=e.pixelRatio,d=e.beforeTransform,p=e.afterTransform,g=n.getCanvas(),v=void 0;if(!c){var m=o.createDOM("<canvas></canvas>"),y=g.get("pixelRatio");v=l/y,g.scale(v,v),c=new u({containerDOM:m,width:a*v,height:s*v})}var x=c.get("context"),b=g.get("context"),_=n.get("width"),w=n.get("height"),S=i.cloneDeep(n.getMatrix()),M=n.get("maxZoom"),O=n.get("minZoom"),P=n._events;return n.set("maxZoom",f),n.set("minZoom",h),n.set("width",a),n.set("height",s),n._events=[],n.getItems().length>0&&(d(n),g.set("context",x),n.autoZoom(),c.matrix=i.cloneDeep(n.getMatrix())),g.beforeDraw(),g.constructor.superclass.draw.call(g,x),g.set("context",b),n.set("width",_),n.set("height",w),n.set("maxZoom",M),n.set("minZoom",O),n.updateMatrix(S),v&&(p(n),g.scale(1/v,1/v)),n._events=P,g.beforeDraw(),g.constructor.superclass.draw.call(g,b),c.get("el")}}},function(t,e,n){"use strict";var r=n(74),i=n(22),o=n(166),a={getNineBoxPosition:function(t,e,n,r,i){var o={};switch(t){case"tl":o.y=e.x+i[0],o.x=e.y+i[3];break;case"lc":o.y=(e.height-r)/2,o.x=i[3];break;case"bl":o.y=e.height-r-i[2],o.x=i[3];break;case"cc":o.y=(e.height-r)/2,o.x=(e.width-n)/2;break;case"tc":o.y=i[0],o.x=(e.width-n)/2;break;case"tr":o.y=i[0],o.x=e.width-n-i[1];break;case"rc":o.y=(e.height-r)/2,o.x=e.width-n-i[1];break;case"br":o.y=e.height-r-i[2],o.x=e.width-n-i[1];break;case"bc":o.y=e.height-r-i[2],o.x=(e.width-n)/2;break;default:o.y=e.x+i[0],o.x=e.y+i[3]}return o.x+=e.x,o.y+=e.y,o},getTotalBBox:function(t){var e=1/0,n=-(1/0),r=1/0,i=-(1/0);return t.forEach(function(t){t.minX<e&&(e=t.minX),t.maxX>n&&(n=t.maxX),t.minY<r&&(r=t.minY),t.maxY>i&&(i=t.maxY)}),{minX:e,minY:r,maxX:n,maxY:i,width:n-e,height:i-r}},getChildrenBBox:function(t){var e=1/0,n=-(1/0),r=1/0,o=-(1/0);i.each(t,function(t){var i=t.isGroup?a.getChildrenBBox(t.get("children")):t.getBBox();if(!i)return!0;var u=[i.minX,i.minY,1],s=[i.minX,i.maxY,1],c=[i.maxX,i.minY,1],f=[i.maxX,i.maxY,1];t.apply(u),t.apply(s),t.apply(c),t.apply(f);var h=Math.min(u[0],s[0],c[0],f[0]),l=Math.max(u[0],s[0],c[0],f[0]),d=Math.min(u[1],s[1],c[1],f[1]),p=Math.max(u[1],s[1],c[1],f[1]);h<e&&(e=h),l>n&&(n=l),d<r&&(r=d),p>o&&(o=p)});var u={minX:e,minY:r,maxX:n,maxY:o};return u.x=u.minX,u.y=u.minY,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY,u.centerX=(u.minX+u.maxX)/2,u.centerY=(u.minY+u.maxY)/2,u},getBBox:function(t,e){var n=t.getBBox(),i={x:n.minX,y:n.minY},o={x:n.maxX,y:n.maxY},a=void 0;if(e.isGroup){for(a=t;a!==e;){var u=a.getMatrix();i=r.applyMatrix(i,u),o=r.applyMatrix(o,u),a=a.getParent()}var s=a.getMatrix();i=r.applyMatrix(i,s),o=r.applyMatrix(o,s)}else i=r.applyMatrix(i,e),o=r.applyMatrix(o,e);return{minX:i.x,minY:i.y,maxX:o.x,maxY:o.y}},toBack:function(t,e){!e&&(e=t.getParent());var n=e.get("children");i.Array.remove(n,t),n.unshift(t)},toFront:function(t,e){!e&&(e=t.getParent());var n=e.get("children");i.Array.remove(n,t),n.push(t)},Palettes:o};t.exports=a},function(t,e,n){"use strict";var r=n(10),i=n(22),o={};i.mix(o,r.PathUtil,{getRectPath:r.PathUtil.rectPath,pointsToPolygon:function(t){for(var e=[["M",t[0].x,t[0].y]],n=1;n<t.length;n++){var r=t[n];e.push(["L",r.x,r.y])}return e},getEllipsePath:function(t,e,n,r){var i=[["M",t,e-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return i},pathTranslate:function(t,e,n){return n=n||0,t.map(function(t){var r=t[0];if("ACHLMRQSTVZ".indexOf(r)===-1)return t;var i=r.toLowerCase();return"v"===i?(t[1]+=n,t):"a"===i?(t[6]+=e,t[7]+=n,t):t.map(function(t,r){return r?r%2?t+e:t+n:t})})},pathScale:function(t,e,n){return n=n||0===n?n:e,t.map(function(t){var r=t[0].toLowerCase();return"v"===r?(t[1]*=n,t):"a"===r?(t[1]*=e,t[2]*=n,t[6]*=e,t[7]*=n,t):t.map(function(t,r){return r?t*=r%2?e:n:t})})}}),t.exports=o},function(t,e){"use strict";t.exports="2.0.0-beta.82"},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){var r=void 0;return r=Math.round(t.h)>=60&&Math.round(t.h)<=240?n?Math.round(t.h)-f*e:Math.round(t.h)+f*e:n?Math.round(t.h)+f*e:Math.round(t.h)-f*e,r<0?r+=360:r>=360&&(r-=360),r}function o(t,e,n){var r=void 0;return r=n?Math.round(100*t.s)-h*e:e===v?Math.round(100*t.s)+h:Math.round(100*t.s)+l*e,r>100&&(r=100),n&&e===g&&r>10&&(r=10),r<6&&(r=6),r}function a(t,e,n){return n?Math.round(100*t.v)+d*e:Math.round(100*t.v)-p*e}function u(t){for(var e=[],n=(0,c.default)(t),r=g;r>0;r-=1){var u=n.toHsv(),s=(0,c.default)({h:i(u,r,!0),s:o(u,r,!0),v:a(u,r,!0)}).toHexString();e.push(s)}e.push(n.toHexString());for(var f=1;f<=v;f+=1){var h=n.toHsv(),l=(0,c.default)({h:i(h,f),s:o(h,f),v:a(h,f)}).toHexString();e.push(l)}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var s=n(394),c=r(s),f=2,h=16,l=5,d=5,p=15,g=5,v=4},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.presetPrimaryColors=e.presetPalettes=e.generate=void 0;var i=n(165),o=r(i),a={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96"},u={};Object.keys(a).forEach(function(t){u[t]=(0,o.default)(a[t])}),e.generate=o.default,e.presetPalettes=u,e.presetPrimaryColors=a},function(t,e,n){"use strict";var r=n(53);r.registerCommand("collapseExpand",{getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.itemId?n.find(this.itemId):e.getSelected()[0]},enable:function(t){var e=this.getItem(t);return e&&e.collapseExpand!==!1&&e.getChildren().length>0},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t),i=r.getModel();i.collapsed?(n.update(r,{collapsed:!1}),this.toCollapsed=!1):(n.update(r,{collapsed:!0}),this.toCollapsed=!0),e.clearSelected(),e.setSelected(r,!0),1===this.executeTimes&&(this.itemId=r.id)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t);this.toCollapsed?n.update(r,{collapsed:!1}):n.update(r,{collapsed:!0}),e.clearSelected(),e.setSelected(r,!0)},shortcutCodes:[["metaKey","/"],["ctrlKey","/"]]}),r.registerCommand("collapse",{enable:function(t){var e=this.getItem(t);return e&&e.collapseExpand!==!1&&e.getChildren().length>0&&!e.getModel().collapsed}},"collapseExpand"),r.registerCommand("expand",{enable:function(t){var e=this.getItem(t);return e&&e.collapseExpand!==!1&&e.getChildren().length>0&&e.getModel().collapsed}},"collapseExpand")},function(t,e,n){"use strict";function r(t){var e=t.getCurrentPage();this.matrixCache=e.getMatrix().slice(0),this._zoom(t),e.updateStatus()}function i(t){var e=t.getCurrentPage();e.updateMatrix(this.matrixCache)}var o=n(53);o.registerCommand("zoomTo",{_zoom:function(t){var e=t.getCurrentPage();e.zoom(Number(this.zoom))},queue:!1,execute:r,back:i}),o.registerCommand("zoomIn",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return i<n||i===r},_zoom:function(t){var e=t.getCurrentPage(),n=t.get("_command"),r=e.getZoom(),i=e.getMaxZoom(),o=r+n.zoomDelta;o>=i&&(o=i),e.zoom(o)},queue:!1,execute:r,back:i,shortcutCodes:[["metaKey","="],["ctrlKey","="]]}),o.registerCommand("zoomOut",{enable:function(t){var e=t.getCurrentPage(),n=e.getMaxZoom(),r=e.getMinZoom(),i=e.getZoom();return i>r||i===n},_zoom:function(t){var e=t.getCurrentPage(),n=e.getZoom(),r=e.getMinZoom(),i=t.get("_command"),o=n-i.zoomDelta;o<=r&&(o=r),e.zoom(o)},queue:!1,execute:r,back:i,shortcutCodes:[["metaKey","-"],["ctrlKey","-"]]}),o.registerCommand("autoZoom",{enable:function(){return!0},_zoom:function(t){var e=t.getCurrentPage();e.autoZoom()},queue:!1,execute:r,back:i}),o.registerCommand("resetZoom",{enable:function(){return!0},_zoom:function(t){var e=t.getCurrentPage();e.resetZoom()},queue:!1,execute:r,back:i,shortcutCodes:[["metaKey","0"],["ctrlKey","0"]]})},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(12),s=n(17),c=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{type:"contextmenu",container:null}},e.prototype.init=function(){this._initContainer()},e.prototype._initContainer=function(){var t=this.container;if(!t)throw new Error("please set the container for the tontextmenu !");u.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");t.style.position="absolute",t.style["z-index"]=2,t.style.top="0px",t.style.left="0px",this.commands=e,this.containerDom=t},e.prototype.bindEvent=function(){var t=this,e=this.commands;u.each(e,function(e){u.addEventListener(e,"click",function(){e.className.indexOf("disable")===-1&&t.hide()})})},e.prototype.switch=function(t){var e=this.containerDom,n=e.getElementsByClassName("menu");u.each(n,function(e){var n=e.dataset;n.status===t?e.style.display="block":e.style.display="none"})},e.prototype.getCommandDoms=function(){return this.commands},e.prototype.show=function(){var t=this.containerDom,e=this.editor,n=e.getCurrentPage();n.setSignal("preventWheelPan",!0),t.style.display="block"},e.prototype.hide=function(){var t=this.containerDom,e=this.editor,n=e.getCurrentPage();n.setSignal("preventWheelPan",!1),t.style.display="none"},e.prototype.move=function(t,e){var n=this.containerDom,r=u.getBoundingClientRect(n),i=parseFloat(u.getStyle(n,"top")),o=parseFloat(u.getStyle(n,"left"));n.style.left=o+(t-r.left)+"px",n.style.top=i+(e-r.top)+"px"},e}(s);t.exports=c},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(12),s=n(17),c=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{type:"detailpannel",container:null}},e.prototype.init=function(){this._initContainer()},e.prototype._initContainer=function(){var t=this.container;if(!t)throw new Error("please set the container for the detailpannel !");u.isString(t)&&(t=document.getElementById(t)),this.containerDom=t,this.switch("canvas-selected")},e.prototype.switch=function(t){var e=this.containerDom,n=e.getElementsByClassName("pannel");u.each(n,function(e){var n=e.dataset;n.status===t?e.style.display="block":e.style.display="none"})},e.prototype.bindEvent=function(){var t=this.editor,e=this.getItems;u.each(e,function(e){u.addEventListener(e,"mousedown",function(){var n=e.dataset,r=t.getCurrentPage();r.beginAdd(n.type,{shape:n.shape})})}),u.addEventListener(window,"mouseup",function(){var e=t.getCurrentPage();e.cancelAdd()})},e}(s);t.exports=c},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(75),s=n(12),c=n(34),f=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{_components:[],_command:{zoomDelta:.1,queue:[],current:0,clipboard:[]}}},e.prototype._getComponentsBy=function(t){var e=this.get("_components");return e.filter(t)},e.prototype._bindCommands=function(t){var e=this;s.each(t,function(t){var n=t.dataset,r=n.command;c[r]?s.addEventListener(t,"click",function(){var t=e.getCurrentPage();t.focusGraphWarrper(),e.executeCommand(r,n)}):console.warn("\u8bf7\u8bbe\u7f6e\u6709\u6548\u7684\u547d\u4ee4\uff01")})},e.prototype.getCommands=function(){return this.get("_command").queue},e.prototype.getCurrentCommand=function(){var t=this.get("_command"),e=t.queue,n=t.current;return e[n-1]},e.prototype.executeCommand=function(t,e){s.isString(t)?c.execute(t,this,e):c.execute("common",this,{method:t},e)},e.prototype.commandEnable=function(t){return c.enable(t,this)},e.prototype.setCommandDOMenable=function(){var t=this,e=this.getComponentsByType("toolbar"),n=this.getComponentsByType("contextmenu"),r=[];e.forEach(function(t){s.each(t.getCommandDoms(),function(t){r.push(t)})}),n.forEach(function(t){s.each(t.getCommandDoms(),function(t){r.push(t)})}),s.each(r,function(e){var n=e.dataset,r=n.command;c.enable(r,t)?e.classList.remove("disable"):e.classList.add("disable")})},e.prototype._onPageStatusChange=function(){this.setCommandDOMenable()},e.prototype._beforeAddMinimap=function(t){var e=this.getComponentsByType("page");0!==e.length&&(e.forEach(function(e){t.bindPage(e)}),t.renderBackground())},e.prototype._afterAddContextmenu=function(){this.getCurrentPage()&&this.setCommandDOMenable()},e.prototype._afterAddPage=function(t){var e=this,n=this.getComponentsByType("minimap");this.setCommandDOMenable(),n.forEach(function(e){e.bindPage(t),e.renderBackground()}),t.on("statuschange",function(t){e._onPageStatusChange(t)}),t.on("mousedown",function(){var t=e.getComponentsByType("contextmenu");t.forEach(function(t){t.hide()})}),t.on("contextmenu",function(n){var r=e.getComponentsByType("contextmenu"),i=t.getGraph(),o=i.getCanvas(),a=o.get("el"),u=s.getBoundingClientRect(a),c={x:n.x,y:n.y},f=n.item;f&&!f.isSelected&&(t.clearSelected(),t.setSelected(n.item,!0)),e.set("contextmenuPoint",c),n.domEvent.preventDefault(),r.forEach(function(t){t.show(),t.contextmenuPoint=c,t.move(u.left+n.domX,u.top+n.domY)})}),t.on("statuschange",function(t){var n=e.getComponentsByType("contextmenu"),r=e.getComponentsByType("detailpannel");n.forEach(function(e){e.switch(t.status)}),r.forEach(function(e){e.switch(t.status)})}),this._bindShortcut(t)},e.prototype._beforeAddToolbar=function(t){var e=t.getCommandDoms();this._bindCommands(e)},e.prototype._beforeAddContextmenu=function(t){var e=t.getCommandDoms();t.bindEvent(),this._bindCommands(e)},e.prototype._beforeAddItempannel=function(t){t.bindEvent()},e.prototype.getComponentsByType=function(t){return this._getComponentsBy(function(e){return e.type===t})},e.prototype.getCurrentPage=function(){var t=this.getComponentsByType("page"),e=void 0;return t.every(function(t){return!t.isActived||(e=t,!1)}),e||(e=t[0]),e},e.prototype.getComponents=function(){return this.get("_components")},e.prototype._shortcutEnable=function(t,e){for(var n=t.shortcutCodes,r=s.getKeyboradKey(e),i=!1,o=0;o<n.length;o++){var a=n[o];if(s.isArray(a)){for(var u=a.length,c=!0,f=0;f<u-1;f++)if(!e[a[f]]){c=!1;break}a[u-1]!==r&&a[u-1]!==s.lowerFirst(r)||!c||(i=!0)}else a===r&&(i=!0);if(i)break}return i},e.prototype._bindShortcut=function(t){var e=this,n=t.get("shortcut"),r=t.getGraph();r.on("keydown",function(t){var r=e.getComponentsByType("contextmenu"),i=t.domEvent;r.forEach(function(t){t.hide()}),i.preventDefault();for(var o=c.list.filter(function(t){return t.shortcutCodes&&n[t.name]}),a=0;a<o.length;a++){var u=o[a];if(e._shortcutEnable(u,i))return e.executeCommand(u.name),!1}})},e.prototype.add=function(t){var e=this.get("_components"),n=s.upperFirst(t.type);t.editor=this,this["_beforeAdd"+n]&&this["_beforeAdd"+n](t),e.push(t),this["_afterAdd"+n]&&this["_afterAdd"+n](t)},e.prototype.destroy=function(){var t=this.get("_components");t.forEach(function(t){t.destroy()})},e}(u);t.exports=f},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(12),s=n(17),c=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{type:"itempannel",container:null}},e.prototype.init=function(){this._initContainer()},e.prototype._initContainer=function(){var t=this.container;if(!t)throw new Error("please set the container for the itempannel !");u.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("getItem");this.getItems=e,this.containerDom=t},e.prototype.bindEvent=function(){var t=this.editor,e=this.getItems;u.each(e,function(e){u.addEventListener(e,"mousedown",function(){var n=e.dataset,r=t.getCurrentPage();r.beginAdd(n.type,n)})}),u.addEventListener(window,"mouseup",function(){var e=t.getCurrentPage();e.cancelAdd()})},e}(s);t.exports=c},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(12),s=n(174),c=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.bindPage=function(t){var e=this,n=t.getGraph();n.on("afterchange",u.throttle(function(){e.renderBackground(n),e.renderViewPort(n)},32)),n.on("afterviewportchange",u.throttle(function(){e.renderViewPort(n)},16)),this.getGraph=function(){return t.editor.getCurrentPage().getGraph()}},e}(s);t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(14),a=n(12),u=o.G.Canvas,s=function(){function t(e){r(this,t),a.mix(this,i({type:"minimap",container:null,isMinimap:!0,backgroundStyle:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":0},minimapContainerStyle:{background:"#fff",position:"absolute",overflow:"hidden"},viewportStyle:{height:"100%",position:"absolute",margin:"auto",left:0,right:0,"z-index":1},controlLayerStyle:{width:"100%",height:"100%",cursor:"move",position:"absolute","z-index":2},viewportWindowStyle:{stroke:"#91D5FF"},viewportBackStyle:{fill:"#EBEEF2",fillOpacity:.65},getGraph:function(){}},e)),this._initContainer(),this._initMiniMap(),this._bindEvent()}return t.prototype._bindEvent=function(){function t(){r=!1,o=void 0,s=void 0,i=void 0,u=void 0,c=void 0}var e=this,n=this.controlLayer,r=!1,i=void 0,o=void 0,u=void 0,s=void 0,c=void 0;n.on("mousedown",function(t){e.miniMapMatrix&&(c=e.getGraph(),r=!0,i=a.cloneDeep(c.getMatrix()),o=e.miniMapMatrix[0],u=i[0],s={clientX:t.clientX,clientY:t.clientY})}),n.on("mouseup",function(){t()}),n.on("mouseleave",function(){t()}),n.on("mousemove",function(t){if(r&&c){var e=s.clientX-t.clientX,n=s.clientY-t.clientY,f=a.cloneDeep(i);a.mat3.translate(f,f,[u*e/o,u*n/o]),c.updateMatrix(f)}})},t.prototype._initMiniMap=function(){var t=this.background,e=this.viewPort,n=this.width,r=this.height,o=this.viewportWindowStyle,a=this.viewportBackStyle,s=new u({containerDOM:t,width:n,height:r}),c=new u({containerDOM:e,width:n,height:r}),f=c.addShape("rect",{attrs:i({x:0,y:0,width:n,height:r},o)}),h=c.addShape("path",{attrs:i({path:"M0,0 L1,1"},a)});t.css({width:n+"px",height:r+"px"}),e.css({position:"absolute"}),this.miniMapCanvas=s,this.viewportCanvas=c,this.viewportWindow=f,this.viewportBack=h},t.prototype._initContainer=function(){var t=this.container,e=this.width,n=this.height;if(!t)throw new Error("please set the container for the minimap !");a.isString(t)&&(t=document.getElementById(t)),e||(e=a.getWidth(t)),n||(n=a.getHeight(t));var r=this.minimapContainerStyle,i=this.backgroundStyle,o=this.viewportStyle,u=this.controlLayerStyle,s=a.createDOM('<div class="g6-editor-minimap-container"></div>',r),c=a.createDOM('<div class="g6-editor-minimap-background"></div>',i),f=a.createDOM('<div class="g6-editor-minimap-viewport">',o),h=a.createDOM('<div class="g6-editor-minimap-control-layer">',u);t.appendChild(s),s.appendChild(h),s.appendChild(f),s.appendChild(c),this.minimapContainer=s,this.background=c,this.viewPort=f,this.controlLayer=h},t.prototype.renderBackground=function(t){t||(t=this.getGraph());var e=this.miniMapCanvas,n=this.width,r=this.height;a.graph2Canvas({graph:t,width:n,height:r,canvas:e}),this.miniMapMatrix=e.matrix},t.prototype.renderViewPort=function(t){if(0!==t.getItems().length){var e=this.viewportWindow,n=this.viewportCanvas,r=this.viewportBack,i=this.miniMapMatrix,o=t.getWidth(),u=t.getHeight(),s=this.width,c=this.height,f=t.getMatrix();if(i){var h=a.invertMatrix({x:0,y:0},f),l=a.invertMatrix({x:o,y:u},f),d=a.applyMatrix(h,i),p=a.applyMatrix(l,i),g=p.x-d.x,v=p.y-d.y;r.attr({path:[["M",0,0],["L",s,0],["L",s,c],["L",0,c],["L",0,0],["M",d.x,d.y],["L",d.x,p.y],["L",p.x,p.y],["L",p.x,d.y],["L",d.x,d.y]]}),e.attr({x:d.x,y:d.y,width:g,height:v}),n.draw()}}},t.prototype.destroy=function(){this.minimapContainer.destroy()},t}();t.exports=s},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickCanvasSelected",function(t){var e=t.getGraph();e.behaviourOn("click",function(e){e.shape||(t.clearSelected(),t.clearActived(),t.updateStatus())}),e.behaviourOn("contextmenu",function(e){e.shape||(t.clearSelected(),t.clearActived(),t.updateStatus())})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickCollapsedButton",function(t){var e=t.getGraph();e.behaviourOn("click",function(n){var r=n.item,i=n.shape;if(r&&i&&i.isCollapsedButton){
var o=t.editor;o?o.executeCommand("collapseExpand",{itemId:r.id}):e.update(r,{collapsed:!0})}})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickEdgeSelected",function(t){var e=t.getGraph();e.behaviourOn("edge:click",function(e){var n=t.get("multiSelectable");n&&t.getSignal("shiftKeyDown")===!0?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickExpandedButton",function(t){var e=t.getGraph();e.behaviourOn("click",function(n){var r=n.item,i=n.shape;if(r&&i&&i.isExpandedButton){var o=t.editor;o?o.executeCommand("collapseExpand",{itemId:r.id}):e.update(r,{collapsed:!1})}})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickGroupSelected",function(t){var e=t.getGraph();e.behaviourOn("group:click",function(e){var n=t.get("multiSelectable");n&&t.getSignal("shiftKeyDown")===!0?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("clickNodeSelected",function(t){var e=t.getGraph();e.behaviourOn("node:click",function(e){var n=t.get("multiSelectable");n&&t.getSignal("shiftKeyDown")===!0?t.setSelected(e.item.id,!0):(t.clearActived(),t.clearSelected(),t.setSelected(e.item.id,!0))})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("dblclickItemEditLabel",function(t){var e=t.getGraph();e.behaviourOn("node:dblclick",function(e){e.shape&&!e.shape.isButton&&t.beginEditLabel(e.item)})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("endPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas(),r=e.getFrontRootGroup();e.behaviourOn("panitemend",function(){var e=t.get("panItemDelegation");e&&(e.remove(),n.draw()),r.set("capture",!0),t.setSignal("panningItem",!1),t.set("panItemDelegation",void 0),t.set("panItemStartPoint",void 0),t.set("panItemStartBox",void 0),t.set("panItems",void 0)}),e.behaviourOn("canvas:mouseleave",function(){var n=t.get("panItems");n&&(t.clearAlignLine(),e.emit("panitemend"))})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("hoverButton",function(t){var e=t.getGraph();e.behaviourOn("mouseenter",function(e){t.getSignal("panningItem")||e.shape&&e.shape.isButton&&t.css({cursor:"pointer"})})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("hoverEdgeActived",function(t){var e=t.getGraph();e.behaviourOn("edge:mouseenter",function(e){t.getSignal("panningItem")||e.item&&e.item.isSelected||t.setActived(e.item,!0)}),e.behaviourOn("edge:mouseleave",function(e){t.setActived(e.item,!1)})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("hoverGroupActived",function(t){var e=t.getGraph();e.behaviourOn("mouseenter",function(e){t.getSignal("panningItem")||e.item&&e.item.isSelected||e.shape&&e.shape.isGroupKeyShape&&(t.css({cursor:"move"}),t.setActived(e.item,!0))}),e.behaviourOn("group:mouseleave",function(e){e.item.isActived&&!e.item.isSelected&&t.setActived(e.item,!1)})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("hoverNodeActived",function(t){function e(){r=void 0}var n=t.getGraph(),r=void 0;n.behaviourOn("node:mouseenter",function(e){var n=e.item,i=n.getShapeObj();i.panAble!==!1&&t.css({cursor:"move"}),t.getSignal("panningItem")||e.item&&e.item.isSelected||(r=e.item,t.setActived(r,!0))}),n.behaviourOn("node:mouseleave",function(n){var i=n.toShape;r&&(i&&i.isAnchor&&i.getItem()===r||(r.isSelected||t.setActived(r,!1),e()))})})},function(t,e,n){"use strict";n(188),n(183),n(189),n(192),n(190),n(191),n(182),n(181),n(175),n(176),n(177),n(178),n(179),n(180),n(186),n(185),n(184)},function(t,e,n){"use strict";var r=n(3),i=n(7);r.registerBehaviour("panBlank",i.getPanCanvasBehaviour(!0))},function(t,e,n){"use strict";var r=n(3),i=n(7);r.registerBehaviour("panCanvas",i.getPanCanvasBehaviour())},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("processPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas();e.behaviourOn("mousemove",function(r){var i=t.get("panItemDelegation");if(i){var o=t.get("panItemStartPoint"),a=t.get("panItemStartBox"),u=r.x-o.x,s=r.y-o.y,c=t.align({x:a.minX+u,y:a.minY+s},{width:a.width,height:a.height});i.attr({x:c.x,y:c.y}),e.emit("itempanning",r),n.draw()}})})},function(t,e,n){"use strict";var r=n(3);r.registerBehaviour("startPanItem",function(t){var e=t.getGraph(),n=e.getFrontCanvas(),r=e.getFrontRootGroup();e.behaviourOn("dragstart",function(i){if(2!==i.button&&i.item&&(i.item.isNode||i.item.isGroup)){var o=i.item,a=void 0;if(a=o.isSelected?t.getSelected():[o],a=a.filter(function(t){return t.isNode||t.isGroup}),a[0]&&a[0].dragable!==!1){e.emit("beforeshowdelegation");var u=t.getDelegation(a,r),s=u.getBBox();t.setSignal("panningItem",!0),t.set("panItems",a),t.set("panItemDelegation",u),t.set("panItemStartBox",s),t.set("panItemStartPoint",{x:i.x,y:i.y}),r.set("capture",!1),n.draw()}}})})},function(t,e,n){"use strict";var r=n(3),i=n(35),o=n(7);r.registerBehaviour("wheelPanCanvas",function(t){function e(e){if(!t.getSignal("preventWheelPan")){var a=e.domEvent,u=t.getSignal("wheelZoom");if(r||t.setCapture(!1),u){var s=a.wheelDelta,c=1.05;if(Math.abs(s)>10){var f=n.getMatrix()[0];s>0?n.zoom({x:e.x,y:e.y},f*c):n.zoom({x:e.x,y:e.y},f*(1/c))}}else{var h=[],l=n.getMatrix();o.mat3.translate(h,l,[a.wheelDeltaX*i.wheelPanRatio,a.wheelDeltaY*i.wheelPanRatio]),t.translateLimt(h)&&n.updateMatrix(h)}r&&clearTimeout(r),r=setTimeout(function(){t.setCapture(!0),r=void 0},50)}}var n=t.getGraph(),r=void 0;n.behaviourOn("mousewheel",function(t){var e=t.domEvent;e.preventDefault()}),n.behaviourOn("mousewheel",o.throttle(e,16))})},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}function u(t,e){return{line:t,point:e,dis:f.pointLineDistance(t[0],t[1],t[2],t[3],e.x,e.y)}}var s=n(17),c=n(35),f=n(7),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{line:c.alignLineStyle,item:!0,grid:!1,tolerance:5,_horizontalLines:{},_verticalLines:{},_alignLines:[]}},e.prototype.init=function(){this.item&&this._cacheBoxLine()},e.prototype._cacheBoxLine=function(){var t=this.graph,e=this._horizontalLines,n=this._verticalLines,r=this.item;t.on("afteritemdraw",function(t){var i=t.item;if(!f.isEdge(i)){var o=i.getBBox();r===!0||"horizontal"===r?(e[i.id+"tltr"]=[o.minX,o.minY,o.maxX,o.minY,i],e[i.id+"lcrc"]=[o.minX,o.centerY,o.maxX,o.centerY,i],e[i.id+"blbr"]=[o.minX,o.maxY,o.maxX,o.maxY,i]):"center"===r&&(e[i.id+"lcrc"]=[o.minX,o.centerY,o.maxX,o.centerY,i]),r===!0||"vertical"===r?(n[i.id+"tlbl"]=[o.minX,o.minY,o.minX,o.maxY,i],n[i.id+"tcbc"]=[o.centerX,o.minY,o.centerX,o.maxY,i],n[i.id+"trbr"]=[o.maxX,o.minY,o.maxX,o.maxY,i]):"center"===r&&(n[i.id+"tcbc"]=[o.centerX,o.minY,o.centerX,o.maxY,i])}}),t.on("beforeitemdestroy",function(t){var r=t.item;delete e[r.id+"tltr"],delete e[r.id+"lcrc"],delete e[r.id+"blbr"],delete n[r.id+"tlbl"],delete n[r.id+"tcbc"],delete n[r.id+"trbr"]})},e.prototype.align=function(t,e){var n=f.mix({},t),r=this.flow,i=r.getController("grid");return this.grid&&i&&i.visible&&this._gridAlign(t,e),this.item&&this._itemAlign(t,e,n),t},e.prototype._gridAlign=function(t,e){var n=this.flow,r=this.grid,i=n.getGridCell();if("cc"===r){var o=Math.round((t.x+e.width/2)/i)*i,a=Math.round((t.y+e.height/2)/i)*i;t.x=o-e.width/2,t.y=a-e.height/2}else t.x=Math.round(t.x/i)*i,t.y=Math.round(t.y/i)*i},e.prototype._itemAlign=function(t,e,n){var r=this._horizontalLines,i=this._verticalLines,o=this.tolerance,a={x:n.x+e.width/2,y:n.y},s={x:n.x+e.width/2,y:n.y+e.height/2},c={x:n.x+e.width/2,y:n.y+e.height},h={x:n.x,y:n.y+e.height/2},l={x:n.x+e.width,y:n.y+e.height/2},d=[],p=[],g=null;if(this.clearAlignLine(),f.each(r,function(t){t[4].isVisible()&&(d.push(u(t,a)),d.push(u(t,s)),d.push(u(t,c)))}),f.each(i,function(t){t[4].isVisible()&&(p.push(u(t,h)),p.push(u(t,s)),p.push(u(t,l)))}),d.sort(function(t,e){return t.dis-e.dis}),p.sort(function(t,e){return t.dis-e.dis}),0!==d.length&&d[0].dis<o){t.y=d[0].line[1]-d[0].point.y+n.y,g={type:"item",horizontals:[d[0]]};for(var v=1;v<3;v++)d[0].dis===d[v].dis&&g.horizontals.push(d[v])}if(0!==p.length&&p[0].dis<o){t.x=p[0].line[0]-p[0].point.x+n.x,g?g.verticals=[p[0]]:g={type:"item",verticals:[p[0]]};for(var m=1;m<3;m++)p[0].dis===p[m].dis&&g.verticals.push(p[m])}g&&(g.bbox=e,this._addAlignLine(g))},e.prototype.clearAlignLine=function(){var t=this._alignLines;f.each(t,function(t){t.remove()}),this._alignLines=[]},e.prototype._addAlignLine=function(t){var e=t.bbox,n=this.graph,r=n.getFrontRootGroup(),i=this.line,o=this._alignLines;"item"===t.type&&(t.horizontals&&f.each(t.horizontals,function(t){var n=t.line,a=t.point,u=(n[0]+n[2])/2,s=void 0,c=void 0;a.x<u?(s=a.x-e.width/2,c=Math.max(n[0],n[2])):(s=a.x+e.width/2,c=Math.min(n[0],n[2]));var h=r.addShape("line",{attrs:f.mix({x1:s,y1:n[1],x2:c,y2:n[1]},i),capture:!1});o.push(h)}),t.verticals&&f.each(t.verticals,function(t){var n=t.line,a=t.point,u=(n[1]+n[3])/2,s=void 0,c=void 0;a.y<u?(s=a.y-e.height/2,c=Math.max(n[1],n[3])):(s=a.y+e.height/2,c=Math.min(n[1],n[3]));var h=r.addShape("line",{attrs:f.mix({x1:n[0],y1:s,x2:n[0],y2:c},i),capture:!1});o.push(h)}))},e}(s);t.exports=h},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(17),s=n(35),c=n(7),f=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{cell:16,line:s.gridStyle,type:"point",visible:!0}},e.prototype.init=function(){this._draw(),this._onViewPortChange(),!this.visible&&this.hide()},e.prototype._onViewPortChange=function(){var t=this,e=this.graph;e.on("afterviewportchange",function(){t.update()}),e.on("beforechangesize",function(){t.update()})},e.prototype._draw=function(){var t=this.graph,e=this._getPath(),n=t.getRootGroup(),r=c.mix({},this.line),i=t.getMatrix(),o=this.type,a="line"===o?1/i[0]:2/i[0];"point"===o&&(r.lineDash=null),r.lineWidth=a,r.path=e;var u=n.addShape("path",{attrs:r,capture:!1,zIndex:0});c.toBack(u,n),this.gridEl=u},e.prototype.show=function(){this.gridEl.show(),this.visible=!0},e.prototype.hide=function(){this.gridEl.hide(),this.visible=!1},e.prototype._getLinePath=function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=t.getPoint({x:e,y:n}),o=this.cell,a=Math.ceil(r.x/o)*o,u=Math.ceil(r.y/o)*o,s=[],c=0;c<=i.x-r.x;c+=o){var f=a+c;s.push(["M",f,r.y]),s.push(["L",f,i.y])}for(var h=0;h<=i.y-r.y;h+=o){var l=u+h;s.push(["M",r.x,l]),s.push(["L",i.x,l])}return s},e.prototype._getPointPath=function(){for(var t=this.graph,e=t.get("width"),n=t.get("height"),r=t.getPoint({x:0,y:0}),i=t.getMatrix(),o=2/i[0],a=t.getPoint({x:e,y:n}),u=this.getCell(),s=Math.ceil(r.x/u)*u,c=Math.ceil(r.y/u)*u,f=[],h=0;h<=a.x-r.x;h+=u)for(var l=s+h,d=0;d<=a.y-r.y;d+=u){var p=c+d;f.push(["M",l,p]),f.push(["L",l+o,p])}return f},e.prototype.getCell=function(){var t=this.cell,e=this.graph,n=e.getMatrix(),r=n[0];return t*r<9.6?9.6/r:t},e.prototype._getPath=function(){var t=this.type;return this["_get"+c.upperFirst(t)+"Path"]()},e.prototype.update=function(t){c.mix(this,t);var e=this._getPath(),n=this.gridEl,r=this.graph,i=r.getMatrix(),o=this.type,a="line"===o?1/i[0]:2/i[0];n.attr("lineWidth",a),n.attr("path",e)},e.prototype.destroy=function(){var t=this.gridEl;t&&t.remove()},e}(u);t.exports=f},function(t,e,n){"use strict";var r=n(7),i={};i.CFG={activeable:!0,_activedCache:{}},i.INIT="_initActived",i.AUGMENT={_initActived:function(){var t=this,e=this.get("_graph");e.on("afteritemdraw",function(e){e.item.isActived&&t.setActived(e.item,!0)}),e.on("beforeitemdestroy",function(e){t.clearActived(e.item)})},setItemActived:function(t){var e=this.get("_graph"),n=e.getShapeObj(t),r=this.get("_activedCache"),i=n.getActivedStyle(t),o=t.getKeyShape();r[t.id]=t,i&&o.attr(i),t.isEdge&&(o.startArrow&&o.startArrow.attr({fill:i.stroke}),o.endArrow&&o.endArrow.attr({fill:i.stroke}))},clearItemActived:function(t){var e=this.get("_graph"),n=t.getKeyShape(),i=e.getShapeObj(t),o=n.get("attrs"),a=this.get("_activedCache"),u=i.getActivedStyle(t),s=r.getContrast(o,u);n.attr(s),t.isEdge&&(n.startArrow&&n.startArrow.attr({fill:s.stroke}),n.endArrow&&n.endArrow.attr({fill:s.stroke})),delete a[t.id]},setActived:function(t,e){var n=this,i=this.get("activeable"),o=this.get("_graph");if(i){var a=void 0;a=r.isArray(t)?t:[t],r.each(a,function(t){r.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e&&t.isActived||(e||t.isActived)&&(e?(n.emit("beforeitemactived",{item:t}),n.setItemActived(t),n.emit("afteritemactived",{item:t})):(n.emit("beforeitemunactived",{item:t}),n.clearItemActived(t),n.emit("afteritemunactived",{item:t})),t.isActived=e))}),o.draw()}},getActived:function(){var t=this.get("_activedCache");return r.objectToValues(t)},clearActived:function(){var t=this,e=this.get("_graph"),n=e.getFrontCanvas(),i=this.get("_activedCache");r.each(i,function(e){e.isActived&&t.setActived(e,!1)}),n.draw()}},t.exports=i},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(193),o={};o.CFG={align:{}},o.INIT="_initAlign",o.AUGMENT={_initAlign:function(){var t=this.get("align"),e=this.get("_graph"),n=new i(r({flow:this,graph:e},t));this.setController("align",n)},align:function(t,e,n){var r=this.getController("align");return r.align(t,e,n)},clearAlignLine:function(){var t=this.getController("align");return t.clearAlignLine()}},t.exports=o},function(t,e,n){"use strict";var r=n(7),i={};i.CFG={labelEditable:!1},i.INIT="_initLabelEditor",i.AUGMENT={_initLabelEditor:function(){var t=this,e=this.get("labelEditable");if(e){var n=this.getGraph(),i=r.createDOM('<div contenteditable="true" role="textbox" tabindex="1" class="g6-label-editor"></div>',{position:"absolute",visibility:"hidden","z-index":"2",padding:"0px 2px 0px 0px",resize:"none",width:"auto",height:"auto",outline:"none",border:"1px solid #1890FF","transform-origin":"left top","max-width":"320px",background:"white","box-sizing":"content-box"}),o=n.getGraphContainer();o.appendChild(i),i.on("blur",function(e){e.stopPropagation(),n.getFrontCanvas().get("el")&&t.endEditLabel()}),i.on("keydown",function(e){e.stopPropagation();var n=r.getKeyboradKey(e);(e.metaKey&&"s"===n||e.ctrlKey&&"s"===n)&&e.preventDefault(),"Enter"!==n&&"Escape"!==n||t.endEditLabel()}),this.set("labelTextArea",i),n.on("beforeviewportchange",function(){i.focusItem&&t.setLabelEditorBeginPosition(i.focusItem)})}},_getLabelTextAreaBox:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0];e&&t.attr("text",e);var i=this.getGraph(),o=i.getRootGroup(),a=r.getBBox(t,o);return{minX:a.minX-n[1],minY:a.minY-n[0],maxX:a.maxX+n[1],maxY:a.maxY+n[0]}},setLabelEditorBeginPosition:function(t){var e=this.get("labelTextArea"),n=t.getLabel();if(n){var i=this._getLabelTextAreaBox(n),o=n.attr("lineHeight"),a=n.attr("fontSize"),u={x:i.minX,y:i.minY-o/4+a/4-1,width:i.maxX-i.minX,height:i.maxY-i.minY};e.css({top:u.y+"px",left:u.x+"px"}),e.labelPoint=u}else{var s=this.getGraph(),c=s.getRootGroup(),f=t.getKeyShape(),h=r.getBBox(f,c),l={x:h.minY+(h.maxY-h.minY-e.height())/2,y:(h.minX+h.maxX)/2};e.css({top:l.x+"px",left:l.y+"px"}),e.labelPoint=l}},beginEditLabel:function(t){var e=this.get("labelTextArea"),n=this.getGraph();if(r.isString(t)&&(t=n.find(t)),t&&!t.destroyed&&e){this.setSignal("preventWheelPan",!0);var i=t.getModel(),o=t.getLabel(),a=n.getZoom();if(e.focusItem=t,o){var u=o.attr("lineHeight"),s=this._getLabelTextAreaBox(o),c=(s.maxX-s.minX)/a,f=(s.maxY-s.minY+u/4)/a;e.innerHTML=i.label,e.innerHTML=i.label,e.css({"min-width":c+"px","min-height":f+"px",visibility:"visible","font-family":o.attr("fontFamily"),"line-height":u+"px","font-size":o.attr("fontSize")+"px",transform:"scale("+a+")"})}else e.innerHTML="",e.css({"min-width":"auto","min-height":"auto"});this.setLabelEditorBeginPosition(t),e.css({visibility:"visible"}),e.focus(),document.execCommand("selectAll",!1,null)}},endEditLabel:function(){var t=this.get("labelTextArea");if(this.setSignal("preventWheelPan",!1),t){var e=t.focusItem;if(e){var n=e.getModel();n.label!==t.textContent&&this.executeCommand("update",{itemId:e.id,updateModel:{label:t.textContent}}),t.hide(),t.focusItem=void 0,this.focusGraphWarrper()}}}},t.exports=i},function(t,e){"use strict";function n(t,e,n){t.on(n,function(t){e.emit(n,t)}),t.on("node:"+n,function(t){e.emit("node:"+n,t)}),t.on("edge:"+n,function(t){e.emit("edge:"+n,t)}),t.on("group:"+n,function(t){e.emit("group:"+n,t)}),t.on("anchor:"+n,function(t){e.emit("anchor:"+n,t)})}var r={};r.INIT="_initEvent",r.AUGMENT={_initEvent:function(){var t=this,e=this.get("_graph");n(e,this,"click"),n(e,this,"dblclick"),n(e,this,"mouseenter"),n(e,this,"mouseleave"),n(e,this,"mousedown"),n(e,this,"mouseup"),n(e,this,"contextmenu"),e.on("keydown",function(e){t.emit("keydown",e)}),e.on("keyup",function(e){t.emit("keyup",e)}),e.on("beforechange",function(e){t.emit("beforechange",e)}),e.on("afterchange",function(e){t.emit("afterchange",e)}),e.on("afterviewportchange",function(e){t.emit("afterviewportchange",e),e.updateMatrix[0]!==e.originMatrix[0]&&t.emit("afterzoom",e)}),e.on("beforeviewportchange",function(e){t.emit("beforeviewportchange",e),e.updateMatrix[0]!==e.originMatrix[0]&&t.emit("beforezoom",e)})}},t.exports=r},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(7),o={};o.INIT="_initGraph",o.AUGMENT={_initGraph:function(){var t=this.get("graph"),e=this.get("graphConstructor"),n=new e(r({page:this},t));n.draw(),this.set("_graph",n)},changeMode:function(t){var e=this.get("_graph");e.changeMode(t)},updateMatrix:function(t){var e=this.get("_graph");e.updateMatrix(t)},getMode:function(){var t=this.get("_graph");return t.get("mode")},getMatrix:function(){var t=this.get("_graph"),e=t.getMatrix();return e},getZoom:function(){var t=this.get("_graph"),e=t.getMatrix();return e[0]},getMaxZoom:function(){var t=this.get("_graph");return t.get("maxZoom")},getMinZoom:function(){var t=this.get("_graph");return t.get("minZoom")},getGraph:function(){return this.get("_graph")},getItems:function(){var t=this.get("_graph");return t.getItems()},getNodes:function(){var t=this.get("_graph");return t.getNodes()},translate:function(t,e){var n=this.get("_graph");return n.translate(t,e)},getEdges:function(){var t=this.get("_graph");return t.getEdges()},getGroups:function(){var t=this.get("_graph");return t.getGroups()},render:function(){var t=this.get("_graph");return t.render(),this},add:function(t,e){var n=this.get("_graph");return n.add(t,e),this},focusPointByDom:function(t){var e=this.get("_graph");return e.focusPointByDom(t),this},focusPoint:function(t){var e=this.get("_graph");return e.focusPoint(t),this},find:function(t){var e=this.get("_graph");return e.find(t)},focus:function(t){var e=this.get("_graph"),n=e.find(t);if(n){var r=n.getCenter();e.focusPoint(r)}return this},save:function(){var t=this.get("_graph");return t.save()},read:function(t){var e=this.get("_graph");e.read(t)},clear:function(){var t=this.get("_graph");t.clear()},remove:function(t){var e=this.get("_graph");return e.remove(t),this},update:function(t,e){var n=this.get("_graph");return n.update(t,e),this},zoom:function(t,e){var n=this.get("_graph");return n.zoom(t,e),this},getDomPoint:function(t){var e=this.get("_graph");return e.getDomPoint(t)},getPoint:function(t){var e=this.get("_graph");return e.getPoint(t)},zoomByDom:function(t,e){var n=this.get("_graph"),r=n.getPoint(t);return n.zoom(r,e),this},autoZoom:function(){var t=this.get("_graph");return t.autoZoom(),this},resetZoom:function(){var t=this.get("_graph"),e=t.getWidth(),n=t.getHeight();return t.zoomByDom({x:e/2,y:n/2},1),this},css:function(t){var e=this.get("_graph"),n=e.getMouseEventWarrper();i.modifyCSS(n,t)},setCapture:function(t){var e=this.get("_graph"),n=e.getRootGroup();n.set("capture",t)},destroy:function(){var t=this.get("_graph");t.destroy()},forceDraw:function(){var t=this.get("_graph"),e=t.getCanvas(),n=e.get("context");e.constructor.superclass.draw.call(e,n)},delete:function(){var t=this.getSelected(),e=this.get("_graph");i.each(t,function(t){e.remove(t)})}},t.exports=o},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(194),o=n(7),a={};a.CFG={grid:void 0},a.INIT="_initGrid",a.AUGMENT={_initGrid:function(){var t=this.get("grid"),e=this.get("_graph");if(t){var n=new i(r({flow:this,graph:e},t));this.setController("grid",n)}},showGrid:function(t){var e=this.get("_graph"),n=this.getController("grid");n||(t?o.isObject(t)&&this.set("grid",t):this.set("grid",!0),this._initGrid()),n=this.getController("grid"),n.show(),e.draw()},hideGrid:function(){var t=this.get("_graph"),e=this.getController("grid");e&&e.hide(),t.draw()},getGridCell:function(){var t=this.getController("grid");return t.getCell()}},t.exports=a},function(t,e,n){"use strict";var r=n(7),i={};i.CFG={selectable:!0,multiSelectable:!0,_selectedCache:{}},i.INIT="_initSelected",i.AUGMENT={_initSelected:function(){var t=this,e=this.get("_graph");e.on("afteritemdraw",function(e){e.item.isSelected&&t.setSelected(e.item,!0)}),e.on("beforeitemdestroy",function(e){t.setSelected(e.item,!1)})},setItemSelected:function(t){var e=this.get("_graph"),n=e.getShapeObj(t),r=n.getSelectedStyle(t),i=t.getKeyShape(),o=this.get("_selectedCache");o[t.id]=t,r&&i.attr(r),t.isEdge&&(i.startArrow&&i.startArrow.attr({fill:r.stroke}),i.endArrow&&i.endArrow.attr({fill:r.stroke}))},clearItemSelected:function(t){var e=this.get("_graph"),n=t.getKeyShape(),i=e.getShapeObj(t),o=n.get("attrs"),a=i.getSelectedStyle(t),u=this.get("_selectedCache"),s=r.getContrast(o,a);n.attr(s),t.isEdge&&(n.startArrow&&n.startArrow.attr({fill:s.stroke}),n.endArrow&&n.endArrow.attr({fill:s.stroke})),delete u[t.id]},setSelected:function(t,e){var n=this,i=this.get("selectable"),o=this.get("_graph");if(i){var a=void 0;a=r.isArray(t)?t:[t],r.each(a,function(t){r.isString(t)&&(t=o.find(t)),t&&!t.destroyed&&(e&&t.isSelected||(e||t.isSelected)&&(e?(n.emit("beforeitemselected",{item:t}),n.setItemSelected(t),n.emit("afteritemselected",{item:t})):(n.emit("beforeitemunselected",{item:t}),n.clearItemSelected(t),n.emit("afteritemunselected",{item:t})),t.isSelected=e,n.updateStatus(),o.draw()))})}},getSelected:function(){var t=this.get("_selectedCache");return r.objectToValues(t)},clearSelected:function(){var t=this,e=this.get("_graph"),n=e.getFrontCanvas(),i=this.get("_selectedCache");r.each(i,function(e){e.isSelected&&t.setSelected(e,!1)}),n.draw()}},t.exports=i},function(t,e){"use strict";var n={};n.AUGMENT={updateStatus:function(){var t=this.getSelected(),e=void 0;0===t.length?e="canvas-selected":1===t.length?t[0].isNode?e="node-selected":t[0].isEdge?e="edge-selected":t[0].isGroup&&(e="group-selected"):e="multi-selected",this.emit("statuschange",{status:e})}},t.exports=n},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2),o=n(4),a=n(5);i.registerBehaviour("dragAnchorAddEdge",function(t){function e(){t.setSignal("dragEdge",!1),f=void 0,h=void 0,l=void 0,d=void 0}var n=t.getGraph(),i=n.getFrontCanvas(),u=n.getFrontRootGroup(),s=t.get("noEndEdge"),c=void 0,f=void 0,h=void 0,l=void 0,d=void 0;n.behaviourOn("anchor:dragstart",function(e){if(2!==e.button){var n=e.shape,i=n.get("freezePoint");l=n.getItem(),c=t.get("addModel"),d=n.getIndex(),c.source=l.id,c.sourceAnchor=d,h={x:i.x,y:i.y},f=u.addShape("path",{attrs:r({},o.edgeDelegationStyle),capture:!1}),t.setSignal("dragEdge",!0),t.dragEdgeBeforeShowAnchor(l,d,"target")}}),n.behaviourOn("anchor:drag",function(t){f&&a.dragingEdgeEndPoint("target",c,n,f,h,t,l)}),n.behaviourOn("anchor:dragend",function(r){function i(){n.add("edge",c)}if(!f)return void e();if(r.shape){if(r.shape.isAnchor&&r.shape.hasHotspot){var a=r.shape.getItem();c.target=a.id,c.targetAnchor=r.shape.getIndex();var u=t.editor;u?u.executeCommand(i):i()}}else if(s){c.target={x:r.x,y:r.y};var h=t.editor;h?h.executeCommand(i):i()}var d=n.getNodes();d.forEach(function(e){t.clearAnchor(e)}),t.clearAnchor(l),t.setActived(l,!1),t.setSelected(l,!1),t.css({cursor:o.cursor.beforePanCanvas}),f.remove(),n.draw(),t.endAdd(),e()}),n.behaviourOn("canvas:mouseleave",function(){if(!f)return void e();var r=n.getNodes();r.forEach(function(e){t.clearAnchor(e)}),t.setActived(l,!1),t.clearAnchor(l),f.remove(),t.cancelAdd(),i.draw(),e()})},["dragHoverAnchorHotspot","hoverAnchorActived"])},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2),o=n(4),a=n(5);i.registerBehaviour("dragEdgeControlPoint",function(t){function e(e){function r(){i.update(p,u)}if(h){var a=i.getNodes(),u=void 0;if(a.forEach(function(e){t.clearAnchor(e)}),t.css({cursor:o.cursor.beforePanCanvas}),h.remove(),e.shape){if(e.shape.isAnchor){var l=e.shape,d=l.getItem();c?u={target:d.id,targetAnchor:l.getIndex()}:f&&(u={source:d.id,sourceAnchor:l.getIndex()})}}else s&&(c?u={target:{x:e.x,y:e.y}}:f&&(u={source:{x:e.x,y:e.y}})),i.show(m);i.show(m);var p=m.id;if(u){var g=t.editor;g?g.executeCommand(r):r()}t.changeMode("default"),n()}}function n(){t.setSignal("dragEdge",!1),c=void 0,f=void 0,h=void 0,l=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0}var i=t.getGraph(),u=i.getFrontRootGroup(),s=t.get("noEndEdge"),c=void 0,f=void 0,h=void 0,l=void 0,d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0;i.behaviourOn("edgeControlPoint:dragstart",function(e){if(2!==e.button){var n=e.shape;n.isTargetEndPoint()?(m=n.getItem(),y=m.getModel(),c=n,l=n.getSourcePoint(),d=m.getSource(),g=y.sourceAnchor):n.isSourceEndPoint()&&(m=n.getItem(),y=m.getModel(),f=n,l=n.getTargetPoint(),p=m.getTarget(),v=y.targetAnchor),m&&(h=u.addShape("path",{attrs:r({path:"M0 0L 1 1"},o.edgeDelegationStyle),capture:!1}),d?t.dragEdgeBeforeShowAnchor(d,g,"target"):p&&t.dragEdgeBeforeShowAnchor(p,v,"source"),i.hide(m),t.setSignal("dragEdge",!0))}}),i.behaviourOn("edgeControlPoint:drag",function(t){h&&a.dragingEdgeEndPoint(d?"target":"source",y,i,h,l,t,d,p)}),i.behaviourOn("edgeControlPoint:mouseleave",function(e){c||f||(t.changeMode("default"),e.toShape||t.css({cursor:o.cursor.beforePanCanvas}))}),i.behaviourOn("edgeControlPoint:dragend",e),i.behaviourOn("canvas:mouseleave",e)},["dragHoverAnchorHotspot"])},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("dragHoverAnchorHotspot",function(t){var e=t.getGraph();e.behaviourOn("anchor:dragenter",function(e){if(t.getSignal("dragEdge")){var n=e.shape;t.setHotspotActived(n,!0)}}),e.behaviourOn("anchor:dragleave",function(e){if(t.getSignal("dragEdge")){var n=e.shape;t.setHotspotActived(n,!1)}})})},function(t,e,n){"use strict";var r=n(2),i=n(4);r.registerBehaviour("dragMultiSelect",function(t){function e(){t.css({cursor:i.cursor.beforePanCanvas}),a=void 0,u=void 0}var n=t.getGraph(),r=n.getFrontRootGroup(),o=n.getFrontCanvas(),a=void 0,u=void 0;t.css({cursor:i.cursor.multiSelect}),n.behaviourOn("dragstart",function(t){2!==t.button&&(a={x:t.x,y:t.y},u=r.addShape("rect",{attrs:i.multiSelectRectStyle}))}),n.behaviourOn("drag",function(t){u&&(u.attr({x:Math.min(a.x,t.x),y:Math.min(a.y,t.y),width:Math.abs(t.x-a.x),height:Math.abs(t.y-a.y)}),o.draw())}),n.behaviourOn("dragend",function(){function r(){t.clearSelected(),a.forEach(function(e){var r=n.find(e),i=r.getBBox();i.minX>s.minX&&i.minY>s.minY&&i.maxX<s.maxX&&i.maxY<s.maxY&&t.setSelected(r,!0)})}if(u){var i=n.getNodes(),a=i.map(function(t){return t.id}),s=u.getBBox(),c=t.editor;c?c.executeCommand(r):r(),u.remove(),t.changeMode("default"),t.updateStatus(),o.draw(),e()}}),n.behaviourOn("canvas:mouseleave",function(){u&&(u.remove(),o.draw(),e())})})},function(t,e,n){"use strict";var r=n(2),i=n(4);r.registerBehaviour("dragNodeAddToGroup",function(t){function e(){t.setSignal("dragaddnodetogroup",!1),r=void 0,o=void 0}var n=t.getGraph(),r=void 0,o=void 0;n.behaviourOn("dragenter",function(e){if(t.getSignal("panningItem")){var a=t.get("panItems");a[0]&&a[0].isNode&&1===a.length&&e.item&&e.item.isGroup&&a[0].getParent()!==e.item&&(r=a[0],o=e.item,n.update(o,{padding:i.groupBackgroundPadding.map(function(t){return t+4}),style:i.dragNodeHoverToGroupStyle}))}}),n.behaviourOn("dragleave",function(){o&&r&&n.update(o,{padding:void 0,style:void 0})}),n.behaviourOn("drop",function(e){function i(){n.update(a,{parent:u})}if(o&&r&&o===e.item){t.setSignal("dragaddnodetogroup",!0);var a=r.id,u=o.id;n.update(u,{padding:void 0,style:void 0,collapsed:!1});var s=t.editor;s?s.executeCommand(i):i()}}),n.behaviourOn("dragend",function(){e()}),n.behaviourOn("canvas:mouseleave",function(){o&&(n.update(o,{padding:void 0,style:void 0}),e())})})},function(t,e,n){"use strict";var r=n(2),i=n(4),o=n(5);r.registerBehaviour("dragOutFromGroup",function(t){function e(){clearTimeout(u),a&&n.update(a,{padding:void 0,style:void 0}),s=!1,r=void 0,a=void 0}var n=t.getGraph(),r=void 0,a=void 0,u=void 0,s=!1;n.behaviourOn("drag",function(e){t.getSignal("panningItem")&&!s&&(clearTimeout(u),u=setTimeout(function(){var u=t.get("panItems");if(u){if(r=u[0],a=u[0].getParent(),r&&1===u.length&&a&&!e.shape){var c=t.get("panItemDelegation"),f=c.getBBox(),h=a.getBBox();o.rectRectCrossAlgorithm(f,h)&&(n.update(a,{padding:i.groupBackgroundPadding.map(function(t){return t-8}),style:i.dragNodeLeaveFromGroupStyle}),s=!0)}s||(r=void 0,a=void 0)}},i.outFromGroupDelayTime))}),n.behaviourOn("dragenter",function(t){r&&a&&(a===t.item&&n.update(a,{padding:i.groupBackgroundPadding.map(function(t){return t+4}),style:i.dragNodeHoverToGroupStyle}),s=!1)}),n.on("drop",function(t){a&&r&&!t.shape&&(n.update(r,{parent:void 0}),n.update(a,{style:void 0}),e())}),n.on("dragend",function(){e()}),n.behaviourOn("canvas:mouseleave",function(){e()})})},function(t,e,n){"use strict";var r=n(2),i=n(5),o=n(4);r.registerBehaviour("dragPanelItemAddNode",function(t){function e(){t.setSignal("panningItem",!1),t.set("panItemDelegation",void 0),t.set("panItemStartBox",void 0),t.set("panItemStartPoint",void 0),f=void 0,h=void 0,l=void 0,d=void 0}var n=t.getGraph(),r=n.getFrontRootGroup(),a=n.getFrontCanvas(),u=n.getCanvas(),s=u.get("htmlElementContaniner"),c=void 0,f=void 0,h=void 0,l=void 0,d=void 0;
n.behaviourOn("canvas:mouseenter",function(e){if(!f&&(l=t.get("addType"),d=t.get("addModel"),"node"===l)){h=i.getNodeSize(d,s);var n=h[0]/2,a=h[1]/2;c={minX:e.x-n,minY:e.y-a,maxX:e.x+n,maxY:e.y+a,width:h[0],height:h[1]},f=i.getRectByBox(c,r,o.nodeDelegationStyle),t.setSignal("panningItem",!0),t.set("panItemDelegation",f),t.set("panItemStartBox",c),t.set("panItemStartPoint",{x:e.x,y:e.y})}}),n.behaviourOn("mouseup",function(r){function o(){n.add(u,i.cloneDeep(a)),t.clearSelected(),t.setSelected(n.find(a.id),!0)}if(f){var a=i.mix({},d,{x:r.x,y:r.y}),u=l;i.setId(a);var s=t.editor;s?s.executeCommand(o):o(),f.remove(),t.endAdd(),t.clearAlignLine(),e()}}),n.behaviourOn("canvas:mouseleave",function(){f&&(t.clearAlignLine(),f.remove(),a.draw(),t.cancelAdd(),e())})},["processPanItem"])},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(2),o=n(4);i.registerBehaviour("hoverAnchorActived",function(t){var e=t.getGraph(),n=e.getFrontCanvas();e.behaviourOn("anchor:mouseenter",function(e){if(!t.getSignal("panningItem")&&!t.getSignal("dragEdge")){var i=e.shape,a=i.getItem(),u=a.getModel(),s=t.get("addEdgeModel"),c=r({},s,{source:u.id}),f={anchor:i.getPoint(),item:a};if(t.emit("hoveranchor:beforeaddedge",f),f.cancel)return void t.css({cursor:o.cursor.hoverUnEffectiveAnchor});t.css({cursor:o.cursor.hoverEffectiveAnchor}),!i.get("destroyed")&&i.setActived(),t.beginAdd("edge",c),n.draw()}}),e.behaviourOn("anchor:mouseleave",function(e){if(!t.getSignal("dragEdge")&&!t.getSignal("panningItem")){var r=e.shape,i=r.getItem();t.css({cursor:o.cursor.beforePanCanvas}),i.isSelected||(t.clearAnchor(i),t.setActived(i,!1)),!r.get("destroyed")&&r.clearActived(),t.cancelAdd(),n.draw()}})})},function(t,e,n){"use strict";var r=n(2),i=n(4);r.registerBehaviour("hoverEdgeControlPoint",function(t){var e=t.getGraph();e.behaviourOn("edgeControlPoint:mouseenter",function(e){if(!t.getSignal("dragEdge")&&!t.getSignal("panningItem")){var n=e.shape;(n.isTargetEndPoint()||n.isSourceEndPoint())&&(t.css({cursor:i.cursor.hoverEdgeControllPoint}),t.changeMode("resize"))}})})},function(t,e,n){"use strict";n(215),n(210),n(211),n(204),n(209),n(205),n(203),n(206),n(213),n(214),n(207),n(208)},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("keydownCmdWheelZoom",function(t){var e=t.getGraph();e.behaviourOn("keydown",function(e){var n=e.domEvent;91===n.keyCode&&t.setSignal("wheelZoom",!0)}),e.behaviourOn("keyup",function(e){var n=e.domEvent;91===n.keyCode&&t.setSignal("wheelZoom",!1)})})},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("keydownShiftMultiSelected",function(t){var e=t.getGraph();e.behaviourOn("keydown",function(e){var n=e.domEvent;n.shiftKey&&t.setSignal("shiftKeyDown",!0)}),e.behaviourOn("keyup",function(e){var n=e.domEvent;n.shiftKey||t.setSignal("shiftKeyDown",!1)})})},function(t,e,n){"use strict";var r=n(2),i=n(5);r.registerBehaviour("panItem",function(t){var e=t.getGraph();e.behaviourOn("drop",function(){function n(){a.forEach(function(t){var n=e.find(t),r=n.getModel();n.isGroup?i.panGroup(n,f,h,e):(e.update(n,{x:r.x+f,y:r.y+h}),e.toFront(n))}),1===a.length&&(t.clearSelected(),t.setSelected(c,!0))}var r=t.get("panItems");if(r){var o=r[0],a=r.map(function(t){return t.id}),u=t.get("panItemDelegation"),s=t.get("panItemStartBox"),c=o.id,f=u.attr("x")-s.minX,h=u.attr("y")-s.minY;e.emit("afterpanitemdrop",{panItems:r}),t.clearAlignLine();var l=t.editor;!l||t.getSignal("dragaddnodetogroup")?n():l.executeCommand(n),e.emit("panitemend")}})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(17),c=n(4),f=n(5),h=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{_anchorItemCache:{}}},e.prototype.init=function(){var t=this,e=this.graph;e.on("afteritemdraw",function(e){e.item.isAnchorShow&&t.showAnchor(e.item)}),e.on("beforeitemdestroy",function(e){t._clearAnchor(e.item)}),e.on("afteritemhide",function(e){e.item.isNode&&t._clearAnchor(e.item)})},e.prototype._updateAnchor=function(t){var e=this.graph,n=e.getFrontCanvas();t.anchorShapes.forEach(function(t){t.updatePosition()}),n.draw()},e.prototype._drawAnchor=function(t,e,n,r){var i=t.getAnchorPoints();this._clearAnchor(t),f.each(i,function(i,o){if(!n||n.indexOf(o)!==-1){var a=void 0,s=e.addShape("marker",{attrs:u({symbol:"circle"},c.anchorPointStyle,{x:i.x,y:i.y}),freezePoint:i,item:t,index:o,eventPreFix:"anchor",isItemChange:function(){},zIndex:c.zIndex.anchorPoint});s.eventPreFix="anchor",s.showHotspot=function(){a=e.addShape("marker",{attrs:u({symbol:"circle"},c.anchorHotsoptStyle,{x:i.x,y:i.y}),freezePoint:i,capture:!1,zIndex:c.zIndex.anchorHotsopt}),t.anchorShapes.push(a),s.hasHotspot=!0,f.toBack(a,e)},s.getIndex=function(){return o},s.getItem=function(){return t},s.getPoint=function(){return i},s.updatePosition=function(){var e=t.getAnchorPoints(),n=e[o];s.attr(n)},s.setActived=function(){s.attr(c.anchorPointHoverStyle)},s.clearActived=function(){s.attr(c.anchorPointStyle)},s.isAnchor=!0,s.setHotspotActived=function(t){a&&(t?a.attr(c.anchorHotsoptActivedStyle):a.attr(c.anchorHotsoptStyle))},r&&s.showHotspot(),t.anchorShapes.push(s),t.getAllAnchors=function(){return t.anchorShapes.filter(function(t){return t.isAnchor})},t.getAnchor=function(e){return t.anchorShapes.find(function(t){return t.get("index")===e})}}})},e.prototype._clearAnchor=function(t){t.anchorShapes&&t.anchorShapes.forEach(function(t){t.remove()}),t.anchorShapes=[]},e.prototype.setHotspotActived=function(t,e){var n=this.flow,r=n.getGraph(),i=r.getFrontCanvas();t.setHotspotActived(e),i.draw()},e.prototype.showAnchor=function(t,e,n){if(t.isVisible()){var r=this.graph,i=this._anchorItemCache,o=r.getFrontRootGroup(),a=r.getFrontCanvas();this._drawAnchor(t,o,e,n),t.isAnchorShow=!0,i[t.id]=t,a.draw()}},e.prototype.clearAnchor=function(t){var e=this,n=this.graph,r=n.getFrontCanvas(),i=n.get("itemCache"),o=this._anchorItemCache,a=t;a=f.isObject(t)?[t]:f.isString(t)?[i[t]]:o,f.each(a,function(t){e._clearAnchor(t),t.isAnchorShow=!1,delete o[t.id]}),r.draw()},e}(s);t.exports=h},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(14),s=n(2),c=n(5),f=n(4),h=n(222),l=n(219),d=n(221),p=n(220),g=[h,p,d,l],v=function(t){function e(n){i(this,e);var r={shortcut:{copy:!0,paste:!0,selectAll:!0,addGroup:!0,unGroup:!0},graph:{modes:{default:["panBlank","hoverGroupActived","clickEdgeSelected","clickNodeSelected","clickCanvasSelected","clickGroupSelected","hoverNodeActived","hoverEdgeActived","hoverAnchorActived","hoverButton","clickCollapsedButton","clickExpandedButton","wheelPanCanvas","keydownShiftMultiSelected","dragNodeAddToGroup","dragOutFromGroup","panItem","hoverEdgeControlPoint"],add:["dragPanelItemAddNode","dragAnchorAddEdge"],resize:["dragEdgeControlPoint","hoverEdgeControlPoint"],readOnly:["panCanvas"],move:["panCanvas"],multiSelect:["dragMultiSelect"]},mode:"default",defaultIntersectBox:"rect",nodeDefaultShape:f.nodeDefaultShape,edgeDefaultShape:f.edgeDefaultShape,groupDefaultShape:f.groupDefaultShape,minZoom:.2,maxZoom:2},graphConstructor:u.Graph,noEndEdge:!0},a={};c.each(g,function(t){c.mix(a,t.CFG)}),c.mix(!0,r,a,n);var s=o(this,t.call(this,r));return s.isFlow=!0,s}return a(e,t),e.prototype._init=function(){var e=this;t.prototype._init.call(this),c.each(g,function(t){t.INIT&&e[t.INIT]()})},e.prototype.getDelegation=function(t,e){var n=c.getTotalBBox(t.map(function(t){return t.getBBox()}));return c.getRectByBox(n,e,f.nodeDelegationStyle)},e.prototype.bindEvent=function(){var t=this;this.on("beforeitemactived",function(e){var n=e.item,r=t.get("_graph"),i=r.getShapeObj(n),o=i.getActivedOutterStyle(n);n.isNode&&(t.addOutterShape(n,f.nodeActivedOutterLineWidth,o),t.hoverShowAnchor(n))}),this.on("beforeitemunactived",function(e){var n=e.item;(n.isNode||n.isGroup)&&(t.clearOutterShape(n),t.clearAnchor(n))}),this.on("beforeitemselected",function(e){var n=e.item,r=t.get("_graph"),i=r.getShapeObj(n),o=i.getSelectedOutterStyle(n);n.isNode?(t.addOutterShape(n,f.nodeSelectedOutterLineWidth,o),t.hoverShowAnchor(n)):n.isGroup&&(t.addOutterShape(n,f.groupSelectedOutterLineWidth,o),t.hoverShowAnchor(n))}),this.on("beforeitemunselected",function(e){var n=e.item;(n.isNode||n.isGroup)&&(t.clearOutterShape(n),t.clearAnchor(n))})},e}(s);c.each(g,function(t){c.mix(v.prototype,t.AUGMENT)}),t.exports=v},function(t,e,n){"use strict";var r=n(217),i=n(2),o=n(4);r.Util=n(5),r.Global=o,i.setRegister(r,o.nodeDefaultShape,o.edgeDefaultShape,o.groupDefaultShape),n(212),n(227),t.exports=r},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(216),o=n(5),a={};a.CFG={anchor:{}},a.INIT="_initAnchor",a.AUGMENT={_initAnchor:function(){var t=this.get("anchor"),e=this.get("_graph");if(t){var n=new i(r({flow:this,graph:e},t));this.setController("anchor",n)}},showAnchor:function(t,e,n){var r=this.getController("anchor");r.showAnchor(t,e,n)},clearAnchor:function(t){var e=this.getController("anchor");e.clearAnchor(t)},setHotspotActived:function(t,e){var n=this.getController("anchor");n.setHotspotActived(t,e)},hoverShowAnchor:function(t){var e=this,n=t.getAnchorPoints(),r=[];n.forEach(function(n,i){var o={anchor:n,item:t};e.emit("hovernode:beforeshowanchor",o),o.cancel||r.push(i)}),this.showAnchor(t,r)},anchorHasBeenLinked:function(t,e){var n=t.getEdges(),r=[];return n.forEach(function(e){var n=e.getModel();n.source!==t.id||o.isNil(n.sourceAnchor)||r.push(n.sourceAnchor),n.target!==t.id||o.isNil(n.targetAnchor)||r.push(n.targetAnchor)}),o.isObject(e)?r.indexOf(e.index)!==-1:r.indexOf(e)!==-1},dragEdgeBeforeShowAnchor:function(t,e,n){var r=this,i=this.getGraph(),o=i.getNodes();o.forEach(function(i){var o=[],a=i.getAnchorPoints(),u=void 0;if(t.isNode){var s=t.getAnchorPoints();a.forEach(function(a,c){u="target"===n?{source:t,sourceAnchor:s[e],target:i,targetAnchor:a,dragEndPointType:n}:{target:t,targetAnchor:s[e],source:i,sourceAnchor:a,dragEndPointType:n},r.emit("dragedge:beforeshowanchor",u),u.cancel||o.push(c)})}else a.forEach(function(t,e){o.push(e)});i===t&&i.isAnchorShow?o.forEach(function(t){var n=i.getAnchor(t);e!==t&&n&&n.showHotspot()}):r.showAnchor(i,o,!0)})}},t.exports=a},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(5),o={};o.AUGMENT={addOutterShape:function(t,e,n){this.clearOutterShape(t);var o=t.getKeyShape(),a=t.getGraphicGroup(),u=o.get("attrs"),s=o.get("type"),c=o.attr("lineWidth"),f=a.addShape(s,{attrs:r({},u,{lineWidth:e,fill:null},n)});i.toBack(f,a);var h=f.getBBox(),l=h.maxX-h.minX,d=h.maxY-h.minY,p=(h.minX+h.maxX)/2,g=(h.minY+h.maxY)/2;f.transform([["t",-p,-g],["s",(e+l+2*c)/l,(e+d+2*c)/d],["t",p,g]]),f.isOutter=!0,t.outterShape=f},clearOutterShape:function(t){t.outterShape&&t.outterShape.remove()}},t.exports=o},function(t,e,n){"use strict";function r(t){t.controlPointShapes&&s.each(t.controlPointShapes,function(t){t.remove()}),t.controlPointShapes=[],t.isControlPointShow=!1}function i(t){t.controlPointShapes&&s.each(t.controlPointShapes,function(t){t.show()}),t.isControlPointShow=!0}function o(t){t.controlPointShapes&&s.each(t.controlPointShapes,function(t){t.hide()}),t.isControlPointShow=!1}function a(t,e){var n=t.getBBox(),i=[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.minX,y:n.maxY},{x:n.maxX,y:n.maxY}];r(t);var o=e.addShape("rect",{attrs:s.mix({},c.nodeSelectedBoxStyle,{symbol:"square",x:n.minX,y:n.minY,width:n.maxX-n.minX,height:n.maxY-n.minY})});t.controlPointShapes.push(o),s.each(i,function(n){var r=e.addShape("marker",{attrs:s.mix({},c.nodeControlPointStyle,{symbol:"square",x:n.x,y:n.y}),freezePoint:{x:n.x,y:n.y},item:t});t.controlPointShapes.push(r)})}function u(t,e){var n=t.getPoints(),i=t.getModel();r(t),s.each(n,function(r,o){var a=e.addShape("marker",{attrs:s.mix({},c.edgeControlPointStyle,{x:r.x,y:r.y}),freezePoint:{x:r.x,y:r.y},item:t});a.eventPreFix="edgeControlPoint",a.getSourcePoint=function(){return n[0]},a.getTargetPoint=function(){return n[n.length-1]},a.getItem=function(){return t},a.isSourceEndPoint=function(){return i.source&&0===o},a.isTargetEndPoint=function(){return i.target&&o===n.length-1},t.controlPointShapes.push(a)})}var s=n(5),c=n(4),f={};f.INIT="_initResize",f.CFG={nodeResizeable:!1,edgeResizeable:!0},f.AUGMENT={_initResize:function(){var t=this,e=this.get("_graph"),n=this.get("nodeResizeable"),a=this.get("edgeResizeable");n&&e.on("afteritemdraw",function(e){"node"===e.item.type&&e.item.isVisible()&&t.drawControlPoints(e.item)}),a&&e.on("afteritemdraw",function(e){"edge"===e.item.type&&e.item.isVisible()&&t.drawControlPoints(e.item)}),e.on("afteritemhide",function(t){t.item.isControlPointShow&&o(t.item)}),e.on("afteritemshow",function(t){!t.item.isControlPointShow&&i(t.item)}),e.on("beforeitemdestroy",function(t){t.item.isControlPointShow&&r(t.item)})},drawControlPoints:function(t){var e=this.get("_graph"),n=e.getFrontRootGroup(),r=this.get("nodeResizeable"),i=this.get("edgeResizeable");"node"===t.type?r&&a(t,n):"edge"===t.type&&i&&u(t,n),t.isControlPointShow=!0}},t.exports=f},function(t,e,n){"use strict";var r={},i=n(5);r.AUGMENT={changeAddEdgeModel:function(t){this.set("addEdgeModel",t)},cancelAdd:function(){var t=this.get("_graph");this.set("addType",void 0),this.set("addModel",void 0),t.changeMode("default")},beginAdd:function(t,e){var n=this.get("_graph");this.set("addType",t),this.set("addModel",e),n.changeMode("add")},endAdd:function(){var t=this.get("_graph");this.set("addType",void 0),this.set("addModel",void 0),t.changeMode("default")},delete:function(){var t=this.getSelected(),e=this.get("_graph");i.each(t,function(t){e.remove(t)})},toBack:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return i.getIndex(r)-i.getIndex(n)}),t.forEach(function(t){e.toBack(t)})},toFront:function(){var t=this.getSelected(),e=this.get("_graph");t.sort(function(t,e){var n=t.getGraphicGroup(),r=e.getGraphicGroup();return i.getIndex(n)-i.getIndex(r)}),t.forEach(function(t){e.toFront(t)})},addGroup:function(t){var e=this.get("_graph"),n=this.getSelected(),r=!0,o=void 0;if(0!==n.length){t||(t={label:"\u65b0\u5efa\u5206\u7ec4"}),i.setId(t),e.add("group",t),e.toFront(t.id);var a=e.find(t.id);if(n.forEach(function(t){var e=t.getParent();e&&(o?o!==e&&(r=!1):o=e)}),!r)return void console.warn("add group elements must have the same parent");o&&(t.parent=o.getModel().id),n.forEach(function(n){e.update(n,{parent:t.id})});var u=a.getInnerEdges();a.deepEach(function(t){e.toFront(t)}),u.forEach(function(t){e.toFront(t)})}},unGroup:function(){var t=this.get("_graph"),e=this.getSelected(),n=e[0];1===e.length&&i.isGroup(n)&&(n.getChildren().forEach(function(e){t.update(e,{parent:void 0})}),t.remove(n))},newGroup:function(t){this.addGroup(t)}},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=t.addShape("marker",{attrs:{symbol:function(t,e,r,i){var o=r/1.6;i.moveTo(t,e-o),i.lineTo(t+n,e),i.lineTo(t,e+o),i.closePath()},x:0,y:0,radius:n,fill:e.stroke},capture:!1});return r}function i(t,e,n,i,o){var a=void 0,s=void 0;i.endArrow&&(a=!0,delete i.endArrow),i.startArrow&&(s=!0,delete i.startArrow);var h=e.addShape("path",{attrs:u({},i,{path:n})});if(a){var l=h.get("segments"),d=o[o.length-1],p=f.arrowRadius;if(d){var g=l.length,v=l[g-1];if(!v||!v.endTangent)return;var m=v.endTangent();if(0===m[0]&&0===m[1])return;var y=c.vec2.normalize([],m),x=p*y[0],b=p*y[1];n=c.parsePathString(n);var _=n[n.length-1];_[_.length-2]-=x,_[_.length-1]-=b,h.attr("path",n),d.x-=x,d.y-=b;var w=r(e,i,p);h.endArrow=w,w.isArrow=!0,c.arrowTo(w,d.x,d.y,0,0,m[0],m[1])}}if(s){var S=h.get("segments"),M=o[0],O=f.arrowRadius;if(M){var P=S[1];if(!P||!P.endTangent)return;var E=P.startTangent();if(0===E[0]&&0===E[1])return;var A=c.vec2.normalize([],E),j=O*A[0],C=O*A[1];n=c.parsePathString(n);var k=n[0];k[k.length-2]-=j,k[k.length-1]-=C,h.attr("path",n),M.x-=j,M.y-=C;var I=r(e,i,O);h.startArrow=I,I.isArrow=!0,c.arrowTo(I,M.x,M.y,0,0,E[0],E[1])}}return h}function o(t,e,n){var r=n.getPoint(.5),i=c.mix(!0,{},f.edgeLabelStyle,r);if(r)return c.isString(t)?i.text=t:c.mix(i,t),e.addShape("text",{attrs:i})}function a(t,e,n){var r=c.toAllPadding(f.edgeLabelRectPadding),i=t.getBBox();return n=n?n:f.edgeLabelRectStyle,e.addShape("rect",{attrs:u({},n,{x:i.minX-r[3],y:i.minY-r[0],width:i.maxX-i.minX+r[1]+r[3],height:i.maxY-i.minY+r[0]+r[2]})})}var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(2),c=n(5),f=n(4);s.registerEdge("flow-edge",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=t.getPoints(),u=this.getPath(t),s=this.getStyle(t),f=i(e,n,u,s,r);if(e.label&&f){var h=o(e.label,n,f);h&&(a(h,n,e.labelRectStyle),c.toFront(h,n))}return f},getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget();return this.getPathByPoints(e,n,r)},getPathByPoints:function(t){return c.pointsToPolygon(t)},getStyle:function(t){var e=t.getModel();return c.mix(!0,{},f.edgeStyle,{stroke:e.color},e.style)},getActivedStyle:function(){return f.edgeActivedStyle},getSelectedStyle:function(){return f.edgeSelectedStyle},getActivedOutterStyle:function(){},getSelectedOutterStyle:function(){}})},function(t,e,n){"use strict";function r(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}function i(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}}function o(t,e){return 2*Math.abs(t.centerX-e.centerX)<t.width+e.width&&2*Math.abs(t.centerY-e.centerY)<t.height+e.height}function a(t){var e=t.x,n=t.y;return{centerX:e,centerY:n,minX:e,minY:n,maxX:e,maxY:n,height:0,width:0}}function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=[];t.forEach(function(t){e.push(t.x),n.push(t.y)});var r=Math.min.apply(Math,e),i=Math.max.apply(Math,e),o=Math.min.apply(Math,n),a=Math.max.apply(Math,n);return{centerX:(r+i)/2,centerY:(o+a)/2,maxX:i,maxY:a,minX:r,minY:o,height:a-o,width:i-r}}function s(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}}function c(t,e){var n=r(e,t);return n?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}}function f(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]}function h(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY}function l(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}function d(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}function p(t,e){return l(t,e.x).concat(d(t,e.y))}function g(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,u=r.y-n.y,s=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*u),c=(a*(t.y-n.y)-u*(t.x-n.x))/(-a*o+i*u);return s>=0&&s<=1&&c>=0&&c<=1}function v(t,e,n){if(n.width===n.height===0)return!1;var r=f(n),i=I(r,4),o=i[0],a=i[1],u=i[2],s=i[3];return g(t,e,o,a)||g(t,e,o,s)||g(t,e,a,u)||g(t,e,u,s)}function m(t){return t=x(t)}function y(t,e){return[t,{x:t.x,y:e.y},e]}function x(t){var e=[],n={};return t.forEach(function(t){var e=t.id=t.x+"-"+t.y;n[e]=t}),B.each(n,function(t){e.push(t)}),e}function b(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function _(t,e){var n=-2,r=0;return e.forEach(function(e){e&&(t.x===e.x&&(r+=n),t.y===e.y&&(r+=n))}),r}function w(t,e,n,r,i){return b(t,e)+b(t,n)+_(t,[e,n,r,i])}function S(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function M(t,e,n,r){var i=[];return t.forEach(function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||v(t,e,n)||v(t,e,r)||i.push(t))}),x(i)}function O(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;t.unshift(e[r]),n[r]&&n[r]!==r&&i<=100&&O(t,e,n,n[r],i+1)}function P(t,e,n,r,i,o,a){var u=[],s=[e],c={},f={},h={};f[e.id]=0,h[e.id]=w(e,n,e);var l={};t.forEach(function(t){l[t.id]=t});for(var d=function(){var d=void 0,p=1/0;if(s.forEach(function(t){h[t.id]<p&&(p=h[t.id],d=t)}),d===n){var g=[];return O(g,l,c,n.id),{v:g}}S(s,d),u.push(d),M(t,d,r,i).forEach(function(t){if(u.indexOf(t)===-1){s.indexOf(t)===-1&&s.push(t);var r=h[d.id]+b(d,t);f[t.id]&&r>=f[t.id]||(c[t.id]=d.id,f[t.id]=r,h[t.id]=f[t.id]+w(t,n,e,o,a))}})};s.length;){var p=d();if("object"===("undefined"==typeof p?"undefined":k(p)))return p.v}return console.error("cannot find path: ",t,e,n),[e,n]}function E(t,e,n,r,l){var d=n&&n.bbox?n.bbox:a(t),g=r&&r.bbox?r.bbox:a(e);if(o(d,g))return m(y(t,e));var v=s(d,l),b=s(g,l);if(o(v,b))return m(y(t,e));var _=c(v,t),w=c(b,e),S=u([_,w]),M=i(v,b),O=i(v,S),E=i(b,S),A=[];A=A.concat(f(O)),A=A.concat(f(E));var j={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[S,O,E].forEach(function(t){A=A.concat(p(t,j).filter(function(t){return h(t,v)&&h(t,b)}))}),[{x:_.x,y:w.y},{x:w.x,y:_.y}].forEach(function(t){h(t,v)&&h(t,b)&&A.push(t)}),A.unshift(_),A.push(w),A=x(A,v,b,M);var C=P(A,_,w,d,g,t,e);return C.unshift(t),C.push(e),m(C)}function A(t,e,n){return!(t.x===e.x===n.x||t.y===e.y===n.y)}function j(t,e,n,r){var i=b(t,e),o=b(n,e);i<r&&(r=i),o<r&&(r=o);var a={x:e.x-r/i*(e.x-t.x),y:e.y-r/i*(e.y-t.y)},u={x:e.x-r/o*(e.x-n.x),y:e.y-r/o*(e.y-n.y)};return[a,u]}function C(t,e){var n=[],r=t[0];return n.push("M"+r.x+" "+r.y),t.forEach(function(r,i){var o=t[i+1],a=t[i+2];if(o&&a)if(A(r,o,a)){var u=j(r,o,a,e),s=I(u,2),c=s[0],f=s[1];n.push("L"+c.x+" "+c.y),n.push("Q"+o.x+" "+o.y+" "+f.x+" "+f.y),n.push("L"+f.x+" "+f.y)}else n.push("L"+o.x+" "+o.y);else o&&n.push("L"+o.x+" "+o.y)}),n.join("")}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),B=n(5),T=n(2),F=n(4),D={offset:10,borderRadius:5};T.registerEdge("flow-polyline",{getPathByPoints:function(t,e,n){var r=B.merge({},D,F.polylineStyle),i=r.offset,o=E(t[0],t[t.length-1],e,n,i);return B.pointsToPolygon(o)}},"flow-edge"),T.registerEdge("flow-polyline-round",{getPathByPoints:function(t,e,n){var r=B.merge({},D,F.polylineStyle),i=r.offset,o=r.borderRadius,a=m(E(t[0],t[t.length-1],e,n,i));return C(a,o)}},"flow-edge")},function(t,e,n){"use strict";function r(t,e){var n=Math.abs(t.x-e.centerX),r=Math.abs(t.y-e.centerY);return n/e.width>r/e.height}function i(t,e,n,r){var i=r?r/2:30,o=r;if(t<=e&&e<=n||t>=e&&e>=n){var a=(n-e)/2,u=Math.abs(a);if(0===a)return t===e?0:(e-t)/Math.abs(e-t)*i;if(u>o){var s=a/u*o;return Math.abs(s)<i?a/u*i:s}return u<i?a/u*i:a}var c=i;return c=Math.abs(e-n)<2*Math.abs(e-t)?r*Math.abs(e-n)/(2*Math.abs(e-t)):r,c>o&&(c=o),c<i&&(c=i),e>t?c:-c}function o(t,e,n,o){var a=t.bbox,u=r(e,a),s=void 0,c=void 0;s=c=0;var f=Math.min(a.height,a.width);return o&&o.bbox&&(f=Math.min(f,o.bbox.height,o.bbox.width)),u?s=i(a.centerX,e.x,n.x,f):c=i(a.centerY,e.y,n.y,f),{x:e.x+s,y:e.y+c}}function a(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return{x:n+(i-n)*h,y:r+(o-r)*h}}function u(t,e,n,r){return[n&&n.bbox?o(n,t,e,r):a(t,e),r&&r.bbox?o(r,e,t,n):a(e,t)]}function s(t,e,n){var r=t[0],i=t[t.length-1],o=["M",r.x,r.y],a=u(r,i,e,n),s=["C"],f=[o];return c.each(a,function(t){s.push(t.x,t.y)}),s.push(i.x,i.y),f.push(s),f}var c=n(5),f=n(2),h=.1;f.registerEdge("flow-smooth",{getPathByPoints:function(t,e,n){return s(t,e,n)}},"flow-edge")},function(t,e,n){"use strict";function r(t){return g.mix(!0,{},S,{fill:t.color,stroke:t.color},t.style)}function i(t,e,n,r){var i=e.addShape("path",{attrs:l({},r,{path:n})});return i.isGroupKeyShape=!0,i}function o(t,e,n,r){var i=g.mix(!0,{},w,{x:n+O,y:r+P});g.isString(t)?i.text=t:g.mix(i,t),e.addShape("text",{attrs:i})}function a(t,e,n,r){var i=e.addShape("path",{attrs:l({path:t},x)}),o=i.getBBox();i.translate(n-o.minX+j,r-o.minY+C)}function u(t,e,n,r,i){var o=void 0;if(t){o=e.addShape("path",{attrs:l({path:y},_)});var a=o.getBBox(),u=a.maxX-a.minX;o.isExpandedButton=!0,o.translate(n+i-a.minX-u-A,r-a.minY+E)}else{o=e.addShape("path",{attrs:l({path:m},b)});var s=o.getBBox(),c=s.maxX-s.minX;o.isCollapsedButton=!0,o.translate(n+i-s.minX-c-A,r-s.minY+E)}return o.isButton=!0,o}function s(t,e){return t.minX-e[3]}function c(t,e){return t.minY-e[0]}function f(t,e){return t.maxX-t.minX+e[3]+e[1]}function h(t,e){return t.maxY-t.minY+e[0]+e[2]}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=n(2),p=n(4),g=n(5),v=g.getGroupIconPath(),m=g.getCollapsedButtonPath(),y=g.getExpandedButtonPath(),x={fill:"#CED4D9"},b={stroke:"#697B8C",fill:"#fff",fillOpacity:0},_={stroke:"#697B8C",fill:"#fff",fillOpacity:0},w={fill:"#000000",textBaseline:"top",textAlign:"left"},S={stroke:"#CED4D9",fill:"#F2F4F5",radius:4},M=p.groupBackgroundPadding,O=40,P=13,E=12,A=12,j=8,C=12,k=184,I=40,B=k-M[1]-M[3],T=I-M[0]-M[2];d.registerGroup("flow-group",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),l=t.getChildrenBBox(),d=e.collapsed,p=e.padding?e.padding:M;if(l.minX===1/0&&(l.minX=e.x,l.maxX=e.x+B,l.minY=e.y,l.maxY=e.y+T),d&&(l.minX=l.maxX-B,l.maxY=l.minY+T),l.maxX-l.minX<B){var m=B-l.maxX+l.minX;l.minX-=m/2,l.maxX+=m/2}var y=s(l,p),x=c(l,p),b=f(l,p),_=h(l,p),w=r(e),S=g.getRectPath(y,x,b,_,w.radius),O=i(e,n,S,w);o(g.isNil(e.label)?"\u65b0\u5efa\u5206\u7ec4":e.label,n,y,x),a(g.isNil(e.icon)?v:e.icon,n,y,x);var P=u(d,n,y,x,b,_);return P.item=t,e.x=l.minX,e.y=l.minY,O},getActivedStyle:function(){return p.groupActivedStyle},getSelectedStyle:function(){return p.groupSelectedStyle},getSelectedOutterStyle:function(){return p.groupSelectedOutterStyle},getActivedOutterStyle:function(){}})},function(t,e,n){"use strict";n(228),n(223),n(225),n(224),n(226)},function(t,e,n){"use strict";function r(t,e){var n=void 0,r=void 0;if(e){var i=s.Palettes.generate(e);n=i[0],r=i[3]}return s.mix(!0,{},c.nodeStyle,{fill:n,stroke:r},t.style)}function i(t,e,n,r){return e.addShape("path",{attrs:a({},r,{path:n})})}function o(t,e){var n=s.mix(!0,{},c.nodeLabelStyle,{x:0,y:0});s.isString(t)?n.text=t:s.mix(n,t),e.addShape("text",{attrs:n})}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(2),s=n(5),c=n(4);u.registerNode("flow-node",{draw:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=s.getNodeSize(e),a=this.getColor(t),u=this.getStyle(e,a),c=this.getPath(r,u),f=i(e,n,c,u);return e.label&&o(e.label,n),f},getStyle:r,color:null,getColor:function(t){var e=t.getModel();return e.color?e.color:this.color},getPath:function(t,e){return s.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],e.radius)},getActivedOutterStyle:function(){return c.nodeActivedOutterStyle},getActivedStyle:function(t){var e=this.getColor(t);if(e){var n=s.Palettes.generate(e);return{fill:n[0],stroke:n[5]}}return c.nodeActivedStyle},getSelectedStyle:function(t){var e=this.getColor(t);if(e){var n=s.Palettes.generate(e);return{fill:n[2],stroke:n[5]}}return c.nodeSelectedStyle},getSelectedOutterStyle:function(t){var e=this.getColor(t);if(e){var n=s.Palettes.generate(e);return{stroke:n[1],fill:n[1]}}return c.nodeSelectedOutterStyle},anchor:[[.5,0],[1,.5],[.5,1],[0,.5]]}),u.registerNode("flow-html",{},["flow-node","html"]),u.registerNode("flow-rect",{},"flow-node"),u.registerNode("flow-capsule",{getPath:function(t){return s.getRectPath(-t[0]/2,-t[1]/2,t[0],t[1],t[1]/2)}},"flow-node"),u.registerNode("flow-circle",{getPath:function(t){var e=t[0],n=t[1];return s.getEllipsePath(0,0,e/2,n/2)}},"flow-node"),u.registerNode("flow-rhombus",{getPath:function(t){var e=0,n=0,r=t[0],i=t[1],o=[{x:e,y:n-i/2},{x:e+r/2,y:n},{x:e,y:n+i/2},{x:e-r/2,y:n},{x:e,y:n-i/2}];return s.pointsToPolygon(o)}},"flow-node")},function(t,e,n){"use strict";var r=n(76);t.exports={dragingEdgeEndPoint:function(t,e,n,r,i,o,a,u){var s=n.getShapeObj("edge",e),c="source"===t?[o,i]:[i,o],f=s.getPathByPoints(c,a,u);r.attr("path",f),n.drawFrontCanvas()},panGroup:function(t,e,n,i){var o=t.getModel();r.traverseTree(t,function(t){if("node"===t.type){var r=t.getModel();i.update(t,{x:r.x+e,y:r.y+n})}},function(t){return"group"===t.type?t.getChildren():[]}),i.update(t,{x:o.x+e,y:o.y+n})}}},function(t,e){"use strict";t.exports={rectRectCrossAlgorithm:function(t,e){var n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return n>i||r>o}}},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("hoverMindExpandButton",function(t){var e=t.getGraph();e.behaviourOn("mouseenter",function(t){var n=t.shape;n&&n.isExpandedButton&&(n.attr("fillOpacity",.8),e.draw())}),e.behaviourOn("mouseleave",function(t){var n=t.shape;n&&n.isExpandedButton&&(n.attr("fillOpacity",1),e.draw())})})},function(t,e,n){"use strict";n(235),n(231),n(234),n(233)},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("keydownEditLabel",function(t){var e=t.getGraph();e.on("keydown",function(e){t.showLabelEditor(e)})})},function(t,e,n){"use strict";var r=n(2);r.registerBehaviour("keydownMoveSelection",function(t){var e=t.getGraph();e.on("keydown",function(e){t._moveItemSelection(e)})})},function(t,e,n){"use strict";var r=n(2),i=n(16);r.registerBehaviour("panMindNode",function(t){function e(){o.nth=a;var e=r.add("node",o);t.setSelected(e,!0),u&&r.remove(u.id)}function n(){r.emit("panitemend"),o=void 0,u=void 0,a=void 0}var r=t.getGraph(),o=void 0,a=void 0,u=void 0;r.behaviourOn("beforeshowdelegation",function(){t.clearActived(),t.clearSelected()}),r.behaviourOn("node:dragstart",function(t){
if(2!==t.button){var e=t.item;if(o=e.getModel(),!o.parent||t.shape.isCollapsedButton||t.shape.isExpandedButton)return void n();a=r.getNth(e),r.remove(e)}}),r.behaviourOn("itempanning",function(e){if(!e.shape||!e.shape.isPlaceholder){var n=t.getHotArea(e),i=t.getRoot();if(u&&(n?u.id!==n.id&&r.remove(r.find(u.id)):r.remove(r.find(u.id))),u=n,n){var o=n.parent;if(!r.find(n.id)){var a={id:n.id,parent:o.id,isPlaceholder:!0,parentModel:o,baseline:u.parent.id===i.id?"center":void 0,shape:"mind-placeholder",nth:n.nth};n.side&&(a.side=n.side),r.add("node",a)}}}}),r.behaviourOn("drop",function(){if(o)if(u){var s=i.cloneDeep(o);r.remove(u.id),t.executeCommand("moveMindNode",{model:s,newParentId:u.parent.id,newNth:u.nth,newSide:u.side,originParentId:o.parent,originNth:a,originSide:o.side})}else e();n()}),r.behaviourOn("canvas:mouseleave",function(){o&&(e(),n())})},["startPanItem","processPanItem","endPanItem"])},function(t,e,n){"use strict";function r(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&n.length>0}function i(t,e,n){var r=t.getGraph(),i=e.getModel(),o=t.getFirstChildrenBySide("left"),a=o[0]&&r.find(o[0].id);return r.add("node",{id:n,parent:e.id,label:"\u65b0\u5efa\u8282\u70b9",side:i.children.length>2?"left":"right",nth:a?r.getNth(a):void 0})}var o=n(34),a=n(16);o.registerCommand("append",{enable:function(t){var e=t.getCurrentPage(),n=e.getSelected();return e.isMind&&1===n.length},getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=e.getRoot(),o=this.getItem(t),a=o.getModel(),u=a.hierarchy,s=o.getParent(),c=void 0;if(o.isRoot)c=i(e,o,this.addItemId);else{var f=n.getNth(o);c=n.add("node",{id:this.addItemId,parent:s.id,side:2===u&&3===r.children.length?"left":a.side,label:"\u65b0\u5efa\u8282\u70b9",nth:"left"===a.side&&2===u?f:f+1})}e.clearSelected(),e.clearActived(),e.setSelected(c,!0),1===this.executeTimes&&(this.selectedItemId=o.id,this.addItemId=c.id,e.beginEditLabel(c))},back:function(t){var e=t.getCurrentPage(),n=e.getGraph();n.remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Enter"]}),o.registerCommand("appendChild",{enable:r,getItem:function(t){var e=t.getCurrentPage(),n=e.getGraph();return this.selectedItemId?n.find(this.selectedItemId):e.getSelected()[0]},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.getItem(t),o=void 0;o=r.isRoot?i(e,r,this.addItemId):n.add("node",{id:this.addItemId,parent:r.id,label:"\u65b0\u5efa\u8282\u70b9"}),e.clearSelected(),e.clearActived(),e.setSelected(o,!0),1===this.executeTimes&&(this.selectedItemId=r.id,this.addItemId=o.id,e.beginEditLabel(o))},back:function(t){var e=t.getCurrentPage(),n=e.getGraph();n.remove(this.addItemId),e.clearSelected(),e.clearActived(),e.setSelected(this.selectedItemId,!0)},shortcutCodes:["Tab"]}),o.registerCommand("moveMindNode",{enable:function(t){var e=t.getCurrentPage(),n=e.get("panItems");return e.isMind&&n&&n.length>0},execute:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.newParentId,i=this.newNth,o=this.newSide,u=a.cloneDeep(this.model);delete u.shape,delete u.side,n.remove(u.id),a.mix(u,{parent:r,nth:i,side:o});var s=n.add("node",u);e.clearSelected(),e.setSelected(s,!0)},back:function(t){var e=t.getCurrentPage(),n=e.getGraph(),r=this.originParentId,i=this.originNth,o=this.originSide,u=a.cloneDeep(this.model);delete u.shape,delete u.side,n.remove(u.id),a.mix(u,{parent:r,nth:i,side:o});var s=n.add("node",u);e.clearSelected(),e.setSelected(s,!0)}})},function(t,e,n){"use strict";var r=n(15),i=n(2),o=n(77);r.Util=n(16),r.Global=o,i.setRegister(r,o.nodeDefaultShape,o.edgeDefaultShape,o.groupDefaultShape),n(232),n(240),n(236),t.exports=r},function(t,e,n){"use strict";var r=n(15);r.registerEdge("mind-edge",{getEdetal:function(t){return t.children&&t.children.length>0&&!t.collapsed?2===t.hierarchy?24:18:0},getPath:function(t){var e=t.getPoints(),n=t.getSource(),r=t.getTarget(),i=n.getBBox(),o=r.getBBox(),a=r.getModel(),u=14,s=4;if(2===a.hierarchy&&(u=66,s=30),e[0].y===e[1].y){var c=3===a.hierarchy?24:18,f=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x+c,e[0].y],["L",o.maxX+f,o.maxY]]:[["M",e[0].x+2,e[0].y],["L",o.minX-f,o.maxY]]}if(a.hierarchy>=3){var h=3===a.hierarchy?24:18,l=this.getEdetal(a);if(i.centerX<o.centerX){var d=e[0].x+h;return[["M",e[0].x,e[0].y],["M",d,e[0].y],["C",d+s,e[0].y,o.minX-u,o.maxY,o.minX,o.maxY],["L",o.maxX+l,o.maxY]]}var p=e[0].x-h;return[["M",e[0].x,e[0].y],["M",p,e[0].y],["C",p-s,e[0].y,o.maxX+u,o.maxY,o.maxX,o.maxY],["L",o.minX-l,o.maxY]]}var g=this.getEdetal(a);return i.centerX<o.centerX?[["M",e[0].x,e[0].y],["C",e[0].x+s,e[0].y,o.minX-u,o.maxY,o.minX,o.maxY],["L",o.maxX+g,o.maxY]]:[["M",e[0].x,e[0].y],["C",e[0].x-s,e[0].y,o.maxX+u,o.maxY,o.maxX,o.maxY],["L",o.minX-g,o.maxY]]},getStyle:function(t){var e=t.getTarget(),n=e.getModel(),r=void 0;return r=n.hierarchy<=3?3:n.hierarchy<=5?2:1,{stroke:"#959EA6",lineWidth:r}}})},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(15);i.registerEdge("mind-placeholder-edge",{getOriginShapeObject:function(t){var e=t.getGraph(),n=e.getShapeObj("edge",{shape:"mind-edge"});return n},getPath:function(t){var e=this.getOriginShapeObject(t);return e.getPath(t)},getStyle:function(t){var e=this.getOriginShapeObject(t),n=e.getStyle(t);return r({},n,{stroke:"#91D5FF"})}})},function(t,e,n){"use strict";n(242),n(241),n(245),n(244),n(243),n(238),n(239)},function(t,e,n){"use strict";var r=n(15);r.registerNode("mind-first-sub",{dy:0,getPadding:function(){return[6,12,8,12]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontWeight:500,fontSize:14,lineHeight:20}}},"mind-node")},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(15),o=n(16),a={fill:"#000",textAlign:"left",textBaseline:"top"},u={stroke:"#959EA6",strokeOpacity:0,fill:"#959EA6",cursor:"pointer"},s={stroke:"#434B54",fill:"#fff",cursor:"pointer"};i.registerNode("mind-node",{dy:4,afterDraw:function(t){var e=t.getModel();e.children&&e.children.length>0&&e.collapsed&&this.drawExpandedButton(t)},debugDrawLayoutPoint:function(t){var e=t.getModel(),n=t.getGraphicGroup();n.addShape("circle",{attrs:{x:e.x,y:e.y,r:5,fill:"red"}})},drawExpandedButton:function(t){var e=16,n=7,i=e/4,a=t.getKeyShape(),s=a.getBBox(),c=t.getGraphicGroup(),f=c.addGroup(),h=f.addShape("path",{attrs:r({path:o.getRectPath(0,0,e,n,3)},u)}),l=h.getBBox(),d=o.getMindNodeSide(t),p=this.getButtonPositon(s,l,d),g={fill:"white",r:1};f.addShape("circle",{attrs:r({},g,{x:i,y:n/2}),capture:!1}),f.addShape("circle",{attrs:r({},g,{x:2*i,y:n/2}),capture:!1}),f.addShape("circle",{attrs:r({},g,{x:3*i,y:n/2}),capture:!1}),h.attr("lineAppendWidth",20),f.translate(p.x,p.y),h.isExpandedButton=!0,h.isButton=!0},drawCollapsedButton:function(t){var e=t.getKeyShape(),n=e.getBBox(),i=t.getGraphicGroup(),a=i.addShape("path",{attrs:r({path:o.getCollapsedButtonPath()},s)}),u=a.getBBox(),c=o.getMindNodeSide(t),f=this.getButtonPositon(n,u,c);a.translate(f.x,f.y),a.isCollapsedButton=!0,a.isButton=!0},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:t.maxY-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:t.maxY-(e.maxY-e.minY)/2}},getLabel:function(t){var e=t.getModel();return e.label},getPadding:function(){return[4,8,4,8]},getSize:function(t){var e=t.getModel(),n=t.getGraphicGroup(),r=e.size;if(e.size){if(o.isArray(r))return r;if(o.isNumber(r))return[r,r]}var i=n.findByClass("label")[0],a=this.getPadding(t),u=i.getBBox();return[u.width+a[1]+a[3],u.height+a[0]+a[2]]},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return o.getRectPath(-e[0]/2,-e[1]/2+this.dy,e[0],e[1],n.radius)},drawLabel:function(t){var e=t.getGraphicGroup(),n=this.getLabel(t),r=this.getLabelStyle(t);n||(n=" ");var i=o.mix(!0,{},a,r,{x:0,y:0});o.isObject(n)?o.mix(i,n):i.text=n;var u=e.addShape("text",{class:"label",attrs:i});return this.adjustLabelText(u),this.adjustLabelPosition(t,u),u},adjustLabelText:function(t){var e=t.attr("text"),n=t.getBBox();if(n.maxX-n.minX>400){var r=t.get("context");r.font=t.attr("font"),e=o.getLabelTextByTextLineWidth(e,r),t.attr("text",e)}},adjustLabelPosition:function(t,e){var n=this.getSize(t),r=this.getPadding(),i=n[0],o=e.getBBox();e.attr({x:-i/2+r[3],y:-o.height/2+this.dy})},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",lineHeight:18,fontSize:12}},getStyle:function(){return{fill:"#ccc",fillOpacity:0,radius:4,lineWidth:2}},getActivedStyle:function(){return{stroke:"#44C0FF",lineWidth:2}},getSelectedStyle:function(){return{stroke:"#1AA7EE",lineWidth:2}},anchor:[[0,1],[1,1]]})},function(t,e,n){"use strict";var r=n(15),i=n(16);r.registerNode("mind-placeholder",{afterDraw:function(t){var e=t.getKeyShape();e.isPlaceholder=!0},getPath:function(t){var e=t.getModel(),n=e.parentModel,r=this.getStyle(t),o=55,a=void 0,u=0;return n.hierarchy<=2?a=28:(a=20,u=4),i.getRectPath(-o/2,-a/2+u,o,a,r.radius)},getStyle:function(){return{fill:"#91D5FF",radius:4,lineWidth:3}},drawExpandedButton:function(){},drawCollapsedButton:function(){},anchor:function(){return[[0,1],[1,1]]}})},function(t,e,n){"use strict";var r=n(15),i=n(16);r.registerNode("mind-root",{adjustLabelPosition:function(t,e){var n=e.getBBox();e.attr({x:-n.width/2,y:-n.height/2-1})},getPath:function(t){var e=this.getSize(t),n=this.getStyle(t);return i.getRectPath(-e[0]/2,-e[1]/2,e[0],e[1],n.radius)},getButtonPositon:function(t,e,n){return"right"===n?{x:t.maxX+2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}:{x:t.minX-(e.maxX-e.minX)-2,y:(t.maxY+t.minY)/2-(e.maxY-e.minY)/2}},getPadding:function(){return i.toAllPadding([12,24])},getStyle:function(){return{fill:"#587EF7",stroke:"#587EF7",fillOpacity:1,radius:4}},getLabelStyle:function(){return{fontSize:20,fill:"white",lineHeight:28}},drawExpandedButton:function(){},drawCollapsedButton:function(){},panAble:!1,anchor:[[.45,.5],[.55,.5]]},"mind-first-sub")},function(t,e,n){"use strict";var r=n(15);r.registerNode("mind-second-sub",{dy:0,getPadding:function(){return[8,4,8,4]},getLabelStyle:function(){return{fill:"rgba(38,38,38,0.85)",fontSize:12,lineHeight:20}}},"mind-node")},function(t,e,n){"use strict";function r(t,e){for(var n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++){var i=n[r],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}return t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):r(t,e))}var u=n(12),s=n(17),c=function(t){function e(){return i(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.getDefaultCfg=function(){return{type:"toolbar",container:null}},e.prototype.init=function(){this._initContainer()},e.prototype._initContainer=function(){var t=this.container;if(!t)throw new Error("please set the container for the toolbar !");u.isString(t)&&(t=document.getElementById(t));var e=t.getElementsByClassName("command");this.commands=e},e.prototype.getCommandDoms=function(){return this.commands},e}(s);t.exports=c},function(t,e,n){"use strict";var r=n(14),i=r.Util;t.exports={getGroupIconPath:function(){return"M9.75,9.60000014 L3.75,9.60000014 C3.33578644,9.60000014 3,9.2865995 3,8.90000022 C3,8.51340093 3.33578644,8.20000029 3.75,8.20000029 L9.75,8.20000029 C10.1642136,8.20000029 10.5,8.51340093 10.5,8.90000022 C10.5,9.2865995 10.1642136,9.60000014 9.75,9.60000014 M3,11.6999999 C3,11.3134006 3.33578644,11 3.75,11 L6.75,11 C7.16421356,11 7.5,11.3134006 7.5,11.6999999 C7.5,12.0865992 7.16421356,12.3999999 6.75,12.3999999 L3.75,12.3999999 C3.33578644,12.3999999 3,12.0865992 3,11.6999999 M3.75,13.7999997 L6.75,13.7999997 C7.16421356,13.7999997 7.5,14.1134004 7.5,14.4999996 C7.5,14.8865989 7.16421356,15.1999996 6.75,15.1999996 L3.75,15.1999996 C3.33578644,15.1999996 3,14.8865989 3,14.4999996 C3,14.1134004 3.33578644,13.7999997 3.75,13.7999997 M16.4985,4.00000072 L1.5015,4.00000072 C0.674533504,3.99922416 0.00289396564,4.6232696 0,5.39510058 L0,16.6048994 C0.00289396564,17.3767304 0.674533504,18.0007758 1.5015,17.9999993 L16.4985,17.9999993 C17.3254665,18.0007758 17.997106,17.3767304 18,16.6048994 L18,5.39510058 C17.997106,4.6232696 17.3254665,3.99922416 16.4985,4.00000072M19,13.9999993 L19,3 L5,3 L5,1.39510058 C5.00289397,0.623269599 5.6745335,-0.00077583787 6.5015,7.23978642e-07 L21.4985,7.23978642e-07 C22.3254665,-0.00077583787 22.997106,0.623269599 23,1.39510058 L23,12.6048994 C22.997106,13.3767304 22.3254665,14.0007758 21.4985,13.9999993 L19,13.9999993 Z"},getCollapsedButtonPath:function(){var t=14,e=14,n=i.getRectPath(0,0,t,e,2);return n+"M"+3*t/14+","+e/2+"L"+11*t/14+","+e/2},getExpandedButtonPath:function(){var t=14,e=14,n=i.getRectPath(0,0,t,e,2),r="M"+3*t/14+","+e/2+"L"+11*t/14+","+e/2,o="M"+t/2+","+3*e/14+"L"+t/2+","+11*e/14;return n+r+o}}},function(t,e){"use strict";t.exports="1.0.0-beta.73"},function(t,e,n){var r=n(19),i=n(11),o=r(i,"DataView");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(314),o=n(315),a=n(316),u=n(317),s=n(318);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=u,r.prototype.set=s,t.exports=r},function(t,e,n){var r=n(19),i=n(11),o=r(i,"Promise");t.exports=o},function(t,e,n){var r=n(19),i=n(11),o=r(i,"WeakMap");t.exports=o},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e,n){function r(t,e){var n=null==t?0:t.length;return!!n&&i(t,e,0)>-1}var i=n(92);t.exports=r},function(t,e){function n(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e){function n(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(r)||[]}var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(27),o=n(24);t.exports=r},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(27),o=n(51);t.exports=r},function(t,e,n){var r=n(8),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(88);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e,n){function r(t,e,n,a,u){var s=-1,c=t.length;for(n||(n=o),u||(u=[]);++s<c;){var f=t[s];e>0&&n(f)?e>1?r(f,e-1,n,a,u):i(u,f):a||(u[u.length]=f)}return u}var i=n(56),o=n(321);t.exports=r},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(89),o=n(24);t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(13),o=n(9),a="[object Arguments]";t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(13),o=n(9),a="[object Date]";t.exports=r},function(t,e,n){function r(t,e,n,r,v,y){var x=c(t),b=c(e),_=x?p:s(t),w=b?p:s(e);_=_==d?g:_,w=w==d?g:w;var S=_==g,M=w==g,O=_==w;if(O&&f(t)){if(!f(e))return!1;x=!0,S=!1}if(O&&!S)return y||(y=new i),x||h(t)?o(t,e,n,r,v,y):a(t,e,_,n,r,v,y);if(!(n&l)){var P=S&&m.call(t,"__wrapped__"),E=M&&m.call(e,"__wrapped__");if(P||E){var A=P?t.value():t,j=E?e.value():e;return y||(y=new i),v(A,j,n,r,y)}}return!!O&&(y||(y=new i),u(t,e,n,r,v,y))}var i=n(37),o=n(102),a=n(306),u=n(307),s=n(23),c=n(6),f=n(30),h=n(50),l=1,d="[object Arguments]",p="[object Array]",g="[object Object]",v=Object.prototype,m=v.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(23),o=n(9),a="[object Map]";t.exports=r},function(t,e,n){function r(t,e,n,r){var s=n.length,c=s,f=!r;if(null==t)return!c;for(t=Object(t);s--;){var h=n[s];if(f&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++s<c;){h=n[s];var l=h[0],d=t[l],p=h[1];if(f&&h[2]){if(void 0===d&&!(l in t))return!1}else{var g=new i;if(r)var v=r(d,p,l,t,e,g);if(!(void 0===v?o(p,d,a|u,r,g):v))return!1}}return!0}var i=n(37),o=n(39),a=1,u=2;t.exports=r},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e,n){function r(t){if(!a(t)||o(t))return!1;var e=i(t)?p:c;return e.test(u(t))}var i=n(48),o=n(324),a=n(8),u=n(114),s=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,h=Object.prototype,l=f.toString,d=h.hasOwnProperty,p=RegExp("^"+l.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(23),o=n(9),a="[object Set]";t.exports=r},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!k[i(t)]}var i=n(13),o=n(64),a=n(9),u="[object Arguments]",s="[object Array]",c="[object Boolean]",f="[object Date]",h="[object Error]",l="[object Function]",d="[object Map]",p="[object Number]",g="[object Object]",v="[object RegExp]",m="[object Set]",y="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",_="[object DataView]",w="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",O="[object Int16Array]",P="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]",k={};k[w]=k[S]=k[M]=k[O]=k[P]=k[E]=k[A]=k[j]=k[C]=!0,k[u]=k[s]=k[b]=k[c]=k[_]=k[f]=k[h]=k[l]=k[d]=k[p]=k[g]=k[v]=k[m]=k[y]=k[x]=!1,t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?u(t)?o(t[0],t[1]):i(t):s(t)}var i=n(279),o=n(280),a=n(47),u=n(6),s=n(380);t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&s.call(t,r))&&n.push(r);return n}var i=n(8),o=n(42),a=n(338),u=Object.prototype,s=u.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(272),o=n(309),a=n(110);t.exports=r},function(t,e,n){function r(t,e){return u(t)&&s(e)?c(f(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,h|l)}}var i=n(39),o=n(361),a=n(362),u=n(63),s=n(108),c=n(110),f=n(46),h=1,l=2;t.exports=r},function(t,e,n){function r(t,e,n,h,l){t!==e&&a(e,function(a,c){if(s(a))l||(l=new i),u(t,e,c,n,r,h,l);else{var d=h?h(f(t,c),a,c+"",t,e,l):void 0;void 0===d&&(d=a),o(t,c,d)}},c)}var i=n(37),o=n(85),a=n(89),u=n(282),s=n(8),c=n(51),f=n(112);t.exports=r},function(t,e,n){function r(t,e,n,r,x,b,_){var w=m(t,n),S=m(e,n),M=_.get(S);if(M)return void i(t,n,M);var O=b?b(w,S,n+"",t,e,_):void 0,P=void 0===O;if(P){var E=f(S),A=!E&&l(S),j=!E&&!A&&v(S);O=S,E||A||j?f(w)?O=w:h(w)?O=u(w):A?(P=!1,O=o(S,!0)):j?(P=!1,O=a(S,!0)):O=[]:g(S)||c(S)?(O=w,c(w)?O=y(w):(!p(w)||r&&d(w))&&(O=s(S))):P=!1}P&&(_.set(S,O),x(O,S,r,b,_),_.delete(S)),i(t,n,O)}var i=n(85),o=n(98),a=n(99),u=n(59),s=n(107),c=n(29),f=n(6),h=n(116),l=n(30),d=n(48),p=n(8),g=n(117),v=n(50),m=n(112),y=n(387);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(90);t.exports=r},function(t,e){function n(t){return function(e){return null==t?void 0:t[e]}}t.exports=n},function(t,e,n){var r=n(356),i=n(101),o=n(47),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(u(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-s?"-0":e}var i=n(18),o=n(84),a=n(6),u=n(49),s=1/0,c=i?i.prototype:void 0,f=c?c.toString:void 0;t.exports=r},function(t,e,n){function r(t,e){return i(e,function(e){return t[e]})}var i=n(84);t.exports=r},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(47);t.exports=r},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}var i=n(287);t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(58);t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(18),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(27),o=n(61);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(27),o=n(105);t.exports=r},function(t,e,n){var r=n(11),i=r["__core-js_shared__"];t.exports=i},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}var i=n(94),o=n(322);t.exports=r},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,u=Object(n);(e?a--:++a<o)&&r(u[a],a,u)!==!1;);return n}}var i=n(20);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(n(o[s],s,o)===!1)break}return e}}t.exports=n},function(t,e,n){function r(t){return function(e){return i(a(o(e).replace(s,"")),t,"")}}var i=n(256),o=n(357),a=n(393),u="['\u2019]",s=RegExp(u,"g");t.exports=r},function(t,e,n){function r(t){var e=Math[t];return function(t,n){if(t=o(t),n=null==n?0:u(i(n),292)){var r=(a(t)+"e").split("e"),s=e(r[0]+"e"+(+r[1]+n));return r=(a(s)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var i=n(120),o=n(65),a=n(25),u=Math.min;t.exports=r},function(t,e,n){var r=n(78),i=n(378),o=n(45),a=1/0,u=r&&1/o(new r([,-0]))[1]==a?function(t){return new r(t)}:i;t.exports=u},function(t,e,n){var r=n(285),i={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},o=r(i);t.exports=o},function(t,e,n){function r(t,e,n,r,i,S,O){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case _:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case l:case d:case v:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case m:case x:return t==e+"";case g:var P=s;case y:var E=r&f;if(P||(P=c),t.size!=e.size&&!E)return!1;var A=O.get(t);if(A)return A==e;r|=h,O.set(t,e);var j=u(P(t),P(e),r,i,S,O);return O.delete(t),j;case b:if(M)return M.call(t)==M.call(e)}return!1}var i=n(18),o=n(80),a=n(28),u=n(102),s=n(109),c=n(45),f=1,h=2,l="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Map]",v="[object Number]",m="[object RegExp]",y="[object Set]",x="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",S=i?i.prototype:void 0,M=S?S.valueOf:void 0;t.exports=r},function(t,e,n){function r(t,e,n,r,a,s){var c=n&o,f=i(t),h=f.length,l=i(e),d=l.length;if(h!=d&&!c)return!1;for(var p=h;p--;){var g=f[p];if(!(c?g in e:u.call(e,g)))return!1}var v=s.get(t);if(v&&s.get(e))return v==e;var m=!0;s.set(t,e),s.set(e,t);for(var y=c;++p<h;){g=f[p];var x=t[g],b=e[g];if(r)var _=c?r(b,x,g,e,t,s):r(x,b,g,t,e,s);if(!(void 0===_?x===b||a(x,b,n,r,s):_)){m=!1;break}y||(y="constructor"==g)}if(m&&!y){var w=t.constructor,S=e.constructor;w!=S&&"constructor"in t&&"constructor"in e&&!("function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S)&&(m=!1)}return s.delete(t),s.delete(e),m}var i=n(104),o=1,a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){return i(t,a,o)}var i=n(91),o=n(105),a=n(51);t.exports=r},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(108),o=n(24);t.exports=r},function(t,e,n){function r(t){var e=a.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=u.call(t);return r&&(e?t[s]=n:delete t[s]),i}var i=n(18),o=Object.prototype,a=o.hasOwnProperty,u=o.toString,s=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,f=e.length,h=!1;++r<f;){var l=c(e[r]);if(!(h=null!=t&&n(t,l)))break;t=t[l]}return h||++r!=f?h:(f=null==t?0:t.length,!!f&&s(f)&&u(l,f)&&(a(t)||o(t)))}var i=n(97),o=n(29),a=n(6),u=n(62),s=n(64),c=n(46);t.exports=r},function(t,e){function n(t){return r.test(t)}var r=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=n},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(43);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return u.call(e,t)?e[t]:void 0}var i=n(43),o="__lodash_hash_undefined__",a=Object.prototype,u=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(43),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(43),o="__lodash_hash_undefined__";t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case m:return i(t);case c:case f:return new r(+t);case y:return o(t,n);case x:case b:case _:case w:case S:case M:case O:case P:case E:return s(t,n);case h:return new r;case l:case g:return new r(t);case d:return a(t);case p:return new r;case v:return u(t)}}var i=n(58),o=n(293),a=n(294),u=n(295),s=n(99),c="[object Boolean]",f="[object Date]",h="[object Map]",l="[object Number]",d="[object RegExp]",p="[object Set]",g="[object String]",v="[object Symbol]",m="[object ArrayBuffer]",y="[object DataView]",x="[object Float32Array]",b="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",M="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",E="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(u&&t&&t[u])}var i=n(18),o=n(29),a=n(6),u=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){function r(t,e,n){if(!u(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(28),o=n(20),a=n(62),u=n(8);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return!!o&&o in t}var i=n(298),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e){function n(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}t.exports=n},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),--this.size,!0}var i=n(38),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(38);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(38);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(38);t.exports=r},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(250),o=n(36),a=n(54);t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(41);t.exports=r},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(41);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(41);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(41);t.exports=r},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(376),o=500;t.exports=r},function(t,e,n){var r=n(111),i=r(Object.keys,Object);t.exports=i},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);
return e}t.exports=n},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,u=o(r.length-e,0),s=Array(u);++a<u;)s[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(s),i(t,this,c)}}var i=n(253),o=Math.max;t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){var r=n(286),i=n(344),o=i(r);t.exports=o},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),u=i-(a-n);if(n=a,u>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(36);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<u-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(36),o=n(54),a=n(55),u=200;t.exports=r},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){var r=n(336),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e){function n(t){return t.match(w)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",u=i+o+a,s="\\ufe0e\\ufe0f",c="["+r+"]",f="["+u+"]",h="\\ud83c[\\udffb-\\udfff]",l="(?:"+f+"|"+h+")",d="[^"+r+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",m=l+"?",y="["+s+"]?",x="(?:"+v+"(?:"+[d,p,g].join("|")+")"+y+m+")*",b=y+m+x,_="(?:"+[d+f+"?",f,p,g,c].join("|")+")",w=RegExp(h+"(?="+h+")|"+_+b,"g");t.exports=n},function(t,e){function n(t){return t.match(R)||[]}var r="\\ud800-\\udfff",i="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",u=i+o+a,s="\\u2700-\\u27bf",c="a-z\\xdf-\\xf6\\xf8-\\xff",f="\\xac\\xb1\\xd7\\xf7",h="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",l="\\u2000-\\u206f",d=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",v=f+h+l+d,m="['\u2019]",y="["+v+"]",x="["+u+"]",b="\\d+",_="["+s+"]",w="["+c+"]",S="[^"+r+v+b+s+c+p+"]",M="\\ud83c[\\udffb-\\udfff]",O="(?:"+x+"|"+M+")",P="[^"+r+"]",E="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",j="["+p+"]",C="\\u200d",k="(?:"+w+"|"+S+")",I="(?:"+j+"|"+S+")",B="(?:"+m+"(?:d|ll|m|re|s|t|ve))?",T="(?:"+m+"(?:D|LL|M|RE|S|T|VE))?",F=O+"?",D="["+g+"]?",L="(?:"+C+"(?:"+[P,E,A].join("|")+")"+D+F+")*",N="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",G=D+F+L,X="(?:"+[_,E,A].join("|")+")"+G,R=RegExp([j+"?"+w+"+"+B+"(?="+[y,j,"$"].join("|")+")",I+"+"+T+"(?="+[y,j+k,"$"].join("|")+")",j+"?"+k+"+"+B,j+"+"+T,Y,N,b,X].join("|"),"g");t.exports=n},function(t,e,n){function r(t){return i(t,o)}var i=n(87),o=4;t.exports=r},function(t,e,n){function r(t){return i(t,o|a)}var i=n(87),o=1,a=4;t.exports=r},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t){return t=o(t),t&&t.replace(a,i).replace(l,"")}var i=n(305),o=n(25),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,u="\\u0300-\\u036f",s="\\ufe20-\\ufe2f",c="\\u20d0-\\u20ff",f=u+s+c,h="["+f+"]",l=RegExp(h,"g");t.exports=r},function(t,e,n){t.exports=n(360)},function(t,e,n){function r(t,e){var n=u(t)?i:o;return n(t,a(e,3))}var i=n(82),o=n(263),a=n(277),u=n(6);t.exports=r},function(t,e,n){function r(t,e){var n=u(t)?i:o;return n(t,a(e))}var i=n(81),o=n(88),a=n(291),u=n(6);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(90);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(267),o=n(312);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var u=null==n?0:o(n);return u<0&&(u=a(r+u,0)),i(t,e,u)}var i=n(92),o=n(120),a=Math.max;t.exports=r},function(t,e,n){function r(t){return t===!0||t===!1||o(t)&&i(t)==a}var i=n(13),o=n(9),a="[object Boolean]";t.exports=r},function(t,e,n){var r=n(269),i=n(40),o=n(44),a=o&&o.isDate,u=a?i(a):r;t.exports=u},function(t,e,n){function r(t){if(null==t)return!0;if(s(t)&&(u(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||h(t)||a(t)))return!t.length;var e=o(t);if(e==l||e==d)return!t.size;if(f(t))return!i(t).length;for(var n in t)if(g.call(t,n))return!1;return!0}var i=n(93),o=n(23),a=n(29),u=n(6),s=n(20),c=n(30),f=n(42),h=n(50),l="[object Map]",d="[object Set]",p=Object.prototype,g=p.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return i(t,e)}var i=n(39);t.exports=r},function(t,e,n){function r(t,e,n){n="function"==typeof n?n:void 0;var r=n?n(t,e):void 0;return void 0===r?i(t,e,void 0,n):!!r}var i=n(39);t.exports=r},function(t,e,n){function r(t){return"number"==typeof t&&o(t)}var i=n(11),o=i.isFinite;t.exports=r},function(t,e,n){var r=n(271),i=n(40),o=n(44),a=o&&o.isMap,u=a?i(a):r;t.exports=u},function(t,e){function n(t){return null==t}t.exports=n},function(t,e){function n(t){return null===t}t.exports=n},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&i(t)==a}var i=n(13),o=n(9),a="[object Number]";t.exports=r},function(t,e,n){var r=n(275),i=n(40),o=n(44),a=o&&o.isSet,u=a?i(a):r;t.exports=u},function(t,e,n){var r=n(100),i=r("toLowerCase");t.exports=i},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(55),o="Expected a function";r.Cache=i,t.exports=r},function(t,e,n){var r=n(281),i=n(299),o=i(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e){function n(){}t.exports=n},function(t,e,n){var r=n(11),i=function(){return r.Date.now()};t.exports=i},function(t,e,n){function r(t){return a(t)?i(u(t)):o(t)}var i=n(283),o=n(284),a=n(63),u=n(46);t.exports=r},function(t,e,n){function r(){var t=arguments,e=i(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var i=n(25);t.exports=r},function(t,e,n){var r=n(303),i=r("round");t.exports=i},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t,e,n){var r=!0,u=!0;if("function"!=typeof t)throw new TypeError(a);return o(n)&&(r="leading"in n?!!n.leading:r,u="trailing"in n?!!n.trailing:u),i(t,e,{leading:r,maxWait:e,trailing:u})}var i=n(115),o=n(8),a="Expected a function";t.exports=r},function(t,e,n){function r(t){if(!t)return[];if(u(t))return s(t)?l(t):o(t);if(v&&t[v])return c(t[v]());var e=a(t),n=e==p?f:e==g?h:d;return n(t)}var i=n(18),o=n(59),a=n(23),u=n(20),s=n(118),c=n(325),f=n(109),h=n(45),l=n(113),d=n(392),p="[object Map]",g="[object Set]",v=i?i.iterator:void 0;t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if(t=i(t),t===o||t===-o){var e=t<0?-1:1;return e*a}return t===t?t:0}var i=n(65),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(27),o=n(51);t.exports=r},function(t,e,n){var r=n(265),i=n(94),o=n(95),a=n(116),u=i(function(t){return o(r(t,1,a,!0))});t.exports=u},function(t,e,n){function r(t){return t&&t.length?i(t):[]}var i=n(95);t.exports=r},function(t,e,n){var r=n(302),i=r(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()});t.exports=i},function(t,e,n){var r=n(100),i=r("toUpperCase");t.exports=i},function(t,e,n){function r(t){return null==t?[]:i(t,o(t))}var i=n(290),o=n(24);t.exports=r},function(t,e,n){function r(t,e,n){return t=a(t),e=n?void 0:e,void 0===e?o(t)?u(t):i(t):t.match(e)||[]}var i=n(259),o=n(313),a=n(25),u=n(353);t.exports=r},function(t,e,n){var r;!function(i){function o(t,e){if(t=t?t:"",e=e||{},t instanceof o)return t;if(!(this instanceof o))return new o(t,e);var n=a(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=U(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=U(this._r)),this._g<1&&(this._g=U(this._g)),this._b<1&&(this._b=U(this._b)),this._ok=n.ok,this._tc_id=H++}function a(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof t&&(t=G(t)),"object"==typeof t&&(Y(t.r)&&Y(t.g)&&Y(t.b)?(e=u(t.r,t.g,t.b),a=!0,s="%"===String(t.r).substr(-1)?"prgb":"rgb"):Y(t.h)&&Y(t.s)&&Y(t.v)?(r=D(t.s),i=D(t.v),e=h(t.h,r,i),a=!0,s="hsv"):Y(t.h)&&Y(t.s)&&Y(t.l)&&(r=D(t.s),o=D(t.l),e=c(t.h,r,o),a=!0,s="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=j(n),{ok:a,format:t.format||s,r:W(255,q(e.r,0)),g:W(255,q(e.g,0)),b:W(255,q(e.b,0)),a:n}}function u(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}function s(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=q(t,e,n),a=W(t,e,n),u=(o+a)/2;if(o==a)r=i=0;else{var s=o-a;switch(i=u>.5?s/(2-o-a):s/(o+a),o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:i,l:u}}function c(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var i,o,a;if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)i=o=a=n;else{var u=n<.5?n*(1+e):n+e-n*e,s=2*n-u;i=r(s,u,t+1/3),o=r(s,u,t),a=r(s,u,t-1/3)}return{r:255*i,g:255*o,b:255*a}}function f(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,i,o=q(t,e,n),a=W(t,e,n),u=o,s=o-a;if(i=0===o?0:s/o,o==a)r=0;else{switch(o){case t:r=(e-n)/s+(e<n?6:0);break;case e:r=(n-t)/s+2;break;case n:r=(t-e)/s+4}r/=6}return{h:r,s:i,v:u}}function h(t,e,n){t=6*C(t,360),e=C(e,100),n=C(n,100);var r=i.floor(t),o=t-r,a=n*(1-e),u=n*(1-o*e),s=n*(1-(1-o)*e),c=r%6,f=[n,u,a,a,s,n][c],h=[s,n,n,u,a,a][c],l=[a,a,s,n,n,u][c];return{r:255*f,g:255*h,b:255*l}}function l(t,e,n,r){var i=[F(U(t).toString(16)),F(U(e).toString(16)),F(U(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function d(t,e,n,r,i){var o=[F(U(t).toString(16)),F(U(e).toString(16)),F(U(n).toString(16)),F(L(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function p(t,e,n,r){var i=[F(L(r)),F(U(t).toString(16)),F(U(e).toString(16)),F(U(n).toString(16))];return i.join("")}function g(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s-=e/100,n.s=k(n.s),o(n)}function v(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.s+=e/100,n.s=k(n.s),o(n)}function m(t){return o(t).desaturate(100)}function y(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l+=e/100,n.l=k(n.l),o(n)}function x(t,e){e=0===e?0:e||10;var n=o(t).toRgb();return n.r=q(0,W(255,n.r-U(255*-(e/100)))),n.g=q(0,W(255,n.g-U(255*-(e/100)))),n.b=q(0,W(255,n.b-U(255*-(e/100)))),o(n)}function b(t,e){e=0===e?0:e||10;var n=o(t).toHsl();return n.l-=e/100,n.l=k(n.l),o(n)}function _(t,e){var n=o(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,o(n)}function w(t){var e=o(t).toHsl();return e.h=(e.h+180)%360,o(e)}function S(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+120)%360,s:e.s,l:e.l}),o({h:(n+240)%360,s:e.s,l:e.l})]}function M(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+90)%360,s:e.s,l:e.l}),o({h:(n+180)%360,s:e.s,l:e.l}),o({h:(n+270)%360,s:e.s,l:e.l})]}function O(t){var e=o(t).toHsl(),n=e.h;return[o(t),o({h:(n+72)%360,s:e.s,l:e.l}),o({h:(n+216)%360,s:e.s,l:e.l})]}function P(t,e,n){e=e||6,n=n||30;var r=o(t).toHsl(),i=360/n,a=[o(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(o(r));return a}function E(t,e){e=e||6;for(var n=o(t).toHsv(),r=n.h,i=n.s,a=n.v,u=[],s=1/e;e--;)u.push(o({h:r,s:i,v:a})),a=(a+s)%1;return u}function A(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function j(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,e){B(t)&&(t="100%");var n=T(t);return t=W(e,q(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function k(t){return W(1,q(0,t))}function I(t){return parseInt(t,16)}function B(t){return"string"==typeof t&&t.indexOf(".")!=-1&&1===parseFloat(t)}function T(t){return"string"==typeof t&&t.indexOf("%")!=-1}function F(t){return 1==t.length?"0"+t:""+t}function D(t){return t<=1&&(t=100*t+"%"),t}function L(t){return i.round(255*parseFloat(t)).toString(16)}function N(t){return I(t)/255}function Y(t){return!!$.CSS_UNIT.exec(t)}function G(t){t=t.replace(R,"").replace(z,"").toLowerCase();var e=!1;if(Z[t])t=Z[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=$.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=$.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=$.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=$.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=$.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=$.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=$.hex8.exec(t))?{r:I(n[1]),g:I(n[2]),b:I(n[3]),a:N(n[4]),format:e?"name":"hex8"}:(n=$.hex6.exec(t))?{r:I(n[1]),g:I(n[2]),b:I(n[3]),format:e?"name":"hex"}:(n=$.hex4.exec(t))?{r:I(n[1]+""+n[1]),g:I(n[2]+""+n[2]),b:I(n[3]+""+n[3]),a:N(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=$.hex3.exec(t))&&{r:I(n[1]+""+n[1]),g:I(n[2]+""+n[2]),b:I(n[3]+""+n[3]),format:e?"name":"hex"}}function X(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var R=/^\s+/,z=/\s+$/,H=0,U=i.round,W=i.min,q=i.max,V=i.random;o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,e,n,r,o,a,u=this.toRgb();return t=u.r/255,e=u.g/255,n=u.b/255,r=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4),a=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),.2126*r+.7152*o+.0722*a},setAlpha:function(t){return this._a=j(t),this._roundA=U(100*this._a)/100,this},toHsv:function(){var t=f(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=f(this._r,this._g,this._b),e=U(360*t.h),n=U(100*t.s),r=U(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=s(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=s(this._r,this._g,this._b),e=U(360*t.h),n=U(100*t.s),r=U(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return l(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:U(this._r),g:U(this._g),b:U(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+U(this._r)+", "+U(this._g)+", "+U(this._b)+")":"rgba("+U(this._r)+", "+U(this._g)+", "+U(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:U(100*C(this._r,255))+"%",g:U(100*C(this._g,255))+"%",b:U(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+U(100*C(this._r,255))+"%, "+U(100*C(this._g,255))+"%, "+U(100*C(this._b,255))+"%)":"rgba("+U(100*C(this._r,255))+"%, "+U(100*C(this._g,255))+"%, "+U(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[l(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+p(this._r,this._g,this._b,this._a),n=e,r=this._gradientType?"GradientType = 1, ":"";if(t){var i=o(t);n="#"+p(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0,i=!e&&r&&("hex"===t||"hex6"===t||"hex3"===t||"hex4"===t||"hex8"===t||"name"===t);return i?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(y,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(g,arguments)},saturate:function(){return this._applyModification(v,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(P,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(M,arguments)}},o.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var r in t)t.hasOwnProperty(r)&&("a"===r?n[r]=t[r]:n[r]=D(t[r]));t=n}return o(t,e)},o.equals=function(t,e){return!(!t||!e)&&o(t).toRgbString()==o(e).toRgbString()},o.random=function(){return o.fromRatio({r:V(),g:V(),b:V()})},o.mix=function(t,e,n){n=0===n?0:n||50;var r=o(t).toRgb(),i=o(e).toRgb(),a=n/100,u={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return o(u)},o.readability=function(t,e){var n=o(t),r=o(e);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},o.isReadable=function(t,e,n){var r,i,a=o.readability(t,e);switch(i=!1,r=X(n),r.level+r.size){case"AAsmall":case"AAAlarge":i=a>=4.5;break;case"AAlarge":i=a>=3;break;case"AAAsmall":i=a>=7}return i},o.mostReadable=function(t,e,n){var r,i,a,u,s=null,c=0;n=n||{},i=n.includeFallbackColors,a=n.level,u=n.size;for(var f=0;f<e.length;f++)r=o.readability(t,e[f]),r>c&&(c=r,s=o(e[f]));return o.isReadable(t,s,{level:a,size:u})||!i?s:(n.includeFallbackColors=!1,o.mostReadable(t,["#fff","#000"],n))};var Z=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=o.hexNames=A(Z),$=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof t&&t.exports?t.exports=o:(r=function(){return o}.call(e,n,e,t),!(void 0!==r&&(t.exports=r)))}(Math)},function(t,e,n,r){"use strict";t.exports={common:n(r)}}]))});